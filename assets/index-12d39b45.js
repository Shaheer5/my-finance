function w$(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function E$(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rx={exports:{}},Cm={},ix={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th=Symbol.for("react.element"),T$=Symbol.for("react.portal"),b$=Symbol.for("react.fragment"),I$=Symbol.for("react.strict_mode"),S$=Symbol.for("react.profiler"),C$=Symbol.for("react.provider"),k$=Symbol.for("react.context"),N$=Symbol.for("react.forward_ref"),A$=Symbol.for("react.suspense"),R$=Symbol.for("react.memo"),P$=Symbol.for("react.lazy"),QN=Symbol.iterator;function O$(e){return e===null||typeof e!="object"?null:(e=QN&&e[QN]||e["@@iterator"],typeof e=="function"?e:null)}var ox={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sx=Object.assign,ax={};function Pl(e,t,n){this.props=e,this.context=t,this.refs=ax,this.updater=n||ox}Pl.prototype.isReactComponent={};Pl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ux(){}ux.prototype=Pl.prototype;function U1(e,t,n){this.props=e,this.context=t,this.refs=ax,this.updater=n||ox}var j1=U1.prototype=new ux;j1.constructor=U1;sx(j1,Pl.prototype);j1.isPureReactComponent=!0;var YN=Array.isArray,lx=Object.prototype.hasOwnProperty,V1={current:null},cx={key:!0,ref:!0,__self:!0,__source:!0};function fx(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)lx.call(t,r)&&!cx.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Th,type:e,key:s,ref:a,props:i,_owner:V1.current}}function x$(e,t){return{$$typeof:Th,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function B1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Th}function D$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var XN=/\/+/g;function b_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D$(""+e.key):t.toString(36)}function jp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Th:case T$:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+b_(a,0):r,YN(i)?(n="",e!=null&&(n=e.replace(XN,"$&/")+"/"),jp(i,t,n,"",function(h){return h})):i!=null&&(B1(i)&&(i=x$(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(XN,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",YN(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+b_(s,l);a+=jp(s,t,n,c,i)}else if(c=O$(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+b_(s,l++),a+=jp(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function op(e,t,n){if(e==null)return e;var r=[],i=0;return jp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function L$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},Vp={transition:null},M$={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:Vp,ReactCurrentOwner:V1};be.Children={map:op,forEach:function(e,t,n){op(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return op(e,function(){t++}),t},toArray:function(e){return op(e,function(t){return t})||[]},only:function(e){if(!B1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Pl;be.Fragment=b$;be.Profiler=S$;be.PureComponent=U1;be.StrictMode=I$;be.Suspense=A$;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M$;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sx({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=V1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)lx.call(t,c)&&!cx.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Th,type:e.type,key:i,ref:s,props:r,_owner:a}};be.createContext=function(e){return e={$$typeof:k$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:C$,_context:e},e.Consumer=e};be.createElement=fx;be.createFactory=function(e){var t=fx.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:N$,render:e}};be.isValidElement=B1;be.lazy=function(e){return{$$typeof:P$,_payload:{_status:-1,_result:e},_init:L$}};be.memo=function(e,t){return{$$typeof:R$,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Vp.transition;Vp.transition={};try{e()}finally{Vp.transition=t}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(e,t){return Pn.current.useCallback(e,t)};be.useContext=function(e){return Pn.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};be.useEffect=function(e,t){return Pn.current.useEffect(e,t)};be.useId=function(){return Pn.current.useId()};be.useImperativeHandle=function(e,t,n){return Pn.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Pn.current.useMemo(e,t)};be.useReducer=function(e,t,n){return Pn.current.useReducer(e,t,n)};be.useRef=function(e){return Pn.current.useRef(e)};be.useState=function(e){return Pn.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return Pn.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return Pn.current.useTransition()};be.version="18.2.0";ix.exports=be;var F=ix.exports;const Me=E$(F),F$=w$({__proto__:null,default:Me},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U$=F,j$=Symbol.for("react.element"),V$=Symbol.for("react.fragment"),B$=Object.prototype.hasOwnProperty,$$=U$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q$={key:!0,ref:!0,__self:!0,__source:!0};function hx(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)B$.call(t,r)&&!q$.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:j$,type:e,key:s,ref:a,props:i,_owner:$$.current}}Cm.Fragment=V$;Cm.jsx=hx;Cm.jsxs=hx;rx.exports=Cm;var G=rx.exports,Fw={},dx={exports:{}},vr={},px={exports:{}},vx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,ie){var ue=z.length;z.push(ie);e:for(;0<ue;){var qe=ue-1>>>1,ct=z[qe];if(0<i(ct,ie))z[qe]=ie,z[ue]=ct,ue=qe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ie=z[0],ue=z.pop();if(ue!==ie){z[0]=ue;e:for(var qe=0,ct=z.length,bs=ct>>>1;qe<bs;){var ui=2*(qe+1)-1,tc=z[ui],jr=ui+1,Is=z[jr];if(0>i(tc,ue))jr<ct&&0>i(Is,tc)?(z[qe]=Is,z[jr]=ue,qe=jr):(z[qe]=tc,z[ui]=ue,qe=ui);else if(jr<ct&&0>i(Is,ue))z[qe]=Is,z[jr]=ue,qe=jr;else break e}}return ie}function i(z,ie){var ue=z.sortIndex-ie.sortIndex;return ue!==0?ue:z.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,v=null,g=3,y=!1,w=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var ie=n(h);ie!==null;){if(ie.callback===null)r(h);else if(ie.startTime<=z)r(h),ie.sortIndex=ie.expirationTime,t(c,ie);else break;ie=n(h)}}function P(z){if(b=!1,C(z),!w)if(n(c)!==null)w=!0,Ze(O);else{var ie=n(h);ie!==null&&tn(P,ie.startTime-z)}}function O(z,ie){w=!1,b&&(b=!1,E(M),M=-1),y=!0;var ue=g;try{for(C(ie),v=n(c);v!==null&&(!(v.expirationTime>ie)||z&&!$e());){var qe=v.callback;if(typeof qe=="function"){v.callback=null,g=v.priorityLevel;var ct=qe(v.expirationTime<=ie);ie=e.unstable_now(),typeof ct=="function"?v.callback=ct:v===n(c)&&r(c),C(ie)}else r(c);v=n(c)}if(v!==null)var bs=!0;else{var ui=n(h);ui!==null&&tn(P,ui.startTime-ie),bs=!1}return bs}finally{v=null,g=ue,y=!1}}var x=!1,V=null,M=-1,re=5,N=-1;function $e(){return!(e.unstable_now()-N<re)}function Ke(){if(V!==null){var z=e.unstable_now();N=z;var ie=!0;try{ie=V(!0,z)}finally{ie?qt():(x=!1,V=null)}}else x=!1}var qt;if(typeof I=="function")qt=function(){I(Ke)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,mn=gt.port2;gt.port1.onmessage=Ke,qt=function(){mn.postMessage(null)}}else qt=function(){S(Ke,0)};function Ze(z){V=z,x||(x=!0,qt())}function tn(z,ie){M=S(function(){z(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,Ze(O))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var ue=g;g=ie;try{return z()}finally{g=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,ie){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ue=g;g=z;try{return ie()}finally{g=ue}},e.unstable_scheduleCallback=function(z,ie,ue){var qe=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?qe+ue:qe):ue=qe,z){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=ue+ct,z={id:d++,callback:ie,priorityLevel:z,startTime:ue,expirationTime:ct,sortIndex:-1},ue>qe?(z.sortIndex=ue,t(h,z),n(c)===null&&z===n(h)&&(b?(E(M),M=-1):b=!0,tn(P,ue-qe))):(z.sortIndex=ct,t(c,z),w||y||(w=!0,Ze(O))),z},e.unstable_shouldYield=$e,e.unstable_wrapCallback=function(z){var ie=g;return function(){var ue=g;g=ie;try{return z.apply(this,arguments)}finally{g=ue}}}})(vx);px.exports=vx;var z$=px.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx=F,cr=z$;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gx=new Set,Of={};function Ma(e,t){el(e,t),el(e+"Capture",t)}function el(e,t){for(Of[e]=t,e=0;e<t.length;e++)gx.add(t[e])}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uw=Object.prototype.hasOwnProperty,W$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JN={},ZN={};function H$(e){return Uw.call(ZN,e)?!0:Uw.call(JN,e)?!1:W$.test(e)?ZN[e]=!0:(JN[e]=!0,!1)}function K$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function G$(e,t,n,r){if(t===null||typeof t>"u"||K$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function On(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zt[e]=new On(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zt[t]=new On(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zt[e]=new On(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zt[e]=new On(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zt[e]=new On(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zt[e]=new On(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zt[e]=new On(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zt[e]=new On(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zt[e]=new On(e,5,!1,e.toLowerCase(),null,!1,!1)});var $1=/[\-:]([a-z])/g;function q1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($1,q1);Zt[t]=new On(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($1,q1);Zt[t]=new On(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($1,q1);Zt[t]=new On(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zt[e]=new On(e,1,!1,e.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zt[e]=new On(e,1,!1,e.toLowerCase(),null,!0,!0)});function z1(e,t,n,r){var i=Zt.hasOwnProperty(t)?Zt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(G$(t,n,i,r)&&(n=null),r||i===null?H$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ao=mx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sp=Symbol.for("react.element"),Au=Symbol.for("react.portal"),Ru=Symbol.for("react.fragment"),W1=Symbol.for("react.strict_mode"),jw=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),_x=Symbol.for("react.context"),H1=Symbol.for("react.forward_ref"),Vw=Symbol.for("react.suspense"),Bw=Symbol.for("react.suspense_list"),K1=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),wx=Symbol.for("react.offscreen"),eA=Symbol.iterator;function Uc(e){return e===null||typeof e!="object"?null:(e=eA&&e[eA]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,I_;function ef(e){if(I_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I_=t&&t[1]||""}return`
`+I_+e}var S_=!1;function C_(e,t){if(!e||S_)return"";S_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{S_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ef(e):""}function Q$(e){switch(e.tag){case 5:return ef(e.type);case 16:return ef("Lazy");case 13:return ef("Suspense");case 19:return ef("SuspenseList");case 0:case 2:case 15:return e=C_(e.type,!1),e;case 11:return e=C_(e.type.render,!1),e;case 1:return e=C_(e.type,!0),e;default:return""}}function $w(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ru:return"Fragment";case Au:return"Portal";case jw:return"Profiler";case W1:return"StrictMode";case Vw:return"Suspense";case Bw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _x:return(e.displayName||"Context")+".Consumer";case yx:return(e._context.displayName||"Context")+".Provider";case H1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K1:return t=e.displayName||null,t!==null?t:$w(e.type)||"Memo";case ko:t=e._payload,e=e._init;try{return $w(e(t))}catch{}}return null}function Y$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $w(t);case 8:return t===W1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ex(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X$(e){var t=Ex(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ap(e){e._valueTracker||(e._valueTracker=X$(e))}function Tx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ex(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function av(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qw(e,t){var n=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ns(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bx(e,t){t=t.checked,t!=null&&z1(e,"checked",t,!1)}function zw(e,t){bx(e,t);var n=ns(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ww(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ww(e,t.type,ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ww(e,t,n){(t!=="number"||av(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tf=Array.isArray;function qu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ns(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(tf(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ns(n)}}function Ix(e,t){var n=ns(t.value),r=ns(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function iA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var up,Cx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(up=up||document.createElement("div"),up.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=up.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J$=["Webkit","ms","Moz","O"];Object.keys(uf).forEach(function(e){J$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),uf[t]=uf[e]})});function kx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||uf.hasOwnProperty(e)&&uf[e]?(""+t).trim():t+"px"}function Nx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Z$=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gw(e,t){if(t){if(Z$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Qw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yw=null;function G1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xw=null,zu=null,Wu=null;function oA(e){if(e=Sh(e)){if(typeof Xw!="function")throw Error($(280));var t=e.stateNode;t&&(t=Pm(t),Xw(e.stateNode,e.type,t))}}function Ax(e){zu?Wu?Wu.push(e):Wu=[e]:zu=e}function Rx(){if(zu){var e=zu,t=Wu;if(Wu=zu=null,oA(e),t)for(e=0;e<t.length;e++)oA(t[e])}}function Px(e,t){return e(t)}function Ox(){}var k_=!1;function xx(e,t,n){if(k_)return e(t,n);k_=!0;try{return Px(e,t,n)}finally{k_=!1,(zu!==null||Wu!==null)&&(Ox(),Rx())}}function Df(e,t){var n=e.stateNode;if(n===null)return null;var r=Pm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Jw=!1;if(Zi)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){Jw=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{Jw=!1}function eq(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(d){this.onError(d)}}var lf=!1,uv=null,lv=!1,Zw=null,tq={onError:function(e){lf=!0,uv=e}};function nq(e,t,n,r,i,s,a,l,c){lf=!1,uv=null,eq.apply(tq,arguments)}function rq(e,t,n,r,i,s,a,l,c){if(nq.apply(this,arguments),lf){if(lf){var h=uv;lf=!1,uv=null}else throw Error($(198));lv||(lv=!0,Zw=h)}}function Fa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Dx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sA(e){if(Fa(e)!==e)throw Error($(188))}function iq(e){var t=e.alternate;if(!t){if(t=Fa(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sA(i),e;if(s===r)return sA(i),t;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Lx(e){return e=iq(e),e!==null?Mx(e):null}function Mx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mx(e);if(t!==null)return t;e=e.sibling}return null}var Fx=cr.unstable_scheduleCallback,aA=cr.unstable_cancelCallback,oq=cr.unstable_shouldYield,sq=cr.unstable_requestPaint,pt=cr.unstable_now,aq=cr.unstable_getCurrentPriorityLevel,Q1=cr.unstable_ImmediatePriority,Ux=cr.unstable_UserBlockingPriority,cv=cr.unstable_NormalPriority,uq=cr.unstable_LowPriority,jx=cr.unstable_IdlePriority,km=null,Ti=null;function lq(e){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(km,e,void 0,(e.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:hq,cq=Math.log,fq=Math.LN2;function hq(e){return e>>>=0,e===0?32:31-(cq(e)/fq|0)|0}var lp=64,cp=4194304;function nf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=nf(l):(s&=a,s!==0&&(r=nf(s)))}else a=n&~i,a!==0?r=nf(a):s!==0&&(r=nf(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ni(t),i=1<<n,r|=e[n],t&=~i;return r}function dq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pq(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ni(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=dq(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function eE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vx(){var e=lp;return lp<<=1,!(lp&4194240)&&(lp=64),e}function N_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ni(t),e[t]=n}function vq(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ni(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Y1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ni(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var De=0;function Bx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $x,X1,qx,zx,Wx,tE=!1,fp=[],$o=null,qo=null,zo=null,Lf=new Map,Mf=new Map,Ro=[],mq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uA(e,t){switch(e){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":Lf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mf.delete(t.pointerId)}}function Vc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Sh(t),t!==null&&X1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gq(e,t,n,r,i){switch(t){case"focusin":return $o=Vc($o,e,t,n,r,i),!0;case"dragenter":return qo=Vc(qo,e,t,n,r,i),!0;case"mouseover":return zo=Vc(zo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lf.set(s,Vc(Lf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mf.set(s,Vc(Mf.get(s)||null,e,t,n,r,i)),!0}return!1}function Hx(e){var t=ea(e.target);if(t!==null){var n=Fa(t);if(n!==null){if(t=n.tag,t===13){if(t=Dx(n),t!==null){e.blockedOn=t,Wx(e.priority,function(){qx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yw=r,n.target.dispatchEvent(r),Yw=null}else return t=Sh(n),t!==null&&X1(t),e.blockedOn=n,!1;t.shift()}return!0}function lA(e,t,n){Bp(e)&&n.delete(t)}function yq(){tE=!1,$o!==null&&Bp($o)&&($o=null),qo!==null&&Bp(qo)&&(qo=null),zo!==null&&Bp(zo)&&(zo=null),Lf.forEach(lA),Mf.forEach(lA)}function Bc(e,t){e.blockedOn===t&&(e.blockedOn=null,tE||(tE=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,yq)))}function Ff(e){function t(i){return Bc(i,e)}if(0<fp.length){Bc(fp[0],e);for(var n=1;n<fp.length;n++){var r=fp[n];r.blockedOn===e&&(r.blockedOn=null)}}for($o!==null&&Bc($o,e),qo!==null&&Bc(qo,e),zo!==null&&Bc(zo,e),Lf.forEach(t),Mf.forEach(t),n=0;n<Ro.length;n++)r=Ro[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ro.length&&(n=Ro[0],n.blockedOn===null);)Hx(n),n.blockedOn===null&&Ro.shift()}var Hu=ao.ReactCurrentBatchConfig,hv=!0;function _q(e,t,n,r){var i=De,s=Hu.transition;Hu.transition=null;try{De=1,J1(e,t,n,r)}finally{De=i,Hu.transition=s}}function wq(e,t,n,r){var i=De,s=Hu.transition;Hu.transition=null;try{De=4,J1(e,t,n,r)}finally{De=i,Hu.transition=s}}function J1(e,t,n,r){if(hv){var i=nE(e,t,n,r);if(i===null)U_(e,t,r,dv,n),uA(e,r);else if(gq(i,e,t,n,r))r.stopPropagation();else if(uA(e,r),t&4&&-1<mq.indexOf(e)){for(;i!==null;){var s=Sh(i);if(s!==null&&$x(s),s=nE(e,t,n,r),s===null&&U_(e,t,r,dv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else U_(e,t,r,null,n)}}var dv=null;function nE(e,t,n,r){if(dv=null,e=G1(r),e=ea(e),e!==null)if(t=Fa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Dx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dv=e,null}function Kx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aq()){case Q1:return 1;case Ux:return 4;case cv:case uq:return 16;case jx:return 536870912;default:return 16}default:return 16}}var Mo=null,Z1=null,$p=null;function Gx(){if($p)return $p;var e,t=Z1,n=t.length,r,i="value"in Mo?Mo.value:Mo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return $p=i.slice(e,1<r?1-r:void 0)}function qp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hp(){return!0}function cA(){return!1}function mr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hp:cA,this.isPropagationStopped=cA,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hp)},persist:function(){},isPersistent:hp}),t}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eT=mr(Ol),Ih=st({},Ol,{view:0,detail:0}),Eq=mr(Ih),A_,R_,$c,Nm=st({},Ih,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$c&&($c&&e.type==="mousemove"?(A_=e.screenX-$c.screenX,R_=e.screenY-$c.screenY):R_=A_=0,$c=e),A_)},movementY:function(e){return"movementY"in e?e.movementY:R_}}),fA=mr(Nm),Tq=st({},Nm,{dataTransfer:0}),bq=mr(Tq),Iq=st({},Ih,{relatedTarget:0}),P_=mr(Iq),Sq=st({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),Cq=mr(Sq),kq=st({},Ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nq=mr(kq),Aq=st({},Ol,{data:0}),hA=mr(Aq),Rq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xq(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Oq[e])?!!t[e]:!1}function tT(){return xq}var Dq=st({},Ih,{key:function(e){if(e.key){var t=Rq[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pq[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tT,charCode:function(e){return e.type==="keypress"?qp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lq=mr(Dq),Mq=st({},Nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dA=mr(Mq),Fq=st({},Ih,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tT}),Uq=mr(Fq),jq=st({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vq=mr(jq),Bq=st({},Nm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$q=mr(Bq),qq=[9,13,27,32],nT=Zi&&"CompositionEvent"in window,cf=null;Zi&&"documentMode"in document&&(cf=document.documentMode);var zq=Zi&&"TextEvent"in window&&!cf,Qx=Zi&&(!nT||cf&&8<cf&&11>=cf),pA=String.fromCharCode(32),vA=!1;function Yx(e,t){switch(e){case"keyup":return qq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pu=!1;function Wq(e,t){switch(e){case"compositionend":return Xx(t);case"keypress":return t.which!==32?null:(vA=!0,pA);case"textInput":return e=t.data,e===pA&&vA?null:e;default:return null}}function Hq(e,t){if(Pu)return e==="compositionend"||!nT&&Yx(e,t)?(e=Gx(),$p=Z1=Mo=null,Pu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qx&&t.locale!=="ko"?null:t.data;default:return null}}var Kq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kq[e.type]:t==="textarea"}function Jx(e,t,n,r){Ax(r),t=pv(t,"onChange"),0<t.length&&(n=new eT("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ff=null,Uf=null;function Gq(e){lD(e,0)}function Am(e){var t=Du(e);if(Tx(t))return e}function Qq(e,t){if(e==="change")return t}var Zx=!1;if(Zi){var O_;if(Zi){var x_="oninput"in document;if(!x_){var gA=document.createElement("div");gA.setAttribute("oninput","return;"),x_=typeof gA.oninput=="function"}O_=x_}else O_=!1;Zx=O_&&(!document.documentMode||9<document.documentMode)}function yA(){ff&&(ff.detachEvent("onpropertychange",eD),Uf=ff=null)}function eD(e){if(e.propertyName==="value"&&Am(Uf)){var t=[];Jx(t,Uf,e,G1(e)),xx(Gq,t)}}function Yq(e,t,n){e==="focusin"?(yA(),ff=t,Uf=n,ff.attachEvent("onpropertychange",eD)):e==="focusout"&&yA()}function Xq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Am(Uf)}function Jq(e,t){if(e==="click")return Am(t)}function Zq(e,t){if(e==="input"||e==="change")return Am(t)}function ez(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var si=typeof Object.is=="function"?Object.is:ez;function jf(e,t){if(si(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Uw.call(t,i)||!si(e[i],t[i]))return!1}return!0}function _A(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wA(e,t){var n=_A(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_A(n)}}function tD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nD(){for(var e=window,t=av();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=av(e.document)}return t}function rT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tz(e){var t=nD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tD(n.ownerDocument.documentElement,n)){if(r!==null&&rT(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=wA(n,s);var a=wA(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nz=Zi&&"documentMode"in document&&11>=document.documentMode,Ou=null,rE=null,hf=null,iE=!1;function EA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iE||Ou==null||Ou!==av(r)||(r=Ou,"selectionStart"in r&&rT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hf&&jf(hf,r)||(hf=r,r=pv(rE,"onSelect"),0<r.length&&(t=new eT("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ou)))}function dp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xu={animationend:dp("Animation","AnimationEnd"),animationiteration:dp("Animation","AnimationIteration"),animationstart:dp("Animation","AnimationStart"),transitionend:dp("Transition","TransitionEnd")},D_={},rD={};Zi&&(rD=document.createElement("div").style,"AnimationEvent"in window||(delete xu.animationend.animation,delete xu.animationiteration.animation,delete xu.animationstart.animation),"TransitionEvent"in window||delete xu.transitionend.transition);function Rm(e){if(D_[e])return D_[e];if(!xu[e])return e;var t=xu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rD)return D_[e]=t[n];return e}var iD=Rm("animationend"),oD=Rm("animationiteration"),sD=Rm("animationstart"),aD=Rm("transitionend"),uD=new Map,TA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(e,t){uD.set(e,t),Ma(t,[e])}for(var L_=0;L_<TA.length;L_++){var M_=TA[L_],rz=M_.toLowerCase(),iz=M_[0].toUpperCase()+M_.slice(1);hs(rz,"on"+iz)}hs(iD,"onAnimationEnd");hs(oD,"onAnimationIteration");hs(sD,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(aD,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oz=new Set("cancel close invalid load scroll toggle".split(" ").concat(rf));function bA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rq(r,t,void 0,e),e.currentTarget=null}function lD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;bA(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;bA(i,l,h),s=c}}}if(lv)throw e=Zw,lv=!1,Zw=null,e}function ze(e,t){var n=t[lE];n===void 0&&(n=t[lE]=new Set);var r=e+"__bubble";n.has(r)||(cD(t,e,2,!1),n.add(r))}function F_(e,t,n){var r=0;t&&(r|=4),cD(n,e,r,t)}var pp="_reactListening"+Math.random().toString(36).slice(2);function Vf(e){if(!e[pp]){e[pp]=!0,gx.forEach(function(n){n!=="selectionchange"&&(oz.has(n)||F_(n,!1,e),F_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pp]||(t[pp]=!0,F_("selectionchange",!1,t))}}function cD(e,t,n,r){switch(Kx(t)){case 1:var i=_q;break;case 4:i=wq;break;default:i=J1}n=i.bind(null,t,n,e),i=void 0,!Jw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function U_(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ea(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}xx(function(){var h=s,d=G1(n),v=[];e:{var g=uD.get(e);if(g!==void 0){var y=eT,w=e;switch(e){case"keypress":if(qp(n)===0)break e;case"keydown":case"keyup":y=Lq;break;case"focusin":w="focus",y=P_;break;case"focusout":w="blur",y=P_;break;case"beforeblur":case"afterblur":y=P_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=fA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=bq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Uq;break;case iD:case oD:case sD:y=Cq;break;case aD:y=Vq;break;case"scroll":y=Eq;break;case"wheel":y=$q;break;case"copy":case"cut":case"paste":y=Nq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=dA}var b=(t&4)!==0,S=!b&&e==="scroll",E=b?g!==null?g+"Capture":null:g;b=[];for(var I=h,C;I!==null;){C=I;var P=C.stateNode;if(C.tag===5&&P!==null&&(C=P,E!==null&&(P=Df(I,E),P!=null&&b.push(Bf(I,P,C)))),S)break;I=I.return}0<b.length&&(g=new y(g,w,null,n,d),v.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==Yw&&(w=n.relatedTarget||n.fromElement)&&(ea(w)||w[eo]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?ea(w):null,w!==null&&(S=Fa(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(b=fA,P="onMouseLeave",E="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(b=dA,P="onPointerLeave",E="onPointerEnter",I="pointer"),S=y==null?g:Du(y),C=w==null?g:Du(w),g=new b(P,I+"leave",y,n,d),g.target=S,g.relatedTarget=C,P=null,ea(d)===h&&(b=new b(E,I+"enter",w,n,d),b.target=C,b.relatedTarget=S,P=b),S=P,y&&w)t:{for(b=y,E=w,I=0,C=b;C;C=Eu(C))I++;for(C=0,P=E;P;P=Eu(P))C++;for(;0<I-C;)b=Eu(b),I--;for(;0<C-I;)E=Eu(E),C--;for(;I--;){if(b===E||E!==null&&b===E.alternate)break t;b=Eu(b),E=Eu(E)}b=null}else b=null;y!==null&&IA(v,g,y,b,!1),w!==null&&S!==null&&IA(v,S,w,b,!0)}}e:{if(g=h?Du(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var O=Qq;else if(mA(g))if(Zx)O=Zq;else{O=Xq;var x=Yq}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=Jq);if(O&&(O=O(e,h))){Jx(v,O,n,d);break e}x&&x(e,g,h),e==="focusout"&&(x=g._wrapperState)&&x.controlled&&g.type==="number"&&Ww(g,"number",g.value)}switch(x=h?Du(h):window,e){case"focusin":(mA(x)||x.contentEditable==="true")&&(Ou=x,rE=h,hf=null);break;case"focusout":hf=rE=Ou=null;break;case"mousedown":iE=!0;break;case"contextmenu":case"mouseup":case"dragend":iE=!1,EA(v,n,d);break;case"selectionchange":if(nz)break;case"keydown":case"keyup":EA(v,n,d)}var V;if(nT)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Pu?Yx(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Qx&&n.locale!=="ko"&&(Pu||M!=="onCompositionStart"?M==="onCompositionEnd"&&Pu&&(V=Gx()):(Mo=d,Z1="value"in Mo?Mo.value:Mo.textContent,Pu=!0)),x=pv(h,M),0<x.length&&(M=new hA(M,e,null,n,d),v.push({event:M,listeners:x}),V?M.data=V:(V=Xx(n),V!==null&&(M.data=V)))),(V=zq?Wq(e,n):Hq(e,n))&&(h=pv(h,"onBeforeInput"),0<h.length&&(d=new hA("onBeforeInput","beforeinput",null,n,d),v.push({event:d,listeners:h}),d.data=V))}lD(v,t)})}function Bf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Df(e,n),s!=null&&r.unshift(Bf(e,s,i)),s=Df(e,t),s!=null&&r.push(Bf(e,s,i))),e=e.return}return r}function Eu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function IA(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=Df(n,s),c!=null&&a.unshift(Bf(n,c,l))):i||(c=Df(n,s),c!=null&&a.push(Bf(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var sz=/\r\n?/g,az=/\u0000|\uFFFD/g;function SA(e){return(typeof e=="string"?e:""+e).replace(sz,`
`).replace(az,"")}function vp(e,t,n){if(t=SA(t),SA(e)!==t&&n)throw Error($(425))}function vv(){}var oE=null,sE=null;function aE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uE=typeof setTimeout=="function"?setTimeout:void 0,uz=typeof clearTimeout=="function"?clearTimeout:void 0,CA=typeof Promise=="function"?Promise:void 0,lz=typeof queueMicrotask=="function"?queueMicrotask:typeof CA<"u"?function(e){return CA.resolve(null).then(e).catch(cz)}:uE;function cz(e){setTimeout(function(){throw e})}function j_(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ff(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ff(t)}function Wo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xl=Math.random().toString(36).slice(2),wi="__reactFiber$"+xl,$f="__reactProps$"+xl,eo="__reactContainer$"+xl,lE="__reactEvents$"+xl,fz="__reactListeners$"+xl,hz="__reactHandles$"+xl;function ea(e){var t=e[wi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[eo]||n[wi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kA(e);e!==null;){if(n=e[wi])return n;e=kA(e)}return t}e=n,n=e.parentNode}return null}function Sh(e){return e=e[wi]||e[eo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Du(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Pm(e){return e[$f]||null}var cE=[],Lu=-1;function ds(e){return{current:e}}function He(e){0>Lu||(e.current=cE[Lu],cE[Lu]=null,Lu--)}function Ve(e,t){Lu++,cE[Lu]=e.current,e.current=t}var rs={},pn=ds(rs),Wn=ds(!1),ya=rs;function tl(e,t){var n=e.type.contextTypes;if(!n)return rs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Hn(e){return e=e.childContextTypes,e!=null}function mv(){He(Wn),He(pn)}function NA(e,t,n){if(pn.current!==rs)throw Error($(168));Ve(pn,t),Ve(Wn,n)}function fD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($(108,Y$(e)||"Unknown",i));return st({},n,r)}function gv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rs,ya=pn.current,Ve(pn,e),Ve(Wn,Wn.current),!0}function AA(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=fD(e,t,ya),r.__reactInternalMemoizedMergedChildContext=e,He(Wn),He(pn),Ve(pn,e)):He(Wn),Ve(Wn,n)}var zi=null,Om=!1,V_=!1;function hD(e){zi===null?zi=[e]:zi.push(e)}function dz(e){Om=!0,hD(e)}function ps(){if(!V_&&zi!==null){V_=!0;var e=0,t=De;try{var n=zi;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zi=null,Om=!1}catch(i){throw zi!==null&&(zi=zi.slice(e+1)),Fx(Q1,ps),i}finally{De=t,V_=!1}}return null}var Mu=[],Fu=0,yv=null,_v=0,Tr=[],br=0,_a=null,Wi=1,Hi="";function Ks(e,t){Mu[Fu++]=_v,Mu[Fu++]=yv,yv=e,_v=t}function dD(e,t,n){Tr[br++]=Wi,Tr[br++]=Hi,Tr[br++]=_a,_a=e;var r=Wi;e=Hi;var i=32-ni(r)-1;r&=~(1<<i),n+=1;var s=32-ni(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wi=1<<32-ni(t)+i|n<<i|r,Hi=s+e}else Wi=1<<s|n<<i|r,Hi=e}function iT(e){e.return!==null&&(Ks(e,1),dD(e,1,0))}function oT(e){for(;e===yv;)yv=Mu[--Fu],Mu[Fu]=null,_v=Mu[--Fu],Mu[Fu]=null;for(;e===_a;)_a=Tr[--br],Tr[br]=null,Hi=Tr[--br],Tr[br]=null,Wi=Tr[--br],Tr[br]=null}var lr=null,sr=null,Ye=!1,ei=null;function pD(e,t){var n=Ir(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function RA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lr=e,sr=Wo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lr=e,sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_a!==null?{id:Wi,overflow:Hi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ir(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lr=e,sr=null,!0):!1;default:return!1}}function fE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hE(e){if(Ye){var t=sr;if(t){var n=t;if(!RA(e,t)){if(fE(e))throw Error($(418));t=Wo(n.nextSibling);var r=lr;t&&RA(e,t)?pD(r,n):(e.flags=e.flags&-4097|2,Ye=!1,lr=e)}}else{if(fE(e))throw Error($(418));e.flags=e.flags&-4097|2,Ye=!1,lr=e}}}function PA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lr=e}function mp(e){if(e!==lr)return!1;if(!Ye)return PA(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!aE(e.type,e.memoizedProps)),t&&(t=sr)){if(fE(e))throw vD(),Error($(418));for(;t;)pD(e,t),t=Wo(t.nextSibling)}if(PA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sr=Wo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sr=null}}else sr=lr?Wo(e.stateNode.nextSibling):null;return!0}function vD(){for(var e=sr;e;)e=Wo(e.nextSibling)}function nl(){sr=lr=null,Ye=!1}function sT(e){ei===null?ei=[e]:ei.push(e)}var pz=ao.ReactCurrentBatchConfig;function Xr(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var wv=ds(null),Ev=null,Uu=null,aT=null;function uT(){aT=Uu=Ev=null}function lT(e){var t=wv.current;He(wv),e._currentValue=t}function dE(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ku(e,t){Ev=e,aT=Uu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($n=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(aT!==e)if(e={context:e,memoizedValue:t,next:null},Uu===null){if(Ev===null)throw Error($(308));Uu=e,Ev.dependencies={lanes:0,firstContext:e}}else Uu=Uu.next=e;return t}var ta=null;function cT(e){ta===null?ta=[e]:ta.push(e)}function mD(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,cT(t)):(n.next=i.next,i.next=n),t.interleaved=n,to(e,r)}function to(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var No=!1;function fT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ho(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,to(e,n)}return i=r.interleaved,i===null?(t.next=t,cT(r)):(t.next=i.next,i.next=t),r.interleaved=t,to(e,n)}function zp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Y1(e,n)}}function OA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tv(e,t,n,r){var i=e.updateQueue;No=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;a=0,d=h=c=null,l=s;do{var g=l.lane,y=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,b=l;switch(g=t,y=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){v=w.call(y,v,g);break e}v=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,g=typeof w=="function"?w.call(y,v,g):w,g==null)break e;v=st({},v,g);break e;case 2:No=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=y,c=v):d=d.next=y,a|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(d===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ea|=a,e.lanes=a,e.memoizedState=v}}function xA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var yD=new mx.Component().refs;function pE(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:st({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xm={isMounted:function(e){return(e=e._reactInternals)?Fa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nn(),i=Go(e),s=Qi(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ho(e,s,i),t!==null&&(ri(t,e,i,r),zp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nn(),i=Go(e),s=Qi(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ho(e,s,i),t!==null&&(ri(t,e,i,r),zp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nn(),r=Go(e),i=Qi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ho(e,i,r),t!==null&&(ri(t,e,r,n),zp(t,e,r))}};function DA(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!jf(n,r)||!jf(i,s):!0}function _D(e,t,n){var r=!1,i=rs,s=t.contextType;return typeof s=="object"&&s!==null?s=xr(s):(i=Hn(t)?ya:pn.current,r=t.contextTypes,s=(r=r!=null)?tl(e,i):rs),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function LA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xm.enqueueReplaceState(t,t.state,null)}function vE(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yD,fT(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=xr(s):(s=Hn(t)?ya:pn.current,i.context=tl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(pE(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xm.enqueueReplaceState(i,i.state,null),Tv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===yD&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function gp(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function MA(e){var t=e._init;return t(e._payload)}function wD(e){function t(E,I){if(e){var C=E.deletions;C===null?(E.deletions=[I],E.flags|=16):C.push(I)}}function n(E,I){if(!e)return null;for(;I!==null;)t(E,I),I=I.sibling;return null}function r(E,I){for(E=new Map;I!==null;)I.key!==null?E.set(I.key,I):E.set(I.index,I),I=I.sibling;return E}function i(E,I){return E=Qo(E,I),E.index=0,E.sibling=null,E}function s(E,I,C){return E.index=C,e?(C=E.alternate,C!==null?(C=C.index,C<I?(E.flags|=2,I):C):(E.flags|=2,I)):(E.flags|=1048576,I)}function a(E){return e&&E.alternate===null&&(E.flags|=2),E}function l(E,I,C,P){return I===null||I.tag!==6?(I=K_(C,E.mode,P),I.return=E,I):(I=i(I,C),I.return=E,I)}function c(E,I,C,P){var O=C.type;return O===Ru?d(E,I,C.props.children,P,C.key):I!==null&&(I.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ko&&MA(O)===I.type)?(P=i(I,C.props),P.ref=qc(E,I,C),P.return=E,P):(P=Yp(C.type,C.key,C.props,null,E.mode,P),P.ref=qc(E,I,C),P.return=E,P)}function h(E,I,C,P){return I===null||I.tag!==4||I.stateNode.containerInfo!==C.containerInfo||I.stateNode.implementation!==C.implementation?(I=G_(C,E.mode,P),I.return=E,I):(I=i(I,C.children||[]),I.return=E,I)}function d(E,I,C,P,O){return I===null||I.tag!==7?(I=ca(C,E.mode,P,O),I.return=E,I):(I=i(I,C),I.return=E,I)}function v(E,I,C){if(typeof I=="string"&&I!==""||typeof I=="number")return I=K_(""+I,E.mode,C),I.return=E,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case sp:return C=Yp(I.type,I.key,I.props,null,E.mode,C),C.ref=qc(E,null,I),C.return=E,C;case Au:return I=G_(I,E.mode,C),I.return=E,I;case ko:var P=I._init;return v(E,P(I._payload),C)}if(tf(I)||Uc(I))return I=ca(I,E.mode,C,null),I.return=E,I;gp(E,I)}return null}function g(E,I,C,P){var O=I!==null?I.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return O!==null?null:l(E,I,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case sp:return C.key===O?c(E,I,C,P):null;case Au:return C.key===O?h(E,I,C,P):null;case ko:return O=C._init,g(E,I,O(C._payload),P)}if(tf(C)||Uc(C))return O!==null?null:d(E,I,C,P,null);gp(E,C)}return null}function y(E,I,C,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(C)||null,l(I,E,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case sp:return E=E.get(P.key===null?C:P.key)||null,c(I,E,P,O);case Au:return E=E.get(P.key===null?C:P.key)||null,h(I,E,P,O);case ko:var x=P._init;return y(E,I,C,x(P._payload),O)}if(tf(P)||Uc(P))return E=E.get(C)||null,d(I,E,P,O,null);gp(I,P)}return null}function w(E,I,C,P){for(var O=null,x=null,V=I,M=I=0,re=null;V!==null&&M<C.length;M++){V.index>M?(re=V,V=null):re=V.sibling;var N=g(E,V,C[M],P);if(N===null){V===null&&(V=re);break}e&&V&&N.alternate===null&&t(E,V),I=s(N,I,M),x===null?O=N:x.sibling=N,x=N,V=re}if(M===C.length)return n(E,V),Ye&&Ks(E,M),O;if(V===null){for(;M<C.length;M++)V=v(E,C[M],P),V!==null&&(I=s(V,I,M),x===null?O=V:x.sibling=V,x=V);return Ye&&Ks(E,M),O}for(V=r(E,V);M<C.length;M++)re=y(V,E,M,C[M],P),re!==null&&(e&&re.alternate!==null&&V.delete(re.key===null?M:re.key),I=s(re,I,M),x===null?O=re:x.sibling=re,x=re);return e&&V.forEach(function($e){return t(E,$e)}),Ye&&Ks(E,M),O}function b(E,I,C,P){var O=Uc(C);if(typeof O!="function")throw Error($(150));if(C=O.call(C),C==null)throw Error($(151));for(var x=O=null,V=I,M=I=0,re=null,N=C.next();V!==null&&!N.done;M++,N=C.next()){V.index>M?(re=V,V=null):re=V.sibling;var $e=g(E,V,N.value,P);if($e===null){V===null&&(V=re);break}e&&V&&$e.alternate===null&&t(E,V),I=s($e,I,M),x===null?O=$e:x.sibling=$e,x=$e,V=re}if(N.done)return n(E,V),Ye&&Ks(E,M),O;if(V===null){for(;!N.done;M++,N=C.next())N=v(E,N.value,P),N!==null&&(I=s(N,I,M),x===null?O=N:x.sibling=N,x=N);return Ye&&Ks(E,M),O}for(V=r(E,V);!N.done;M++,N=C.next())N=y(V,E,M,N.value,P),N!==null&&(e&&N.alternate!==null&&V.delete(N.key===null?M:N.key),I=s(N,I,M),x===null?O=N:x.sibling=N,x=N);return e&&V.forEach(function(Ke){return t(E,Ke)}),Ye&&Ks(E,M),O}function S(E,I,C,P){if(typeof C=="object"&&C!==null&&C.type===Ru&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case sp:e:{for(var O=C.key,x=I;x!==null;){if(x.key===O){if(O=C.type,O===Ru){if(x.tag===7){n(E,x.sibling),I=i(x,C.props.children),I.return=E,E=I;break e}}else if(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ko&&MA(O)===x.type){n(E,x.sibling),I=i(x,C.props),I.ref=qc(E,x,C),I.return=E,E=I;break e}n(E,x);break}else t(E,x);x=x.sibling}C.type===Ru?(I=ca(C.props.children,E.mode,P,C.key),I.return=E,E=I):(P=Yp(C.type,C.key,C.props,null,E.mode,P),P.ref=qc(E,I,C),P.return=E,E=P)}return a(E);case Au:e:{for(x=C.key;I!==null;){if(I.key===x)if(I.tag===4&&I.stateNode.containerInfo===C.containerInfo&&I.stateNode.implementation===C.implementation){n(E,I.sibling),I=i(I,C.children||[]),I.return=E,E=I;break e}else{n(E,I);break}else t(E,I);I=I.sibling}I=G_(C,E.mode,P),I.return=E,E=I}return a(E);case ko:return x=C._init,S(E,I,x(C._payload),P)}if(tf(C))return w(E,I,C,P);if(Uc(C))return b(E,I,C,P);gp(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,I!==null&&I.tag===6?(n(E,I.sibling),I=i(I,C),I.return=E,E=I):(n(E,I),I=K_(C,E.mode,P),I.return=E,E=I),a(E)):n(E,I)}return S}var rl=wD(!0),ED=wD(!1),Ch={},bi=ds(Ch),qf=ds(Ch),zf=ds(Ch);function na(e){if(e===Ch)throw Error($(174));return e}function hT(e,t){switch(Ve(zf,t),Ve(qf,e),Ve(bi,Ch),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kw(t,e)}He(bi),Ve(bi,t)}function il(){He(bi),He(qf),He(zf)}function TD(e){na(zf.current);var t=na(bi.current),n=Kw(t,e.type);t!==n&&(Ve(qf,e),Ve(bi,n))}function dT(e){qf.current===e&&(He(bi),He(qf))}var nt=ds(0);function bv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var B_=[];function pT(){for(var e=0;e<B_.length;e++)B_[e]._workInProgressVersionPrimary=null;B_.length=0}var Wp=ao.ReactCurrentDispatcher,$_=ao.ReactCurrentBatchConfig,wa=0,ot=null,kt=null,Mt=null,Iv=!1,df=!1,Wf=0,vz=0;function nn(){throw Error($(321))}function vT(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function mT(e,t,n,r,i,s){if(wa=s,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wp.current=e===null||e.memoizedState===null?_z:wz,e=n(r,i),df){s=0;do{if(df=!1,Wf=0,25<=s)throw Error($(301));s+=1,Mt=kt=null,t.updateQueue=null,Wp.current=Ez,e=n(r,i)}while(df)}if(Wp.current=Sv,t=kt!==null&&kt.next!==null,wa=0,Mt=kt=ot=null,Iv=!1,t)throw Error($(300));return e}function gT(){var e=Wf!==0;return Wf=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ot.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Dr(){if(kt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=Mt===null?ot.memoizedState:Mt.next;if(t!==null)Mt=t,kt=e;else{if(e===null)throw Error($(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Mt===null?ot.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Hf(e,t){return typeof t=="function"?t(e):t}function q_(e){var t=Dr(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=kt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var d=h.lane;if((wa&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,ot.lanes|=d,Ea|=d}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,si(r,t.memoizedState)||($n=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ot.lanes|=s,Ea|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function z_(e){var t=Dr(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);si(s,t.memoizedState)||($n=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function bD(){}function ID(e,t){var n=ot,r=Dr(),i=t(),s=!si(r.memoizedState,i);if(s&&(r.memoizedState=i,$n=!0),r=r.queue,yT(kD.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,Kf(9,CD.bind(null,n,r,i,t),void 0,null),Bt===null)throw Error($(349));wa&30||SD(n,t,i)}return i}function SD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CD(e,t,n,r){t.value=n,t.getSnapshot=r,ND(t)&&AD(e)}function kD(e,t,n){return n(function(){ND(t)&&AD(e)})}function ND(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch{return!0}}function AD(e){var t=to(e,1);t!==null&&ri(t,e,1,-1)}function FA(e){var t=yi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:e},t.queue=e,e=e.dispatch=yz.bind(null,ot,e),[t.memoizedState,e]}function Kf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function RD(){return Dr().memoizedState}function Hp(e,t,n,r){var i=yi();ot.flags|=e,i.memoizedState=Kf(1|t,n,void 0,r===void 0?null:r)}function Dm(e,t,n,r){var i=Dr();r=r===void 0?null:r;var s=void 0;if(kt!==null){var a=kt.memoizedState;if(s=a.destroy,r!==null&&vT(r,a.deps)){i.memoizedState=Kf(t,n,s,r);return}}ot.flags|=e,i.memoizedState=Kf(1|t,n,s,r)}function UA(e,t){return Hp(8390656,8,e,t)}function yT(e,t){return Dm(2048,8,e,t)}function PD(e,t){return Dm(4,2,e,t)}function OD(e,t){return Dm(4,4,e,t)}function xD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DD(e,t,n){return n=n!=null?n.concat([e]):null,Dm(4,4,xD.bind(null,t,e),n)}function _T(){}function LD(e,t){var n=Dr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vT(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function MD(e,t){var n=Dr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vT(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function FD(e,t,n){return wa&21?(si(n,t)||(n=Vx(),ot.lanes|=n,Ea|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=n)}function mz(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=$_.transition;$_.transition={};try{e(!1),t()}finally{De=n,$_.transition=r}}function UD(){return Dr().memoizedState}function gz(e,t,n){var r=Go(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jD(e))VD(t,n);else if(n=mD(e,t,n,r),n!==null){var i=Nn();ri(n,e,r,i),BD(n,t,r)}}function yz(e,t,n){var r=Go(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jD(e))VD(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,si(l,a)){var c=t.interleaved;c===null?(i.next=i,cT(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=mD(e,t,i,r),n!==null&&(i=Nn(),ri(n,e,r,i),BD(n,t,r))}}function jD(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function VD(e,t){df=Iv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function BD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Y1(e,n)}}var Sv={readContext:xr,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},_z={readContext:xr,useCallback:function(e,t){return yi().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:UA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hp(4194308,4,xD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hp(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gz.bind(null,ot,e),[r.memoizedState,e]},useRef:function(e){var t=yi();return e={current:e},t.memoizedState=e},useState:FA,useDebugValue:_T,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=FA(!1),t=e[0];return e=mz.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ot,i=yi();if(Ye){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Bt===null)throw Error($(349));wa&30||SD(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,UA(kD.bind(null,r,s,e),[e]),r.flags|=2048,Kf(9,CD.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=yi(),t=Bt.identifierPrefix;if(Ye){var n=Hi,r=Wi;n=(r&~(1<<32-ni(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wz={readContext:xr,useCallback:LD,useContext:xr,useEffect:yT,useImperativeHandle:DD,useInsertionEffect:PD,useLayoutEffect:OD,useMemo:MD,useReducer:q_,useRef:RD,useState:function(){return q_(Hf)},useDebugValue:_T,useDeferredValue:function(e){var t=Dr();return FD(t,kt.memoizedState,e)},useTransition:function(){var e=q_(Hf)[0],t=Dr().memoizedState;return[e,t]},useMutableSource:bD,useSyncExternalStore:ID,useId:UD,unstable_isNewReconciler:!1},Ez={readContext:xr,useCallback:LD,useContext:xr,useEffect:yT,useImperativeHandle:DD,useInsertionEffect:PD,useLayoutEffect:OD,useMemo:MD,useReducer:z_,useRef:RD,useState:function(){return z_(Hf)},useDebugValue:_T,useDeferredValue:function(e){var t=Dr();return kt===null?t.memoizedState=e:FD(t,kt.memoizedState,e)},useTransition:function(){var e=z_(Hf)[0],t=Dr().memoizedState;return[e,t]},useMutableSource:bD,useSyncExternalStore:ID,useId:UD,unstable_isNewReconciler:!1};function ol(e,t){try{var n="",r=t;do n+=Q$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function W_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mE(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Tz=typeof WeakMap=="function"?WeakMap:Map;function $D(e,t,n){n=Qi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kv||(kv=!0,CE=r),mE(e,t)},n}function qD(e,t,n){n=Qi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mE(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){mE(e,t),typeof r!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function jA(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Tz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Mz.bind(null,e,t,n),t.then(e,e))}function VA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BA(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qi(-1,1),t.tag=2,Ho(n,t,1))),n.lanes|=1),e)}var bz=ao.ReactCurrentOwner,$n=!1;function En(e,t,n,r){t.child=e===null?ED(t,null,n,r):rl(t,e.child,n,r)}function $A(e,t,n,r,i){n=n.render;var s=t.ref;return Ku(t,i),r=mT(e,t,n,r,s,i),n=gT(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,no(e,t,i)):(Ye&&n&&iT(t),t.flags|=1,En(e,t,r,i),t.child)}function qA(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!kT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,zD(e,t,s,r,i)):(e=Yp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:jf,n(a,r)&&e.ref===t.ref)return no(e,t,i)}return t.flags|=1,e=Qo(s,r),e.ref=t.ref,e.return=t,t.child=e}function zD(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(jf(s,r)&&e.ref===t.ref)if($n=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($n=!0);else return t.lanes=e.lanes,no(e,t,i)}return gE(e,t,n,r,i)}function WD(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Vu,nr),nr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(Vu,nr),nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(Vu,nr),nr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ve(Vu,nr),nr|=r;return En(e,t,i,n),t.child}function HD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gE(e,t,n,r,i){var s=Hn(n)?ya:pn.current;return s=tl(t,s),Ku(t,i),n=mT(e,t,n,r,s,i),r=gT(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,no(e,t,i)):(Ye&&r&&iT(t),t.flags|=1,En(e,t,n,i),t.child)}function zA(e,t,n,r,i){if(Hn(n)){var s=!0;gv(t)}else s=!1;if(Ku(t,i),t.stateNode===null)Kp(e,t),_D(t,n,r),vE(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=xr(h):(h=Hn(n)?ya:pn.current,h=tl(t,h));var d=n.getDerivedStateFromProps,v=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&LA(t,a,r,h),No=!1;var g=t.memoizedState;a.state=g,Tv(t,r,a,i),c=t.memoizedState,l!==r||g!==c||Wn.current||No?(typeof d=="function"&&(pE(t,n,d,r),c=t.memoizedState),(l=No||DA(t,n,l,r,g,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,gD(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Xr(t.type,l),a.props=h,v=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=xr(c):(c=Hn(n)?ya:pn.current,c=tl(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||g!==c)&&LA(t,a,r,c),No=!1,g=t.memoizedState,a.state=g,Tv(t,r,a,i);var w=t.memoizedState;l!==v||g!==w||Wn.current||No?(typeof y=="function"&&(pE(t,n,y,r),w=t.memoizedState),(h=No||DA(t,n,h,r,g,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return yE(e,t,n,r,s,i)}function yE(e,t,n,r,i,s){HD(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&AA(t,n,!1),no(e,t,s);r=t.stateNode,bz.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=rl(t,e.child,null,s),t.child=rl(t,null,l,s)):En(e,t,l,s),t.memoizedState=r.state,i&&AA(t,n,!0),t.child}function KD(e){var t=e.stateNode;t.pendingContext?NA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&NA(e,t.context,!1),hT(e,t.containerInfo)}function WA(e,t,n,r,i){return nl(),sT(i),t.flags|=256,En(e,t,n,r),t.child}var _E={dehydrated:null,treeContext:null,retryLane:0};function wE(e){return{baseLanes:e,cachePool:null,transitions:null}}function GD(e,t,n){var r=t.pendingProps,i=nt.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(nt,i&1),e===null)return hE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Fm(a,r,0,null),e=ca(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=wE(n),t.memoizedState=_E,e):wT(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Iz(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Qo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Qo(l,s):(s=ca(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?wE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=_E,r}return s=e.child,e=s.sibling,r=Qo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wT(e,t){return t=Fm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yp(e,t,n,r){return r!==null&&sT(r),rl(t,e.child,null,n),e=wT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Iz(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=W_(Error($(422))),yp(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fm({mode:"visible",children:r.children},i,0,null),s=ca(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&rl(t,e.child,null,a),t.child.memoizedState=wE(a),t.memoizedState=_E,s);if(!(t.mode&1))return yp(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=W_(s,r,void 0),yp(e,t,a,r)}if(l=(a&e.childLanes)!==0,$n||l){if(r=Bt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,to(e,i),ri(r,e,i,-1))}return CT(),r=W_(Error($(421))),yp(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Fz.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,sr=Wo(i.nextSibling),lr=t,Ye=!0,ei=null,e!==null&&(Tr[br++]=Wi,Tr[br++]=Hi,Tr[br++]=_a,Wi=e.id,Hi=e.overflow,_a=t),t=wT(t,r.children),t.flags|=4096,t)}function HA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dE(e.return,t,n)}function H_(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function QD(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(En(e,t,r.children,n),r=nt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HA(e,n,t);else if(e.tag===19)HA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ve(nt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),H_(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}H_(t,!0,n,null,s);break;case"together":H_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function no(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ea|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Qo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sz(e,t,n){switch(t.tag){case 3:KD(t),nl();break;case 5:TD(t);break;case 1:Hn(t.type)&&gv(t);break;case 4:hT(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ve(wv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ve(nt,nt.current&1),t.flags|=128,null):n&t.child.childLanes?GD(e,t,n):(Ve(nt,nt.current&1),e=no(e,t,n),e!==null?e.sibling:null);Ve(nt,nt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return QD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(nt,nt.current),r)break;return null;case 22:case 23:return t.lanes=0,WD(e,t,n)}return no(e,t,n)}var YD,EE,XD,JD;YD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};EE=function(){};XD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(bi.current);var s=null;switch(n){case"input":i=qw(e,i),r=qw(e,r),s=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),s=[];break;case"textarea":i=Hw(e,i),r=Hw(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vv)}Gw(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Of.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Of.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&ze("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};JD=function(e,t,n,r){n!==r&&(t.flags|=4)};function zc(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cz(e,t,n){var r=t.pendingProps;switch(oT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(t),null;case 1:return Hn(t.type)&&mv(),rn(t),null;case 3:return r=t.stateNode,il(),He(Wn),He(pn),pT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ei!==null&&(AE(ei),ei=null))),EE(e,t),rn(t),null;case 5:dT(t);var i=na(zf.current);if(n=t.type,e!==null&&t.stateNode!=null)XD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return rn(t),null}if(e=na(bi.current),mp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[wi]=t,r[$f]=s,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<rf.length;i++)ze(rf[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":tA(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":rA(r,s),ze("invalid",r)}Gw(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&vp(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&vp(r.textContent,l,e),i=["children",""+l]):Of.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ze("scroll",r)}switch(n){case"input":ap(r),nA(r,s,!0);break;case"textarea":ap(r),iA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[wi]=t,e[$f]=r,YD(e,t,!1,!1),t.stateNode=e;e:{switch(a=Qw(n,r),n){case"dialog":ze("cancel",e),ze("close",e),i=r;break;case"iframe":case"object":case"embed":ze("load",e),i=r;break;case"video":case"audio":for(i=0;i<rf.length;i++)ze(rf[i],e);i=r;break;case"source":ze("error",e),i=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),i=r;break;case"details":ze("toggle",e),i=r;break;case"input":tA(e,r),i=qw(e,r),ze("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),ze("invalid",e);break;case"textarea":rA(e,r),i=Hw(e,r),ze("invalid",e);break;default:i=r}Gw(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Nx(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cx(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&xf(e,c):typeof c=="number"&&xf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Of.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",e):c!=null&&z1(e,s,c,a))}switch(n){case"input":ap(e),nA(e,r,!1);break;case"textarea":ap(e),iA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ns(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?qu(e,!!r.multiple,s,!1):r.defaultValue!=null&&qu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=vv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rn(t),null;case 6:if(e&&t.stateNode!=null)JD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=na(zf.current),na(bi.current),mp(t)){if(r=t.stateNode,n=t.memoizedProps,r[wi]=t,(s=r.nodeValue!==n)&&(e=lr,e!==null))switch(e.tag){case 3:vp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wi]=t,t.stateNode=r}return rn(t),null;case 13:if(He(nt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&sr!==null&&t.mode&1&&!(t.flags&128))vD(),nl(),t.flags|=98560,s=!1;else if(s=mp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[wi]=t}else nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rn(t),s=!1}else ei!==null&&(AE(ei),ei=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?At===0&&(At=3):CT())),t.updateQueue!==null&&(t.flags|=4),rn(t),null);case 4:return il(),EE(e,t),e===null&&Vf(t.stateNode.containerInfo),rn(t),null;case 10:return lT(t.type._context),rn(t),null;case 17:return Hn(t.type)&&mv(),rn(t),null;case 19:if(He(nt),s=t.memoizedState,s===null)return rn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)zc(s,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=bv(e),a!==null){for(t.flags|=128,zc(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(nt,nt.current&1|2),t.child}e=e.sibling}s.tail!==null&&pt()>sl&&(t.flags|=128,r=!0,zc(s,!1),t.lanes=4194304)}else{if(!r)if(e=bv(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ye)return rn(t),null}else 2*pt()-s.renderingStartTime>sl&&n!==1073741824&&(t.flags|=128,r=!0,zc(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pt(),t.sibling=null,n=nt.current,Ve(nt,r?n&1|2:n&1),t):(rn(t),null);case 22:case 23:return ST(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nr&1073741824&&(rn(t),t.subtreeFlags&6&&(t.flags|=8192)):rn(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function kz(e,t){switch(oT(t),t.tag){case 1:return Hn(t.type)&&mv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return il(),He(Wn),He(pn),pT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dT(t),null;case 13:if(He(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(nt),null;case 4:return il(),null;case 10:return lT(t.type._context),null;case 22:case 23:return ST(),null;case 24:return null;default:return null}}var _p=!1,an=!1,Nz=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ju(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(e,t,r)}else n.current=null}function TE(e,t,n){try{n()}catch(r){ut(e,t,r)}}var KA=!1;function Az(e,t){if(oE=hv,e=nD(),rT(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,v=e,g=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)g=v,v=y;for(;;){if(v===e)break t;if(g===n&&++h===i&&(l=a),g===s&&++d===r&&(c=a),(y=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sE={focusedElem:e,selectionRange:n},hv=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,S=w.memoizedState,E=t.stateNode,I=E.getSnapshotBeforeUpdate(t.elementType===t.type?b:Xr(t.type,b),S);E.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(P){ut(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return w=KA,KA=!1,w}function pf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&TE(t,n,s)}i=i.next}while(i!==r)}}function Lm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bE(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ZD(e){var t=e.alternate;t!==null&&(e.alternate=null,ZD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wi],delete t[$f],delete t[lE],delete t[fz],delete t[hz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function e2(e){return e.tag===5||e.tag===3||e.tag===4}function GA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||e2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function IE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vv));else if(r!==4&&(e=e.child,e!==null))for(IE(e,t,n),e=e.sibling;e!==null;)IE(e,t,n),e=e.sibling}function SE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(SE(e,t,n),e=e.sibling;e!==null;)SE(e,t,n),e=e.sibling}var Ht=null,Zr=!1;function Eo(e,t,n){for(n=n.child;n!==null;)t2(e,t,n),n=n.sibling}function t2(e,t,n){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(km,n)}catch{}switch(n.tag){case 5:an||ju(n,t);case 6:var r=Ht,i=Zr;Ht=null,Eo(e,t,n),Ht=r,Zr=i,Ht!==null&&(Zr?(e=Ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(Zr?(e=Ht,n=n.stateNode,e.nodeType===8?j_(e.parentNode,n):e.nodeType===1&&j_(e,n),Ff(e)):j_(Ht,n.stateNode));break;case 4:r=Ht,i=Zr,Ht=n.stateNode.containerInfo,Zr=!0,Eo(e,t,n),Ht=r,Zr=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&TE(n,t,a),i=i.next}while(i!==r)}Eo(e,t,n);break;case 1:if(!an&&(ju(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ut(n,t,l)}Eo(e,t,n);break;case 21:Eo(e,t,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,Eo(e,t,n),an=r):Eo(e,t,n);break;default:Eo(e,t,n)}}function QA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nz),t.forEach(function(r){var i=Uz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ht=l.stateNode,Zr=!1;break e;case 3:Ht=l.stateNode.containerInfo,Zr=!0;break e;case 4:Ht=l.stateNode.containerInfo,Zr=!0;break e}l=l.return}if(Ht===null)throw Error($(160));t2(s,a,i),Ht=null,Zr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){ut(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)n2(t,e),t=t.sibling}function n2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kr(t,e),gi(e),r&4){try{pf(3,e,e.return),Lm(3,e)}catch(b){ut(e,e.return,b)}try{pf(5,e,e.return)}catch(b){ut(e,e.return,b)}}break;case 1:Kr(t,e),gi(e),r&512&&n!==null&&ju(n,n.return);break;case 5:if(Kr(t,e),gi(e),r&512&&n!==null&&ju(n,n.return),e.flags&32){var i=e.stateNode;try{xf(i,"")}catch(b){ut(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&bx(i,s),Qw(l,a);var h=Qw(l,s);for(a=0;a<c.length;a+=2){var d=c[a],v=c[a+1];d==="style"?Nx(i,v):d==="dangerouslySetInnerHTML"?Cx(i,v):d==="children"?xf(i,v):z1(i,d,v,h)}switch(l){case"input":zw(i,s);break;case"textarea":Ix(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?qu(i,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?qu(i,!!s.multiple,s.defaultValue,!0):qu(i,!!s.multiple,s.multiple?[]:"",!1))}i[$f]=s}catch(b){ut(e,e.return,b)}}break;case 6:if(Kr(t,e),gi(e),r&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){ut(e,e.return,b)}}break;case 3:if(Kr(t,e),gi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ff(t.containerInfo)}catch(b){ut(e,e.return,b)}break;case 4:Kr(t,e),gi(e);break;case 13:Kr(t,e),gi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bT=pt())),r&4&&QA(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(an=(h=an)||d,Kr(t,e),an=h):Kr(t,e),gi(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(Q=e,d=e.child;d!==null;){for(v=Q=d;Q!==null;){switch(g=Q,y=g.child,g.tag){case 0:case 11:case 14:case 15:pf(4,g,g.return);break;case 1:ju(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(b){ut(r,n,b)}}break;case 5:ju(g,g.return);break;case 22:if(g.memoizedState!==null){XA(v);continue}}y!==null?(y.return=g,Q=y):XA(v)}d=d.sibling}e:for(d=null,v=e;;){if(v.tag===5){if(d===null){d=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kx("display",a))}catch(b){ut(e,e.return,b)}}}else if(v.tag===6){if(d===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(b){ut(e,e.return,b)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;d===v&&(d=null),v=v.return}d===v&&(d=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Kr(t,e),gi(e),r&4&&QA(e);break;case 21:break;default:Kr(t,e),gi(e)}}function gi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(e2(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xf(i,""),r.flags&=-33);var s=GA(e);SE(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=GA(e);IE(e,l,a);break;default:throw Error($(161))}}catch(c){ut(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rz(e,t,n){Q=e,r2(e)}function r2(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||_p;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||an;l=_p;var h=an;if(_p=a,(an=c)&&!h)for(Q=i;Q!==null;)a=Q,c=a.child,a.tag===22&&a.memoizedState!==null?JA(i):c!==null?(c.return=a,Q=c):JA(i);for(;s!==null;)Q=s,r2(s),s=s.sibling;Q=i,_p=l,an=h}YA(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):YA(e)}}function YA(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||Lm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!an)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Xr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&xA(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xA(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var v=d.dehydrated;v!==null&&Ff(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}an||t.flags&512&&bE(t)}catch(g){ut(t,t.return,g)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function XA(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function JA(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lm(4,t)}catch(c){ut(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ut(t,i,c)}}var s=t.return;try{bE(t)}catch(c){ut(t,s,c)}break;case 5:var a=t.return;try{bE(t)}catch(c){ut(t,a,c)}}}catch(c){ut(t,t.return,c)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var Pz=Math.ceil,Cv=ao.ReactCurrentDispatcher,ET=ao.ReactCurrentOwner,Rr=ao.ReactCurrentBatchConfig,Se=0,Bt=null,Et=null,Yt=0,nr=0,Vu=ds(0),At=0,Gf=null,Ea=0,Mm=0,TT=0,vf=null,jn=null,bT=0,sl=1/0,$i=null,kv=!1,CE=null,Ko=null,wp=!1,Fo=null,Nv=0,mf=0,kE=null,Gp=-1,Qp=0;function Nn(){return Se&6?pt():Gp!==-1?Gp:Gp=pt()}function Go(e){return e.mode&1?Se&2&&Yt!==0?Yt&-Yt:pz.transition!==null?(Qp===0&&(Qp=Vx()),Qp):(e=De,e!==0||(e=window.event,e=e===void 0?16:Kx(e.type)),e):1}function ri(e,t,n,r){if(50<mf)throw mf=0,kE=null,Error($(185));bh(e,n,r),(!(Se&2)||e!==Bt)&&(e===Bt&&(!(Se&2)&&(Mm|=n),At===4&&Po(e,Yt)),Kn(e,r),n===1&&Se===0&&!(t.mode&1)&&(sl=pt()+500,Om&&ps()))}function Kn(e,t){var n=e.callbackNode;pq(e,t);var r=fv(e,e===Bt?Yt:0);if(r===0)n!==null&&aA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&aA(n),t===1)e.tag===0?dz(ZA.bind(null,e)):hD(ZA.bind(null,e)),lz(function(){!(Se&6)&&ps()}),n=null;else{switch(Bx(r)){case 1:n=Q1;break;case 4:n=Ux;break;case 16:n=cv;break;case 536870912:n=jx;break;default:n=cv}n=f2(n,i2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function i2(e,t){if(Gp=-1,Qp=0,Se&6)throw Error($(327));var n=e.callbackNode;if(Gu()&&e.callbackNode!==n)return null;var r=fv(e,e===Bt?Yt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Av(e,r);else{t=r;var i=Se;Se|=2;var s=s2();(Bt!==e||Yt!==t)&&($i=null,sl=pt()+500,la(e,t));do try{Dz();break}catch(l){o2(e,l)}while(1);uT(),Cv.current=s,Se=i,Et!==null?t=0:(Bt=null,Yt=0,t=At)}if(t!==0){if(t===2&&(i=eE(e),i!==0&&(r=i,t=NE(e,i))),t===1)throw n=Gf,la(e,0),Po(e,r),Kn(e,pt()),n;if(t===6)Po(e,r);else{if(i=e.current.alternate,!(r&30)&&!Oz(i)&&(t=Av(e,r),t===2&&(s=eE(e),s!==0&&(r=s,t=NE(e,s))),t===1))throw n=Gf,la(e,0),Po(e,r),Kn(e,pt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Gs(e,jn,$i);break;case 3:if(Po(e,r),(r&130023424)===r&&(t=bT+500-pt(),10<t)){if(fv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Nn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uE(Gs.bind(null,e,jn,$i),t);break}Gs(e,jn,$i);break;case 4:if(Po(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ni(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pz(r/1960))-r,10<r){e.timeoutHandle=uE(Gs.bind(null,e,jn,$i),r);break}Gs(e,jn,$i);break;case 5:Gs(e,jn,$i);break;default:throw Error($(329))}}}return Kn(e,pt()),e.callbackNode===n?i2.bind(null,e):null}function NE(e,t){var n=vf;return e.current.memoizedState.isDehydrated&&(la(e,t).flags|=256),e=Av(e,t),e!==2&&(t=jn,jn=n,t!==null&&AE(t)),e}function AE(e){jn===null?jn=e:jn.push.apply(jn,e)}function Oz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!si(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Po(e,t){for(t&=~TT,t&=~Mm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ni(t),r=1<<n;e[n]=-1,t&=~r}}function ZA(e){if(Se&6)throw Error($(327));Gu();var t=fv(e,0);if(!(t&1))return Kn(e,pt()),null;var n=Av(e,t);if(e.tag!==0&&n===2){var r=eE(e);r!==0&&(t=r,n=NE(e,r))}if(n===1)throw n=Gf,la(e,0),Po(e,t),Kn(e,pt()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gs(e,jn,$i),Kn(e,pt()),null}function IT(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(sl=pt()+500,Om&&ps())}}function Ta(e){Fo!==null&&Fo.tag===0&&!(Se&6)&&Gu();var t=Se;Se|=1;var n=Rr.transition,r=De;try{if(Rr.transition=null,De=1,e)return e()}finally{De=r,Rr.transition=n,Se=t,!(Se&6)&&ps()}}function ST(){nr=Vu.current,He(Vu)}function la(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uz(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(oT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mv();break;case 3:il(),He(Wn),He(pn),pT();break;case 5:dT(r);break;case 4:il();break;case 13:He(nt);break;case 19:He(nt);break;case 10:lT(r.type._context);break;case 22:case 23:ST()}n=n.return}if(Bt=e,Et=e=Qo(e.current,null),Yt=nr=t,At=0,Gf=null,TT=Mm=Ea=0,jn=vf=null,ta!==null){for(t=0;t<ta.length;t++)if(n=ta[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ta=null}return e}function o2(e,t){do{var n=Et;try{if(uT(),Wp.current=Sv,Iv){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Iv=!1}if(wa=0,Mt=kt=ot=null,df=!1,Wf=0,ET.current=null,n===null||n.return===null){At=1,Gf=t,Et=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Yt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,v=d.tag;if(!(d.mode&1)&&(v===0||v===11||v===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=VA(a);if(y!==null){y.flags&=-257,BA(y,a,l,s,t),y.mode&1&&jA(s,h,t),t=y,c=h;var w=t.updateQueue;if(w===null){var b=new Set;b.add(c),t.updateQueue=b}else w.add(c);break e}else{if(!(t&1)){jA(s,h,t),CT();break e}c=Error($(426))}}else if(Ye&&l.mode&1){var S=VA(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),BA(S,a,l,s,t),sT(ol(c,l));break e}}s=c=ol(c,l),At!==4&&(At=2),vf===null?vf=[s]:vf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var E=$D(s,c,t);OA(s,E);break e;case 1:l=c;var I=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ko===null||!Ko.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=qD(s,l,t);OA(s,P);break e}}s=s.return}while(s!==null)}u2(n)}catch(O){t=O,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(1)}function s2(){var e=Cv.current;return Cv.current=Sv,e===null?Sv:e}function CT(){(At===0||At===3||At===2)&&(At=4),Bt===null||!(Ea&268435455)&&!(Mm&268435455)||Po(Bt,Yt)}function Av(e,t){var n=Se;Se|=2;var r=s2();(Bt!==e||Yt!==t)&&($i=null,la(e,t));do try{xz();break}catch(i){o2(e,i)}while(1);if(uT(),Se=n,Cv.current=r,Et!==null)throw Error($(261));return Bt=null,Yt=0,At}function xz(){for(;Et!==null;)a2(Et)}function Dz(){for(;Et!==null&&!oq();)a2(Et)}function a2(e){var t=c2(e.alternate,e,nr);e.memoizedProps=e.pendingProps,t===null?u2(e):Et=t,ET.current=null}function u2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kz(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,Et=null;return}}else if(n=Cz(n,t,nr),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);At===0&&(At=5)}function Gs(e,t,n){var r=De,i=Rr.transition;try{Rr.transition=null,De=1,Lz(e,t,n,r)}finally{Rr.transition=i,De=r}return null}function Lz(e,t,n,r){do Gu();while(Fo!==null);if(Se&6)throw Error($(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(vq(e,s),e===Bt&&(Et=Bt=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wp||(wp=!0,f2(cv,function(){return Gu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rr.transition,Rr.transition=null;var a=De;De=1;var l=Se;Se|=4,ET.current=null,Az(e,n),n2(n,e),tz(sE),hv=!!oE,sE=oE=null,e.current=n,Rz(n),sq(),Se=l,De=a,Rr.transition=s}else e.current=n;if(wp&&(wp=!1,Fo=e,Nv=i),s=e.pendingLanes,s===0&&(Ko=null),lq(n.stateNode),Kn(e,pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kv)throw kv=!1,e=CE,CE=null,e;return Nv&1&&e.tag!==0&&Gu(),s=e.pendingLanes,s&1?e===kE?mf++:(mf=0,kE=e):mf=0,ps(),null}function Gu(){if(Fo!==null){var e=Bx(Nv),t=Rr.transition,n=De;try{if(Rr.transition=null,De=16>e?16:e,Fo===null)var r=!1;else{if(e=Fo,Fo=null,Nv=0,Se&6)throw Error($(331));var i=Se;for(Se|=4,Q=e.current;Q!==null;){var s=Q,a=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Q=h;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:pf(8,d,s)}var v=d.child;if(v!==null)v.return=d,Q=v;else for(;Q!==null;){d=Q;var g=d.sibling,y=d.return;if(ZD(d),d===h){Q=null;break}if(g!==null){g.return=y,Q=g;break}Q=y}}}var w=s.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}Q=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Q=a;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pf(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Q=E;break e}Q=s.return}}var I=e.current;for(Q=I;Q!==null;){a=Q;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,Q=C;else e:for(a=I;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lm(9,l)}}catch(O){ut(l,l.return,O)}if(l===a){Q=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Q=P;break e}Q=l.return}}if(Se=i,ps(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(km,e)}catch{}r=!0}return r}finally{De=n,Rr.transition=t}}return!1}function eR(e,t,n){t=ol(n,t),t=$D(e,t,1),e=Ho(e,t,1),t=Nn(),e!==null&&(bh(e,1,t),Kn(e,t))}function ut(e,t,n){if(e.tag===3)eR(e,e,n);else for(;t!==null;){if(t.tag===3){eR(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ko===null||!Ko.has(r))){e=ol(n,e),e=qD(t,e,1),t=Ho(t,e,1),e=Nn(),t!==null&&(bh(t,1,e),Kn(t,e));break}}t=t.return}}function Mz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&n,Bt===e&&(Yt&n)===n&&(At===4||At===3&&(Yt&130023424)===Yt&&500>pt()-bT?la(e,0):TT|=n),Kn(e,t)}function l2(e,t){t===0&&(e.mode&1?(t=cp,cp<<=1,!(cp&130023424)&&(cp=4194304)):t=1);var n=Nn();e=to(e,t),e!==null&&(bh(e,t,n),Kn(e,n))}function Fz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),l2(e,n)}function Uz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),l2(e,n)}var c2;c2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wn.current)$n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $n=!1,Sz(e,t,n);$n=!!(e.flags&131072)}else $n=!1,Ye&&t.flags&1048576&&dD(t,_v,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Kp(e,t),e=t.pendingProps;var i=tl(t,pn.current);Ku(t,n),i=mT(null,t,r,e,i,n);var s=gT();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(r)?(s=!0,gv(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fT(t),i.updater=xm,t.stateNode=i,i._reactInternals=t,vE(t,r,e,n),t=yE(null,t,r,!0,s,n)):(t.tag=0,Ye&&s&&iT(t),En(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Kp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Vz(r),e=Xr(r,e),i){case 0:t=gE(null,t,r,e,n);break e;case 1:t=zA(null,t,r,e,n);break e;case 11:t=$A(null,t,r,e,n);break e;case 14:t=qA(null,t,r,Xr(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xr(r,i),gE(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xr(r,i),zA(e,t,r,i,n);case 3:e:{if(KD(t),e===null)throw Error($(387));r=t.pendingProps,s=t.memoizedState,i=s.element,gD(e,t),Tv(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ol(Error($(423)),t),t=WA(e,t,r,n,i);break e}else if(r!==i){i=ol(Error($(424)),t),t=WA(e,t,r,n,i);break e}else for(sr=Wo(t.stateNode.containerInfo.firstChild),lr=t,Ye=!0,ei=null,n=ED(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nl(),r===i){t=no(e,t,n);break e}En(e,t,r,n)}t=t.child}return t;case 5:return TD(t),e===null&&hE(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,aE(r,i)?a=null:s!==null&&aE(r,s)&&(t.flags|=32),HD(e,t),En(e,t,a,n),t.child;case 6:return e===null&&hE(t),null;case 13:return GD(e,t,n);case 4:return hT(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rl(t,null,r,n):En(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xr(r,i),$A(e,t,r,i,n);case 7:return En(e,t,t.pendingProps,n),t.child;case 8:return En(e,t,t.pendingProps.children,n),t.child;case 12:return En(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ve(wv,r._currentValue),r._currentValue=a,s!==null)if(si(s.value,a)){if(s.children===i.children&&!Wn.current){t=no(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Qi(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),dE(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error($(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),dE(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}En(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ku(t,n),i=xr(i),r=r(i),t.flags|=1,En(e,t,r,n),t.child;case 14:return r=t.type,i=Xr(r,t.pendingProps),i=Xr(r.type,i),qA(e,t,r,i,n);case 15:return zD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xr(r,i),Kp(e,t),t.tag=1,Hn(r)?(e=!0,gv(t)):e=!1,Ku(t,n),_D(t,r,i),vE(t,r,i,n),yE(null,t,r,!0,e,n);case 19:return QD(e,t,n);case 22:return WD(e,t,n)}throw Error($(156,t.tag))};function f2(e,t){return Fx(e,t)}function jz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,n,r){return new jz(e,t,n,r)}function kT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vz(e){if(typeof e=="function")return kT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===H1)return 11;if(e===K1)return 14}return 2}function Qo(e,t){var n=e.alternate;return n===null?(n=Ir(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yp(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")kT(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ru:return ca(n.children,i,s,t);case W1:a=8,i|=8;break;case jw:return e=Ir(12,n,t,i|2),e.elementType=jw,e.lanes=s,e;case Vw:return e=Ir(13,n,t,i),e.elementType=Vw,e.lanes=s,e;case Bw:return e=Ir(19,n,t,i),e.elementType=Bw,e.lanes=s,e;case wx:return Fm(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yx:a=10;break e;case _x:a=9;break e;case H1:a=11;break e;case K1:a=14;break e;case ko:a=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Ir(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ca(e,t,n,r){return e=Ir(7,e,r,t),e.lanes=n,e}function Fm(e,t,n,r){return e=Ir(22,e,r,t),e.elementType=wx,e.lanes=n,e.stateNode={isHidden:!1},e}function K_(e,t,n){return e=Ir(6,e,null,t),e.lanes=n,e}function G_(e,t,n){return t=Ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N_(0),this.expirationTimes=N_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function NT(e,t,n,r,i,s,a,l,c){return e=new Bz(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ir(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fT(s),e}function $z(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Au,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function h2(e){if(!e)return rs;e=e._reactInternals;e:{if(Fa(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Hn(n))return fD(e,n,t)}return t}function d2(e,t,n,r,i,s,a,l,c){return e=NT(n,r,!0,e,i,s,a,l,c),e.context=h2(null),n=e.current,r=Nn(),i=Go(n),s=Qi(r,i),s.callback=t??null,Ho(n,s,i),e.current.lanes=i,bh(e,i,r),Kn(e,r),e}function Um(e,t,n,r){var i=t.current,s=Nn(),a=Go(i);return n=h2(n),t.context===null?t.context=n:t.pendingContext=n,t=Qi(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ho(i,t,a),e!==null&&(ri(e,i,a,s),zp(e,i,a)),a}function Rv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function AT(e,t){tR(e,t),(e=e.alternate)&&tR(e,t)}function qz(){return null}var p2=typeof reportError=="function"?reportError:function(e){console.error(e)};function RT(e){this._internalRoot=e}jm.prototype.render=RT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Um(e,t,null,null)};jm.prototype.unmount=RT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ta(function(){Um(null,e,null,null)}),t[eo]=null}};function jm(e){this._internalRoot=e}jm.prototype.unstable_scheduleHydration=function(e){if(e){var t=zx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ro.length&&t!==0&&t<Ro[n].priority;n++);Ro.splice(n,0,e),n===0&&Hx(e)}};function PT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nR(){}function zz(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Rv(a);s.call(h)}}var a=d2(t,r,e,0,null,!1,!1,"",nR);return e._reactRootContainer=a,e[eo]=a.current,Vf(e.nodeType===8?e.parentNode:e),Ta(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Rv(c);l.call(h)}}var c=NT(e,0,!1,null,null,!1,!1,"",nR);return e._reactRootContainer=c,e[eo]=c.current,Vf(e.nodeType===8?e.parentNode:e),Ta(function(){Um(t,c,n,r)}),c}function Bm(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Rv(a);l.call(c)}}Um(t,a,e,i)}else a=zz(n,t,e,i,r);return Rv(a)}$x=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=nf(t.pendingLanes);n!==0&&(Y1(t,n|1),Kn(t,pt()),!(Se&6)&&(sl=pt()+500,ps()))}break;case 13:Ta(function(){var r=to(e,1);if(r!==null){var i=Nn();ri(r,e,1,i)}}),AT(e,1)}};X1=function(e){if(e.tag===13){var t=to(e,134217728);if(t!==null){var n=Nn();ri(t,e,134217728,n)}AT(e,134217728)}};qx=function(e){if(e.tag===13){var t=Go(e),n=to(e,t);if(n!==null){var r=Nn();ri(n,e,t,r)}AT(e,t)}};zx=function(){return De};Wx=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};Xw=function(e,t,n){switch(t){case"input":if(zw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pm(r);if(!i)throw Error($(90));Tx(r),zw(r,i)}}}break;case"textarea":Ix(e,n);break;case"select":t=n.value,t!=null&&qu(e,!!n.multiple,t,!1)}};Px=IT;Ox=Ta;var Wz={usingClientEntryPoint:!1,Events:[Sh,Du,Pm,Ax,Rx,IT]},Wc={findFiberByHostInstance:ea,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Hz={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lx(e),e===null?null:e.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||qz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ep.isDisabled&&Ep.supportsFiber)try{km=Ep.inject(Hz),Ti=Ep}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wz;vr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PT(t))throw Error($(200));return $z(e,t,null,n)};vr.createRoot=function(e,t){if(!PT(e))throw Error($(299));var n=!1,r="",i=p2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=NT(e,1,!1,null,null,n,!1,r,i),e[eo]=t.current,Vf(e.nodeType===8?e.parentNode:e),new RT(t)};vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Lx(t),e=e===null?null:e.stateNode,e};vr.flushSync=function(e){return Ta(e)};vr.hydrate=function(e,t,n){if(!Vm(t))throw Error($(200));return Bm(null,e,t,!0,n)};vr.hydrateRoot=function(e,t,n){if(!PT(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=p2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=d2(t,null,e,1,n??null,i,!1,s,a),e[eo]=t.current,Vf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jm(t)};vr.render=function(e,t,n){if(!Vm(t))throw Error($(200));return Bm(null,e,t,!1,n)};vr.unmountComponentAtNode=function(e){if(!Vm(e))throw Error($(40));return e._reactRootContainer?(Ta(function(){Bm(null,null,e,!1,function(){e._reactRootContainer=null,e[eo]=null})}),!0):!1};vr.unstable_batchedUpdates=IT;vr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vm(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Bm(e,t,n,!1,r)};vr.version="18.2.0-next-9e3b772b8-20220608";function v2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v2)}catch(e){console.error(e)}}v2(),dx.exports=vr;var Kz=dx.exports,rR=Kz;Fw.createRoot=rR.createRoot,Fw.hydrateRoot=rR.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qf.apply(this,arguments)}var Uo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Uo||(Uo={}));const iR="popstate";function Gz(e){e===void 0&&(e={});function t(i,s){let{pathname:a="/",search:l="",hash:c=""}=Ua(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),RE("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=i.location.href,h=c.indexOf("#");l=h===-1?c:c.slice(0,h)}return l+"#"+(typeof s=="string"?s:Pv(s))}function r(i,s){$m(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Yz(t,n,r,e)}function mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $m(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qz(){return Math.random().toString(36).substr(2,8)}function oR(e,t){return{usr:e.state,key:e.key,idx:t}}function RE(e,t,n,r){return n===void 0&&(n=null),Qf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ua(t):t,{state:n,key:t&&t.key||r||Qz()})}function Pv(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ua(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Yz(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Uo.Pop,c=null,h=d();h==null&&(h=0,a.replaceState(Qf({},a.state,{idx:h}),""));function d(){return(a.state||{idx:null}).idx}function v(){l=Uo.Pop;let S=d(),E=S==null?null:S-h;h=S,c&&c({action:l,location:b.location,delta:E})}function g(S,E){l=Uo.Push;let I=RE(b.location,S,E);n&&n(I,S),h=d()+1;let C=oR(I,h),P=b.createHref(I);try{a.pushState(C,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}s&&c&&c({action:l,location:b.location,delta:1})}function y(S,E){l=Uo.Replace;let I=RE(b.location,S,E);n&&n(I,S),h=d();let C=oR(I,h),P=b.createHref(I);a.replaceState(C,"",P),s&&c&&c({action:l,location:b.location,delta:0})}function w(S){let E=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof S=="string"?S:Pv(S);return mt(E,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,E)}let b={get action(){return l},get location(){return e(i,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(iR,v),c=S,()=>{i.removeEventListener(iR,v),c=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let E=w(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(S){return a.go(S)}};return b}var sR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sR||(sR={}));function Xz(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ua(t):t,i=OT(r.pathname||"/",n);if(i==null)return null;let s=m2(e);Jz(s);let a=null;for(let l=0;a==null&&l<s.length;++l)a=a6(s[l],c6(i));return a}function m2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(mt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Yo([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),m2(s.children,t,d,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:o6(h,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of g2(s.path))i(s,a,c)}),t}function g2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=g2(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Jz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:s6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Zz=/^:\w+$/,e6=3,t6=2,n6=1,r6=10,i6=-2,aR=e=>e==="*";function o6(e,t){let n=e.split("/"),r=n.length;return n.some(aR)&&(r+=i6),t&&(r+=t6),n.filter(i=>!aR(i)).reduce((i,s)=>i+(Zz.test(s)?e6:s===""?n6:r6),r)}function s6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function a6(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",d=u6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!d)return null;Object.assign(r,d.params);let v=l.route;s.push({params:r,pathname:Yo([i,d.pathname]),pathnameBase:p6(Yo([i,d.pathnameBase])),route:v}),d.pathnameBase!=="/"&&(i=Yo([i,d.pathnameBase]))}return s}function u6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=l6(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,d,v)=>{if(d==="*"){let g=l[v]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return h[d]=f6(l[v]||"",d),h},{}),pathname:s,pathnameBase:a,pattern:e}}function l6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),$m(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function c6(e){try{return decodeURI(e)}catch(t){return $m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function f6(e,t){try{return decodeURIComponent(e)}catch(n){return $m(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function OT(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function h6(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ua(e):e;return{pathname:n?n.startsWith("/")?n:d6(n,t):t,search:v6(r),hash:m6(i)}}function d6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Q_(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function DT(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ua(e):(i=Qf({},e),mt(!i.pathname||!i.pathname.includes("?"),Q_("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),Q_("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),Q_("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(r||a==null)l=n;else{let v=t.length-1;if(a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),v-=1;i.pathname=g.join("/")}l=v>=0?t[v]:"/"}let c=h6(i,l),h=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const Yo=e=>e.join("/").replace(/\/\/+/g,"/"),p6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const y2=["post","put","patch","delete"];new Set(y2);const y6=["get",...y2];new Set(y6);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ov.apply(this,arguments)}const LT=F.createContext(null),_6=F.createContext(null),Dl=F.createContext(null),qm=F.createContext(null),vs=F.createContext({outlet:null,matches:[],isDataRoute:!1}),_2=F.createContext(null);function w6(e,t){let{relative:n}=t===void 0?{}:t;Ll()||mt(!1);let{basename:r,navigator:i}=F.useContext(Dl),{hash:s,pathname:a,search:l}=E2(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Yo([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Ll(){return F.useContext(qm)!=null}function kh(){return Ll()||mt(!1),F.useContext(qm).location}function w2(e){F.useContext(Dl).static||F.useLayoutEffect(e)}function zm(){let{isDataRoute:e}=F.useContext(vs);return e?x6():E6()}function E6(){Ll()||mt(!1);let e=F.useContext(LT),{basename:t,navigator:n}=F.useContext(Dl),{matches:r}=F.useContext(vs),{pathname:i}=kh(),s=JSON.stringify(xT(r).map(c=>c.pathnameBase)),a=F.useRef(!1);return w2(()=>{a.current=!0}),F.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=DT(c,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Yo([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,s,i,e])}function E2(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=F.useContext(vs),{pathname:i}=kh(),s=JSON.stringify(xT(r).map(a=>a.pathnameBase));return F.useMemo(()=>DT(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function T6(e,t){return b6(e,t)}function b6(e,t,n){Ll()||mt(!1);let{navigator:r}=F.useContext(Dl),{matches:i}=F.useContext(vs),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=kh(),h;if(t){var d;let b=typeof t=="string"?Ua(t):t;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||mt(!1),h=b}else h=c;let v=h.pathname||"/",g=l==="/"?v:v.slice(l.length)||"/",y=Xz(e,{pathname:g}),w=N6(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Yo([l,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Yo([l,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n);return t&&w?F.createElement(qm.Provider,{value:{location:Ov({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Uo.Pop}},w):w}function I6(){let e=O6(),t=g6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:i},n):null,s)}const S6=F.createElement(I6,null);class C6 extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?F.createElement(vs.Provider,{value:this.props.routeContext},F.createElement(_2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k6(e){let{routeContext:t,match:n,children:r}=e,i=F.useContext(LT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(vs.Provider,{value:t},r)}function N6(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));l>=0||mt(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let d=c.route.id?a==null?void 0:a[c.route.id]:null,v=null;n&&(v=c.route.errorElement||S6);let g=t.concat(s.slice(0,h+1)),y=()=>{let w;return d?w=v:c.route.Component?w=F.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,F.createElement(k6,{match:c,routeContext:{outlet:l,matches:g,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?F.createElement(C6,{location:n.location,revalidation:n.revalidation,component:v,error:d,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var T2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T2||{}),xv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xv||{});function A6(e){let t=F.useContext(LT);return t||mt(!1),t}function R6(e){let t=F.useContext(_6);return t||mt(!1),t}function P6(e){let t=F.useContext(vs);return t||mt(!1),t}function b2(e){let t=P6(),n=t.matches[t.matches.length-1];return n.route.id||mt(!1),n.route.id}function O6(){var e;let t=F.useContext(_2),n=R6(xv.UseRouteError),r=b2(xv.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function x6(){let{router:e}=A6(T2.UseNavigateStable),t=b2(xv.UseNavigateStable),n=F.useRef(!1);return w2(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ov({fromRouteId:t},s)))},[e,t])}function Y_(e){let{to:t,replace:n,state:r,relative:i}=e;Ll()||mt(!1);let{matches:s}=F.useContext(vs),{pathname:a}=kh(),l=zm(),c=DT(t,xT(s).map(d=>d.pathnameBase),a,i==="path"),h=JSON.stringify(c);return F.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:i}),[l,h,i,n,r]),null}function Xp(e){mt(!1)}function D6(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Uo.Pop,navigator:s,static:a=!1}=e;Ll()&&mt(!1);let l=t.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:s,static:a}),[l,s,a]);typeof r=="string"&&(r=Ua(r));let{pathname:h="/",search:d="",hash:v="",state:g=null,key:y="default"}=r,w=F.useMemo(()=>{let b=OT(h,l);return b==null?null:{location:{pathname:b,search:d,hash:v,state:g,key:y},navigationType:i}},[l,h,d,v,g,y,i]);return w==null?null:F.createElement(Dl.Provider,{value:c},F.createElement(qm.Provider,{children:n,value:w}))}function L6(e){let{children:t,location:n}=e;return T6(PE(t),n)}new Promise(()=>{});function PE(e,t){t===void 0&&(t=[]);let n=[];return F.Children.forEach(e,(r,i)=>{if(!F.isValidElement(r))return;let s=[...t,i];if(r.type===F.Fragment){n.push.apply(n,PE(r.props.children,s));return}r.type!==Xp&&mt(!1),!r.props.index||!r.props.children||mt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=PE(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OE.apply(this,arguments)}function M6(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function F6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U6(e,t){return e.button===0&&(!t||t==="_self")&&!F6(e)}const j6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],V6="startTransition",uR=F$[V6];function B6(e){let{basename:t,children:n,future:r,window:i}=e,s=F.useRef();s.current==null&&(s.current=Gz({window:i,v5Compat:!0}));let a=s.current,[l,c]=F.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},d=F.useCallback(v=>{h&&uR?uR(()=>c(v)):c(v)},[c,h]);return F.useLayoutEffect(()=>a.listen(d),[a,d]),F.createElement(D6,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}const $6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gf=F.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:h,preventScrollReset:d,unstable_viewTransition:v}=t,g=M6(t,j6),{basename:y}=F.useContext(Dl),w,b=!1;if(typeof h=="string"&&q6.test(h)&&(w=h,$6))try{let C=new URL(window.location.href),P=h.startsWith("//")?new URL(C.protocol+h):new URL(h),O=OT(P.pathname,y);P.origin===C.origin&&O!=null?h=O+P.search+P.hash:b=!0}catch{}let S=w6(h,{relative:i}),E=z6(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,unstable_viewTransition:v});function I(C){r&&r(C),C.defaultPrevented||E(C)}return F.createElement("a",OE({},g,{href:w||S,onClick:b||s?r:I,ref:n,target:c}))});var lR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lR||(lR={}));var cR;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cR||(cR={}));function z6(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:l}=t===void 0?{}:t,c=zm(),h=kh(),d=E2(e,{relative:a});return F.useCallback(v=>{if(U6(v,n)){v.preventDefault();let g=r!==void 0?r:Pv(h)===Pv(d);c(e,{replace:g,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:l})}},[h,c,d,r,i,n,e,s,a,l])}function I2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=I2(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function jo(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=I2(e))&&(r&&(r+=" "),r+=t);return r}const yf=e=>typeof e=="number"&&!isNaN(e),ba=e=>typeof e=="string",qn=e=>typeof e=="function",Jp=e=>ba(e)||qn(e)?e:null,X_=e=>F.isValidElement(e)||ba(e)||qn(e)||yf(e);function W6(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Wm(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(a){let{children:l,position:c,preventExitTransition:h,done:d,nodeRef:v,isIn:g}=a;const y=r?`${t}--${c}`:t,w=r?`${n}--${c}`:n,b=F.useRef(0);return F.useLayoutEffect(()=>{const S=v.current,E=y.split(" "),I=C=>{C.target===v.current&&(S.dispatchEvent(new Event("d")),S.removeEventListener("animationend",I),S.removeEventListener("animationcancel",I),b.current===0&&C.type!=="animationcancel"&&S.classList.remove(...E))};S.classList.add(...E),S.addEventListener("animationend",I),S.addEventListener("animationcancel",I)},[]),F.useEffect(()=>{const S=v.current,E=()=>{S.removeEventListener("animationend",E),i?W6(S,d,s):d()};g||(h?E():(b.current=1,S.className+=` ${w}`,S.addEventListener("animationend",E)))},[g]),Me.createElement(Me.Fragment,null,l)}}function fR(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Er={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Tp=e=>{let{theme:t,type:n,...r}=e;return Me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},J_={info:function(e){return Me.createElement(Tp,{...e},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Me.createElement(Tp,{...e},Me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Me.createElement(Tp,{...e},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Me.createElement(Tp,{...e},Me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Me.createElement("div",{className:"Toastify__spinner"})}};function H6(e){const[,t]=F.useReducer(y=>y+1,0),[n,r]=F.useState([]),i=F.useRef(null),s=F.useRef(new Map).current,a=y=>n.indexOf(y)!==-1,l=F.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:a,getToast:y=>s.get(y)}).current;function c(y){let{containerId:w}=y;const{limit:b}=l.props;!b||w&&l.containerId!==w||(l.count-=l.queue.length,l.queue=[])}function h(y){r(w=>y==null?[]:w.filter(b=>b!==y))}function d(){const{toastContent:y,toastProps:w,staleId:b}=l.queue.shift();g(y,w,b)}function v(y,w){let{delay:b,staleId:S,...E}=w;if(!X_(y)||function(Ke){return!i.current||l.props.enableMultiContainer&&Ke.containerId!==l.props.containerId||s.has(Ke.toastId)&&Ke.updateId==null}(E))return;const{toastId:I,updateId:C,data:P}=E,{props:O}=l,x=()=>h(I),V=C==null;V&&l.count++;const M={...O,style:O.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(E).filter(Ke=>{let[qt,gt]=Ke;return gt!=null})),toastId:I,updateId:C,data:P,closeToast:x,isIn:!1,className:Jp(E.className||O.toastClassName),bodyClassName:Jp(E.bodyClassName||O.bodyClassName),progressClassName:Jp(E.progressClassName||O.progressClassName),autoClose:!E.isLoading&&(re=E.autoClose,N=O.autoClose,re===!1||yf(re)&&re>0?re:N),deleteToast(){const Ke=fR(s.get(I),"removed");s.delete(I),Er.emit(4,Ke);const qt=l.queue.length;if(l.count=I==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),qt>0){const gt=I==null?l.props.limit:1;if(qt===1||gt===1)l.displayedToast++,d();else{const mn=gt>qt?qt:gt;l.displayedToast=mn;for(let Ze=0;Ze<mn;Ze++)d()}}else t()}};var re,N;M.iconOut=function(Ke){let{theme:qt,type:gt,isLoading:mn,icon:Ze}=Ke,tn=null;const z={theme:qt,type:gt};return Ze===!1||(qn(Ze)?tn=Ze(z):F.isValidElement(Ze)?tn=F.cloneElement(Ze,z):ba(Ze)||yf(Ze)?tn=Ze:mn?tn=J_.spinner():(ie=>ie in J_)(gt)&&(tn=J_[gt](z))),tn}(M),qn(E.onOpen)&&(M.onOpen=E.onOpen),qn(E.onClose)&&(M.onClose=E.onClose),M.closeButton=O.closeButton,E.closeButton===!1||X_(E.closeButton)?M.closeButton=E.closeButton:E.closeButton===!0&&(M.closeButton=!X_(O.closeButton)||O.closeButton);let $e=y;F.isValidElement(y)&&!ba(y.type)?$e=F.cloneElement(y,{closeToast:x,toastProps:M,data:P}):qn(y)&&($e=y({closeToast:x,toastProps:M,data:P})),O.limit&&O.limit>0&&l.count>O.limit&&V?l.queue.push({toastContent:$e,toastProps:M,staleId:S}):yf(b)?setTimeout(()=>{g($e,M,S)},b):g($e,M,S)}function g(y,w,b){const{toastId:S}=w;b&&s.delete(b);const E={content:y,props:w};s.set(S,E),r(I=>[...I,S].filter(C=>C!==b)),Er.emit(4,fR(E,E.props.updateId==null?"added":"updated"))}return F.useEffect(()=>(l.containerId=e.containerId,Er.cancelEmit(3).on(0,v).on(1,y=>i.current&&h(y)).on(5,c).emit(2,l),()=>{s.clear(),Er.emit(3,l)}),[]),F.useEffect(()=>{l.props=e,l.isToastActive=a,l.displayedToast=n.length}),{getToastToRender:function(y){const w=new Map,b=Array.from(s.values());return e.newestOnTop&&b.reverse(),b.forEach(S=>{const{position:E}=S.props;w.has(E)||w.set(E,[]),w.get(E).push(S)}),Array.from(w,S=>y(S[0],S[1]))},containerRef:i,isToastActive:a}}function hR(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function dR(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function K6(e){const[t,n]=F.useState(!1),[r,i]=F.useState(!1),s=F.useRef(null),a=F.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=F.useRef(e),{autoClose:c,pauseOnHover:h,closeToast:d,onClick:v,closeOnClick:g}=e;function y(P){if(e.draggable){P.nativeEvent.type==="touchstart"&&P.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",E),document.addEventListener("mouseup",I),document.addEventListener("touchmove",E),document.addEventListener("touchend",I);const O=s.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=O.getBoundingClientRect(),O.style.transition="",a.x=hR(P.nativeEvent),a.y=dR(P.nativeEvent),e.draggableDirection==="x"?(a.start=a.x,a.removalDistance=O.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=O.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function w(P){if(a.boundingRect){const{top:O,bottom:x,left:V,right:M}=a.boundingRect;P.nativeEvent.type!=="touchend"&&e.pauseOnHover&&a.x>=V&&a.x<=M&&a.y>=O&&a.y<=x?S():b()}}function b(){n(!0)}function S(){n(!1)}function E(P){const O=s.current;a.canDrag&&O&&(a.didMove=!0,t&&S(),a.x=hR(P),a.y=dR(P),a.delta=e.draggableDirection==="x"?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),O.style.transform=`translate${e.draggableDirection}(${a.delta}px)`,O.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function I(){document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",I),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",I);const P=s.current;if(a.canDrag&&a.didMove&&P){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),void e.closeToast();P.style.transition="transform 0.2s, opacity 0.2s",P.style.transform=`translate${e.draggableDirection}(0)`,P.style.opacity="1"}}F.useEffect(()=>{l.current=e}),F.useEffect(()=>(s.current&&s.current.addEventListener("d",b,{once:!0}),qn(e.onOpen)&&e.onOpen(F.isValidElement(e.children)&&e.children.props),()=>{const P=l.current;qn(P.onClose)&&P.onClose(F.isValidElement(P.children)&&P.children.props)}),[]),F.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||S(),window.addEventListener("focus",b),window.addEventListener("blur",S)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",S))}),[e.pauseOnFocusLoss]);const C={onMouseDown:y,onTouchStart:y,onMouseUp:w,onTouchEnd:w};return c&&h&&(C.onMouseEnter=S,C.onMouseLeave=b),g&&(C.onClick=P=>{v&&v(P),a.canCloseOnClick&&d()}),{playToast:b,pauseToast:S,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:C}}function S2(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function G6(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:a,style:l,controlledProgress:c,progress:h,rtl:d,isIn:v,theme:g}=e;const y=s||c&&h===0,w={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:y?0:1};c&&(w.transform=`scaleX(${h})`);const b=jo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),S=qn(a)?a({rtl:d,type:i,defaultClassName:b}):jo(b,a);return Me.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:S,style:w,[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{v&&r()}})}const Q6=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=K6(e),{closeButton:s,children:a,autoClose:l,onClick:c,type:h,hideProgressBar:d,closeToast:v,transition:g,position:y,className:w,style:b,bodyClassName:S,bodyStyle:E,progressClassName:I,progressStyle:C,updateId:P,role:O,progress:x,rtl:V,toastId:M,deleteToast:re,isIn:N,isLoading:$e,iconOut:Ke,closeOnClick:qt,theme:gt}=e,mn=jo("Toastify__toast",`Toastify__toast-theme--${gt}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":V},{"Toastify__toast--close-on-click":qt}),Ze=qn(w)?w({rtl:V,position:y,type:h,defaultClassName:mn}):jo(mn,w),tn=!!x||!l,z={closeToast:v,type:h,theme:gt};let ie=null;return s===!1||(ie=qn(s)?s(z):F.isValidElement(s)?F.cloneElement(s,z):S2(z)),Me.createElement(g,{isIn:N,done:re,position:y,preventExitTransition:n,nodeRef:r},Me.createElement("div",{id:M,onClick:c,className:Ze,...i,style:b,ref:r},Me.createElement("div",{...N&&{role:O},className:qn(S)?S({type:h}):jo("Toastify__toast-body",S),style:E},Ke!=null&&Me.createElement("div",{className:jo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!$e})},Ke),Me.createElement("div",null,a)),ie,Me.createElement(G6,{...P&&!tn?{key:`pb-${P}`}:{},rtl:V,theme:gt,delay:l,isRunning:t,isIn:N,closeToast:v,hide:d,type:h,style:C,className:I,controlledProgress:tn,progress:x||0})))},Hm=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Y6=Wm(Hm("bounce",!0));Wm(Hm("slide",!0));Wm(Hm("zoom"));Wm(Hm("flip"));const xE=F.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=H6(e),{className:s,style:a,rtl:l,containerId:c}=e;function h(d){const v=jo("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":l});return qn(s)?s({position:d,rtl:l,defaultClassName:v}):jo(v,Jp(s))}return F.useEffect(()=>{t&&(t.current=r.current)},[]),Me.createElement("div",{ref:r,className:"Toastify",id:c},n((d,v)=>{const g=v.length?{...a}:{...a,pointerEvents:"none"};return Me.createElement("div",{className:h(d),style:g,key:`container-${d}`},v.map((y,w)=>{let{content:b,props:S}=y;return Me.createElement(Q6,{...S,isIn:i(S.toastId),style:{...S.style,"--nth":w+1,"--len":v.length},key:`toast-${S.key}`},b)}))}))});xE.displayName="ToastContainer",xE.defaultProps={position:"top-right",transition:Y6,autoClose:5e3,closeButton:S2,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Z_,Qs=new Map,of=[],X6=1;function C2(){return""+X6++}function J6(e){return e&&(ba(e.toastId)||yf(e.toastId))?e.toastId:C2()}function _f(e,t){return Qs.size>0?Er.emit(0,e,t):of.push({content:e,options:t}),t.toastId}function Dv(e,t){return{...t,type:t&&t.type||e,toastId:J6(t)}}function bp(e){return(t,n)=>_f(t,Dv(e,n))}function we(e,t){return _f(e,Dv("default",t))}we.loading=(e,t)=>_f(e,Dv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),we.promise=function(e,t,n){let r,{pending:i,error:s,success:a}=t;i&&(r=ba(i)?we.loading(i,n):we.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,v,g)=>{if(v==null)return void we.dismiss(r);const y={type:d,...l,...n,data:g},w=ba(v)?{render:v}:v;return r?we.update(r,{...y,...w}):we(w.render,{...y,...w}),g},h=qn(e)?e():e;return h.then(d=>c("success",a,d)).catch(d=>c("error",s,d)),h},we.success=bp("success"),we.info=bp("info"),we.error=bp("error"),we.warning=bp("warning"),we.warn=we.warning,we.dark=(e,t)=>_f(e,Dv("default",{theme:"dark",...t})),we.dismiss=e=>{Qs.size>0?Er.emit(1,e):of=of.filter(t=>e!=null&&t.options.toastId!==e)},we.clearWaitingQueue=function(e){return e===void 0&&(e={}),Er.emit(5,e)},we.isActive=e=>{let t=!1;return Qs.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},we.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const a=Qs.get(s||Z_);return a&&a.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:C2()};s.toastId!==e&&(s.staleId=e);const a=s.render||i;delete s.render,_f(a,s)}},0)},we.done=e=>{we.update(e,{progress:1})},we.onChange=e=>(Er.on(4,e),()=>{Er.off(4,e)}),we.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},we.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Er.on(2,e=>{Z_=e.containerId||e,Qs.set(Z_,e),of.forEach(t=>{Er.emit(0,t.content,t.options)}),of=[]}).on(3,e=>{Qs.delete(e.containerId||e),Qs.size===0&&Er.off(0).off(1).off(5)});const Z6="_container_ftv4z_1",eW="_content_ftv4z_13",tW="_sidebar_ftv4z_19",ew={container:Z6,content:eW,sidebar:tW};function nW(){return G.jsxs("div",{className:ew.container,children:[G.jsx("div",{className:ew.content}),G.jsx("div",{className:ew.sidebar})]})}var DE=function(e,t){return DE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},DE(e,t)};function K(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");DE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ue=function(){return Ue=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ue.apply(this,arguments)};function R(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{h(r.next(d))}catch(v){a(v)}}function c(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function A(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(d){return c([h,d])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function $t(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function ge(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(e,t){if(!e)throw Ml(t)},Ml=function(e){return new Error("Firebase Database ("+k2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N2=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},rW=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Yf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,d=s>>2,v=(s&3)<<4|l>>4,g=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(g=64)),r.push(n[d],n[v],n[g],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(N2(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rW(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var d=i<e.length,v=d?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||v==null)throw Error();var g=s<<2|l>>4;if(r.push(g),h!==64){var y=l<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},iW=function(e){var t=N2(e);return Yf.encodeByteArray(t,!0)},pR=function(e){try{return Yf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(e){return Xf(void 0,e)}function Xf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!oW(r)||(e[r]=Xf(e[r],t[r]));return e}function oW(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Ue({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Yf.encodeString(JSON.stringify(n),!1),Yf.encodeString(JSON.stringify(a),!1),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ia())}function sW(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aW(){return typeof self=="object"&&self.self===self}function FT(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function P2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uW(){return Ia().indexOf("Electron/")>=0}function lW(){var e=Ia();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function cW(){return Ia().indexOf("MSAppHost/")>=0}function O2(){return k2.NODE_ADMIN===!0}function UT(){return"indexedDB"in self&&indexedDB!=null}function jT(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function x2(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fW="FirebaseError",Fl=function(e){K(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=fW,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,ms.prototype.create),s}return t}(Error),ms=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?hW(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Fl(s,c,i);return h},e}();function hW(e,t){return e.replace(dW,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var dW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(e){return JSON.parse(e)}function Nt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D2=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=Jf(pR(s[0])||""),n=Jf(pR(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},pW=function(e){var t=D2(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vW=function(e){var t=D2(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Sa(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function LE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lv(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(d){t.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gW=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,g,i=0;i<80;i++){i<40?i<20?(v=h^l&(c^h),g=1518500249):(v=l^c^h,g=1859775393):i<60?(v=l&c|h&(l|c),g=2400959708):(v=l^c^h,g=3395469782);var s=(a<<5|a>>>27)+v+d+g+r[i]&4294967295;d=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function yW(e,t){var n=new _W(e,t);return n.subscribe.bind(n)}var _W=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wW(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=tw),s.error===void 0&&(s.error=tw),s.complete===void 0&&(s.complete=tw);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function wW(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function tw(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Gn(e,t){return e+" failed: "+t+" argument "}function Ft(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Gn(e,t)+"must be a valid function.")}function vR(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Gn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EW=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,q(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Km=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TW=1e3,bW=2,IW=4*60*60*1e3,SW=.5;function ME(e,t,n){t===void 0&&(t=TW),n===void 0&&(n=bW);var r=t*Math.pow(n,e),i=Math.round(SW*r*(Math.random()-.5)*2);return Math.min(IW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e){return e&&e._delegate?e._delegate:e}var Xn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L2=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(t){t===void 0&&(t=Co);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Bn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=Ue({identifier:Co,optional:!1},t),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(kW(t))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}try{for(var i=$t(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Gt(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var d=this.getOrInitializeService({instanceIdentifier:h});c.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Co),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ge(ge([],Gt(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Gt(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Co),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.instanceIdentifier,s=i===void 0?Co:i,a=t.options,l=a===void 0?{}:a,c=this.normalizeInstanceIdentifier(s);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var h=this.getOrInitializeService({instanceIdentifier:c,options:l});try{for(var d=$t(this.instancesDeferred.entries()),v=d.next();!v.done;v=d.next()){var g=Gt(v.value,2),y=g[0],w=g[1],b=this.normalizeInstanceIdentifier(y);c===b&&w.resolve(h)}}catch(S){n={error:S}}finally{try{v&&!v.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(h,c),h},e.prototype.onInit=function(t){var n=this;return this.onInitCallbacks.add(t),function(){n.onInitCallbacks.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i;try{for(var s=$t(this.onInitCallbacks),a=s.next();!a.done;a=s.next()){var l=a.value;try{l(t,n)}catch{}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CW(n),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Co:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function CW(e){return e===Co?void 0:e}function kW(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M2=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new L2(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Yr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hs,VT=[],me;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(me||(me={}));var F2={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},NW=me.INFO,AW=(Hs={},Hs[me.DEBUG]="log",Hs[me.VERBOSE]="log",Hs[me.INFO]="info",Hs[me.WARN]="warn",Hs[me.ERROR]="error",Hs),RW=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=AW[t];if(s)console[s].apply(console,Yr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Ul=function(){function e(t){this.name=t,this._logLevel=NW,this._logHandler=RW,this._userLogHandler=null,VT.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in me))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?F2[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yr([this,me.DEBUG],t)),this._logHandler.apply(this,Yr([this,me.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yr([this,me.VERBOSE],t)),this._logHandler.apply(this,Yr([this,me.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yr([this,me.INFO],t)),this._logHandler.apply(this,Yr([this,me.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yr([this,me.WARN],t)),this._logHandler.apply(this,Yr([this,me.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yr([this,me.ERROR],t)),this._logHandler.apply(this,Yr([this,me.ERROR],t))},e}();function PW(e){VT.forEach(function(t){t.setLogLevel(e)})}function OW(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=F2[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var g=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:me[h].toLowerCase(),message:g,args:d,type:c.name})}},r=0,i=VT;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To,xW=(To={},To["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",To["bad-app-name"]="Illegal App name: '{$appName}",To["duplicate-app"]="Firebase App named '{$appName}' already exists",To["app-deleted"]="Firebase App named '{$appName}' already deleted",To["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",To["invalid-log-argument"]="First argument to `onLog` must be null or a function.",To),Cu=new ms("app","Firebase",xW),U2="@firebase/app",DW="0.6.21",LW="@firebase/analytics",MW="@firebase/app-check",FW="@firebase/auth",UW="@firebase/database",jW="@firebase/functions",VW="@firebase/installations",BW="@firebase/messaging",$W="@firebase/performance",qW="@firebase/remote-config",zW="@firebase/storage",WW="@firebase/firestore",HW="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Mv="[DEFAULT]",KW=(on={},on[U2]="fire-core",on[LW]="fire-analytics",on[MW]="fire-app-check",on[FW]="fire-auth",on[UW]="fire-rtdb",on[jW]="fire-fn",on[VW]="fire-iid",on[BW]="fire-fcm",on[$W]="fire-perf",on[qW]="fire-rc",on[zW]="fire-gcs",on[WW]="fire-fst",on["fire-js"]="fire-js",on[HW]="fire-js-all",on);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var al=new Ul("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zp=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=A2(t),this.container=new M2(n.name),this._addComponent(new Xn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=Mv),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Mv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){al.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Cu.create("app-deleted",{appName:this.name_})},e}();Zp.prototype.name&&Zp.prototype.options||Zp.prototype.delete||console.log("dc");var GW="8.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:PW,onLog:d,apps:null,SDK_VERSION:GW,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(g){delete t[g]}function s(g){if(g=g||Mv,!fr(t,g))throw Cu.create("no-app",{appName:g});return t[g]}s.App=e;function a(g,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var b=y;b.name===void 0&&(b.name=Mv);var S=b.name;if(typeof S!="string"||!S)throw Cu.create("bad-app-name",{appName:String(S)});if(fr(t,S))throw Cu.create("duplicate-app",{appName:S});var E=new e(g,b,r);return t[S]=E,E}function l(){return Object.keys(t).map(function(g){return t[g]})}function c(g){var y=g.name;if(n.has(y))return al.debug("There were multiple attempts to register component "+y+"."),g.type==="PUBLIC"?r[y]:null;if(n.set(y,g),g.type==="PUBLIC"){var w=function(I){if(I===void 0&&(I=s()),typeof I[y]!="function")throw Cu.create("invalid-app-argument",{appName:y});return I[y]()};g.serviceProps!==void 0&&Xf(w,g.serviceProps),r[y]=w,e.prototype[y]=function(){for(var I=[],C=0;C<arguments.length;C++)I[C]=arguments[C];var P=this._getService.bind(this,y);return P.apply(this,g.multipleInstances?I:[])}}for(var b=0,S=Object.keys(t);b<S.length;b++){var E=S[b];t[E]._addComponent(g)}return g.type==="PUBLIC"?r[y]:null}function h(g,y,w){var b,S=(b=KW[g])!==null&&b!==void 0?b:g;w&&(S+="-"+w);var E=S.match(/\s|\//),I=y.match(/\s|\//);if(E||I){var C=['Unable to register library "'+S+'" with version "'+y+'":'];E&&C.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),E&&I&&C.push("and"),I&&C.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),al.warn(C.join(" "));return}c(new Xn(S+"-version",function(){return{library:S,version:y}},"VERSION"))}function d(g,y){if(g!==null&&typeof g!="function")throw Cu.create("invalid-log-argument");OW(g,y)}function v(g,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){var e=QW(Zp);e.INTERNAL=Ue(Ue({},e.INTERNAL),{createFirebaseNamespace:j2,extendNamespace:t,createSubscribe:yW,ErrorFactory:ms,deepExtend:Xf});function t(n){Xf(e,n)}return e}var BT=j2();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YW=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(XW(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function XW(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(e,t){e.INTERNAL.registerComponent(new Xn("platform-logger",function(n){return new YW(n)},"PRIVATE")),e.registerVersion(U2,DW,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(aW()&&self.firebase!==void 0){al.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var mR=self.firebase.SDK_VERSION;mR&&mR.indexOf("LITE")>=0&&al.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var ZW=BT.initializeApp;BT.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return sW()&&al.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),ZW.apply(void 0,e)};var ee=BT;JW(ee);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var m=o[p];m in f||(f[m]={}),f=f[m]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(T){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{T(k.resolve,k.reject)}catch(L){k.reject(L)}}function f(){this.a=null}function p(T){return T instanceof u?T:new u(function(k){k(T)})}if(o)return o;f.prototype.b=function(T){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(T)};var m=r.setTimeout;f.prototype.c=function(T){m(T,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var T=this.a;this.a=[];for(var k=0;k<T.length;++k){var L=T[k];T[k]=null;try{L()}catch(U){this.f(U)}}}this.a=null},f.prototype.f=function(T){this.c(function(){throw T})},u.prototype.f=function(){function T(U){return function(ae){L||(L=!0,U.call(k,ae))}}var k=this,L=!1;return{resolve:T(this.m),reject:T(this.g)}},u.prototype.m=function(T){if(T===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(T instanceof u)this.s(T);else{e:switch(typeof T){case"object":var k=T!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.v(T):this.h(T)}},u.prototype.v=function(T){var k=void 0;try{k=T.then}catch(L){this.g(L);return}typeof k=="function"?this.u(k,T):this.h(T)},u.prototype.g=function(T){this.i(2,T)},u.prototype.h=function(T){this.i(1,T)},u.prototype.i=function(T,k){if(this.b!=0)throw Error("Cannot settle("+T+", "+k+"): Promise already settled in state"+this.b);this.b=T,this.c=k,this.l()},u.prototype.l=function(){if(this.a!=null){for(var T=0;T<this.a.length;++T)_.b(this.a[T]);this.a=null}};var _=new f;return u.prototype.s=function(T){var k=this.f();T.Qa(k.resolve,k.reject)},u.prototype.u=function(T,k){var L=this.f();try{T.call(k,L.resolve,L.reject)}catch(U){L.reject(U)}},u.prototype.then=function(T,k){function L(Ce,Dt){return typeof Ce=="function"?function(Vi){try{U(Ce(Vi))}catch(T_){ae(T_)}}:Dt}var U,ae,Pe=new u(function(Ce,Dt){U=Ce,ae=Dt});return this.Qa(L(T,U),L(k,ae)),Pe},u.prototype.catch=function(T){return this.then(void 0,T)},u.prototype.Qa=function(T,k){function L(){switch(U.b){case 1:T(U.c);break;case 2:k(U.c);break;default:throw Error("Unexpected state: "+U.b)}}var U=this;this.a==null?_.b(L):this.a.push(L)},u.resolve=p,u.reject=function(T){return new u(function(k,L){L(T)})},u.race=function(T){return new u(function(k,L){for(var U=a(T),ae=U.next();!ae.done;ae=U.next())p(ae.value).Qa(k,L)})},u.all=function(T){var k=a(T),L=k.next();return L.done?p([]):new u(function(U,ae){function Pe(Vi){return function(T_){Ce[Vi]=T_,Dt--,Dt==0&&U(Ce)}}var Ce=[],Dt=0;do Ce.push(void 0),Dt++,p(L.value).Qa(Pe(Ce.length-1),ae),L=k.next();while(!L.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function g(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function b(o){return y(o)=="function"}function S(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function E(o){return Object.prototype.hasOwnProperty.call(o,I)&&o[I]||(o[I]=++C)}var I="closure_uid_"+(1e9*Math.random()>>>0),C=0;function P(o,u,f){return o.call.apply(o.bind,arguments)}function O(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),o.apply(u,m)}}return function(){return o.apply(u,arguments)}}function x(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x=P:x=O,x.apply(null,arguments)}function V(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function M(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function re(o){return o}function N(o,u,f){this.code=Ke+o,this.message=u||qt[o]||"",this.a=f||null}M(N,Error),N.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},N.prototype.toJSON=function(){return this.w()};function $e(o){var u=o&&o.code;return u?new N(u.substring(Ke.length),o.message,o.serverResponse):null}var Ke="auth/",qt={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},gt={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function mn(o){for(var u in gt)if(gt[u].id===o)return o=gt[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var Ze;Ze=mn("__EID__")?"__EID__":void 0;function tn(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function z(o){if(Error.captureStackTrace)Error.captureStackTrace(this,z);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}M(z,Error),z.prototype.name="CustomError";function ie(o,u){o=o.split("%s");for(var f="",p=o.length-1,m=0;m<p;m++)f+=o[m]+(m<u.length?u[m]:"%s");z.call(this,f+o[p])}M(ie,z),ie.prototype.name="AssertionError";function ue(o,u){throw new ie("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function qe(o,u){this.c=o,this.f=u,this.b=0,this.a=null}qe.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function ct(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function bs(){this.b=this.a=null}var ui=new qe(function(){return new jr},function(o){o.reset()});bs.prototype.add=function(o,u){var f=ui.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function tc(){var o=OS,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function jr(){this.next=this.b=this.a=null}jr.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},jr.prototype.reset=function(){this.next=this.b=this.a=null};var Is=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},et=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,m=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in m&&u.call(f,m[_],_,o)};function g3(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var y3=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],m=0,_=typeof o=="string"?o.split(""):o,T=0;T<f;T++)if(T in _){var k=_[T];u.call(void 0,k,T,o)&&(p[m++]=k)}return p},id=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),m=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in m&&(p[_]=u.call(void 0,m[_],_,o));return p},_3=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o))return!0;return!1};function w3(o){e:{for(var u=Zj,f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o)){u=m;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function Li(o,u){return 0<=Is(o,u)}function od(o,u){u=Is(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function Vr(o,u){var f=0;g3(o,function(p,m){u.call(void 0,p,m,o)&&Array.prototype.splice.call(o,m,1).length==1&&f++})}function Qg(o){return Array.prototype.concat.apply([],arguments)}function Ss(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var aS=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},E3=/&/g,T3=/</g,b3=/>/g,I3=/"/g,S3=/'/g,C3=/\x00/g,k3=/[\x00&<>"']/;function je(o,u){return o.indexOf(u)!=-1}function Yg(o,u){return o<u?-1:o>u?1:0}var Ya;e:{var uS=c.navigator;if(uS){var lS=uS.userAgent;if(lS){Ya=lS;break e}}Ya=""}function It(o){return je(Ya,o)}function cS(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function Cs(o){for(var u in o)return!1;return!0}function fo(o){var u={},f;for(f in o)u[f]=o[f];return u}var fS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dn(o,u){for(var f,p,m=1;m<arguments.length;m++){p=arguments[m];for(f in p)o[f]=p[f];for(var _=0;_<fS.length;_++)f=fS[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function hS(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||c,p.Element&&p.Location){var m=p;break e}}catch{}m=null}if(m&&typeof m[u]<"u"&&(!o||!(o instanceof m[u])&&(o instanceof m.Location||o instanceof m.Element))){if(S(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;ue("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function li(o,u){this.a=o===sd&&u||"",this.b=dS}li.prototype.sa=!0,li.prototype.ra=function(){return this.a},li.prototype.toString=function(){return"Const{"+this.a+"}"};function Xg(o){return o instanceof li&&o.constructor===li&&o.b===dS?o.a:(ue("expected object of type Const, got '"+o+"'"),"type_error:Const")}var dS={},sd={},ad;function pS(){if(ad===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:re,createScript:re,createScriptURL:re})}catch(f){c.console&&c.console.error(f.message)}ad=o}else ad=o}return ad}function Xa(o,u){this.a=u===mS?o:""}Xa.prototype.sa=!0,Xa.prototype.ra=function(){return this.a.toString()},Xa.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function vS(o){return o instanceof Xa&&o.constructor===Xa?o.a:(ue("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Jg(o,u){var f=Xg(o);if(!A3.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(N3,function(p,m){if(!Object.prototype.hasOwnProperty.call(u,m))throw Error('Found marker, "'+m+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[m],p instanceof li?Xg(p):encodeURIComponent(String(p))}),R3(o)}var N3=/%{(\w+)}/g,A3=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,mS={};function R3(o){var u=pS();return o=u?u.createScriptURL(o):o,new Xa(o,mS)}function Ln(o,u){this.a=u===nc?o:""}Ln.prototype.sa=!0,Ln.prototype.ra=function(){return this.a.toString()},Ln.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function ud(o){return o instanceof Ln&&o.constructor===Ln?o.a:(ue("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var P3=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,O3=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,gS=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function yS(o){if(o instanceof Ln)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),gS.test(o))o=new Ln(o,nc);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(O3);o=u&&P3.test(u[1])?new Ln(o,nc):null}return o}function _S(o){return o instanceof Ln?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),gS.test(o)||(o="about:invalid#zClosurez"),new Ln(o,nc))}var nc={},wS=new Ln("about:invalid#zClosurez",nc);function Ja(o,u,f){this.a=f===ES?o:""}Ja.prototype.sa=!0,Ja.prototype.ra=function(){return this.a.toString()},Ja.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function x3(o){return o instanceof Ja&&o.constructor===Ja?o.a:(ue("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var ES={};function D3(o,u){hS(o,"HTMLScriptElement"),o.src=vS(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=v(u.document):(d===null&&(d=v(c.document)),u=d),u&&o.setAttribute("nonce",u)}function TS(o,u,f,p){return o=o instanceof Ln?o:_S(o),u=u||c,f=f instanceof li?Xg(f):f||"",u.open(ud(o),f,p,void 0)}function bS(o,u){for(var f=o.split("%s"),p="",m=Array.prototype.slice.call(arguments,1);m.length&&1<f.length;)p+=f.shift()+m.shift();return p+f.join("%s")}function Zg(o){return k3.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(E3,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(T3,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(b3,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(I3,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(S3,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(C3,"&#0;"))),o}function ey(o){return ey[" "](o),o}ey[" "]=g;function L3(o,u){var f=j3;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var M3=It("Opera"),Br=It("Trident")||It("MSIE"),IS=It("Edge"),F3=IS||Br,SS=It("Gecko")&&!(je(Ya.toLowerCase(),"webkit")&&!It("Edge"))&&!(It("Trident")||It("MSIE"))&&!It("Edge"),U3=je(Ya.toLowerCase(),"webkit")&&!It("Edge");function CS(){var o=c.document;return o?o.documentMode:void 0}var ld;e:{var ty="",ny=function(){var o=Ya;if(SS)return/rv:([^\);]+)(\)|;)/.exec(o);if(IS)return/Edge\/([\d\.]+)/.exec(o);if(Br)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(U3)return/WebKit\/(\S+)/.exec(o);if(M3)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(ny&&(ty=ny?ny[1]:""),Br){var ry=CS();if(ry!=null&&ry>parseFloat(ty)){ld=String(ry);break e}}ld=ty}var j3={};function kS(o){return L3(o,function(){for(var u=0,f=aS(String(ld)).split("."),p=aS(String(o)).split("."),m=Math.max(f.length,p.length),_=0;u==0&&_<m;_++){var T=f[_]||"",k=p[_]||"";do{if(T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],T[0].length==0&&k[0].length==0)break;u=Yg(T[1].length==0?0:parseInt(T[1],10),k[1].length==0?0:parseInt(k[1],10))||Yg(T[2].length==0,k[2].length==0)||Yg(T[2],k[2]),T=T[3],k=k[3]}while(u==0)}return 0<=u})}var iy;if(c.document&&Br){var NS=CS();iy=NS||parseInt(ld,10)||void 0}else iy=void 0;var ho=iy;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var V3=!Br||9<=Number(ho);function rc(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function AS(o,u){cS(u,function(f,p){f&&typeof f=="object"&&f.sa&&(f=f.ra()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:RS.hasOwnProperty(p)?o.setAttribute(RS[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var RS={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function B3(o,u,f){var p=arguments,m=document,_=String(p[0]),T=p[1];if(!V3&&T&&(T.name||T.type)){if(_=["<",_],T.name&&_.push(' name="',Zg(T.name),'"'),T.type){_.push(' type="',Zg(T.type),'"');var k={};Dn(k,T),delete k.type,T=k}_.push(">"),_=_.join("")}return _=cd(m,_),T&&(typeof T=="string"?_.className=T:Array.isArray(T)?_.className=T.join(" "):AS(_,T)),2<p.length&&$3(m,_,p),_}function $3(o,u,f){function p(k){k&&u.appendChild(typeof k=="string"?o.createTextNode(k):k)}for(var m=2;m<f.length;m++){var _=f[m];if(!w(_)||S(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(S(_)){var T=typeof _.item=="function"||typeof _.item=="string";break e}if(b(_)){T=typeof _.item=="function";break e}}T=!1}et(T?Ss(_):_,p)}}}function cd(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function PS(o){c.setTimeout(function(){throw o},0)}var oy;function q3(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!It("Presto")&&(o=function(){var m=cd(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var _=m.contentWindow;m=_.document,m.open(),m.close();var T="callImmediate"+Math.random(),k=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;m=x(function(L){(k=="*"||L.origin==k)&&L.data==T&&this.port1.onmessage()},this),_.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(T,k)}}}),typeof o<"u"&&!It("Trident")&&!It("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var m=f.Gb;f.Gb=null,m()}},function(m){p.next={Gb:m},p=p.next,u.port2.postMessage(0)}}return function(m){c.setTimeout(m,0)}}function fd(o,u){hd||z3(),sy||(hd(),sy=!0),OS.add(o,u)}var hd;function z3(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);hd=function(){o.then(xS)}}else hd=function(){var u=xS;!b(c.setImmediate)||c.Window&&c.Window.prototype&&!It("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(oy||(oy=q3()),oy(u)):c.setImmediate(u)}}var sy=!1,OS=new bs;function xS(){for(var o;o=tc();){try{o.a.call(o.b)}catch(u){PS(u)}ct(ui,o)}sy=!1}function ye(o,u){if(this.a=ks,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=g)try{var f=this;o.call(u,function(p){Ns(f,ic,p)},function(p){if(!(p instanceof Za))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}Ns(f,Mi,p)})}catch(p){Ns(this,Mi,p)}}var ks=0,ic=2,Mi=3;function DS(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}DS.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var LS=new qe(function(){return new DS},function(o){o.reset()});function ay(o,u,f){var p=LS.get();return p.g=o,p.b=u,p.f=f,p}function ne(o){if(o instanceof ye)return o;var u=new ye(g);return Ns(u,ic,o),u}function Ge(o){return new ye(function(u,f){f(o)})}function MS(o,u,f){VS(o,u,f,null)||fd(V(u,o))}function W3(o){return new ye(function(u,f){var p=o.length,m=[];if(p)for(var _=function(U,ae){p--,m[U]=ae,p==0&&u(m)},T=function(U){f(U)},k=0,L;k<o.length;k++)L=o[k],MS(L,V(_,k),T);else u(m)})}function FS(o){return new ye(function(u){var f=o.length,p=[];if(f)for(var m=function(k,L,U){f--,p[k]=L?{Pb:!0,value:U}:{Pb:!1,reason:U},f==0&&u(p)},_=0,T;_<o.length;_++)T=o[_],MS(T,V(m,_,!0),V(m,_,!1));else u(p)})}ye.prototype.then=function(o,u,f){return jS(this,b(o)?o:null,b(u)?u:null,f)},ye.prototype.$goog_Thenable=!0,e=ye.prototype,e.oa=function(o,u){return o=ay(o,o,u),o.c=!0,uy(this,o),this},e.o=function(o,u){return jS(this,null,o,u)},e.cancel=function(o){if(this.a==ks){var u=new Za(o);fd(function(){US(this,u)},this)}};function US(o,u){if(o.a==ks)if(o.c){var f=o.c;if(f.b){for(var p=0,m=null,_=null,T=f.b;T&&(T.c||(p++,T.a==o&&(m=T),!(m&&1<p)));T=T.next)m||(_=T);m&&(f.a==ks&&p==1?US(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):$S(f),qS(f,m,Mi,u)))}o.c=null}else Ns(o,Mi,u)}function uy(o,u){o.b||o.a!=ic&&o.a!=Mi||BS(o),o.f?o.f.next=u:o.b=u,o.f=u}function jS(o,u,f,p){var m=ay(null,null,null);return m.a=new ye(function(_,T){m.g=u?function(k){try{var L=u.call(p,k);_(L)}catch(U){T(U)}}:_,m.b=f?function(k){try{var L=f.call(p,k);L===void 0&&k instanceof Za?T(k):_(L)}catch(U){T(U)}}:T}),m.a.c=o,uy(o,m),m.a}e.$c=function(o){this.a=ks,Ns(this,ic,o)},e.ad=function(o){this.a=ks,Ns(this,Mi,o)};function Ns(o,u,f){o.a==ks&&(o===f&&(u=Mi,f=new TypeError("Promise cannot resolve to itself")),o.a=1,VS(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,BS(o),u!=Mi||f instanceof Za||K3(o,f)))}function VS(o,u,f,p){if(o instanceof ye)return uy(o,ay(u||g,f||null,p)),!0;if(tn(o))return o.then(u,f,p),!0;if(S(o))try{var m=o.then;if(b(m))return H3(o,m,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function H3(o,u,f,p,m){function _(L){k||(k=!0,p.call(m,L))}function T(L){k||(k=!0,f.call(m,L))}var k=!1;try{u.call(o,T,_)}catch(L){_(L)}}function BS(o){o.h||(o.h=!0,fd(o.gc,o))}function $S(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=$S(this);)qS(this,o,this.a,this.i);this.h=!1};function qS(o,u,f,p){if(f==Mi&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,zS(u,f,p);else try{u.c?u.g.call(u.f):zS(u,f,p)}catch(m){WS.call(null,m)}ct(LS,u)}function zS(o,u,f){u==ic?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function K3(o,u){o.g=!0,fd(function(){o.g&&WS.call(null,u)})}var WS=PS;function Za(o){z.call(this,o)}M(Za,z),Za.prototype.name="cancel";function dd(){this.xa=this.xa,this.pa=this.pa}var G3=0;dd.prototype.xa=!1;function HS(o){!o.xa&&(o.xa=!0,o.Da(),G3!=0)&&E(o)}dd.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Q3=Object.freeze||function(o){return o},KS=!Br||9<=Number(ho),Y3=Br&&!kS("9"),X3=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",g,u),c.removeEventListener("test",g,u)}catch{}return o}();function Mn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Mn.prototype.preventDefault=function(){this.defaultPrevented=!0};function As(o,u){if(Mn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(SS){e:{try{ey(u.nodeName);var m=!0;break e}catch{}m=!1}m||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:J3[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}M(As,Mn);var J3=Q3({2:"touch",3:"pen",4:"mouse"});As.prototype.preventDefault=function(){As.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,Y3)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},As.prototype.g=function(){return this.a};var oc="closure_listenable_"+(1e6*Math.random()|0),Z3=0;function ej(o,u,f,p,m){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Va=m,this.key=++Z3,this.va=this.Pa=!1}function pd(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function vd(o){this.src=o,this.a={},this.b=0}vd.prototype.add=function(o,u,f,p,m){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var T=cy(o,u,p,m);return-1<T?(u=o[T],f||(u.Pa=!1)):(u=new ej(u,this.src,_,!!p,m),u.Pa=f,o.push(u)),u};function ly(o,u){var f=u.type;f in o.a&&od(o.a[f],u)&&(pd(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function cy(o,u,f,p){for(var m=0;m<o.length;++m){var _=o[m];if(!_.va&&_.listener==u&&_.capture==!!f&&_.Va==p)return m}return-1}var fy="closure_lm_"+(1e6*Math.random()|0),hy={};function gr(o,u,f,p,m){if(p&&p.once)dy(o,u,f,p,m);else if(Array.isArray(u))for(var _=0;_<u.length;_++)gr(o,u[_],f,p,m);else f=vy(f),o&&o[oc]?ZS(o,u,f,S(p)?!!p.capture:!!p,m):GS(o,u,f,!1,p,m)}function GS(o,u,f,p,m,_){if(!u)throw Error("Invalid event type");var T=S(m)?!!m.capture:!!m,k=md(o);if(k||(o[fy]=k=new vd(o)),f=k.add(u,f,p,T,_),!f.proxy)if(p=tj(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)X3||(m=T),m===void 0&&(m=!1),o.addEventListener(u.toString(),p,m);else if(o.attachEvent)o.attachEvent(YS(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function tj(){var o=nj,u=KS?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function dy(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)dy(o,u[_],f,p,m);else f=vy(f),o&&o[oc]?my(o,u,f,S(p)?!!p.capture:!!p,m):GS(o,u,f,!0,p,m)}function Zn(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)Zn(o,u[_],f,p,m);else p=S(p)?!!p.capture:!!p,f=vy(f),o&&o[oc]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=cy(_,f,p,m),-1<f&&(pd(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=md(o))&&(u=o.a[u.toString()],o=-1,u&&(o=cy(u,f,p,m)),(f=-1<o?u[o]:null)&&QS(f))}function QS(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[oc])ly(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(YS(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=md(u))?(ly(f,o),f.b==0&&(f.src=null,u[fy]=null)):pd(o)}}}function YS(o){return o in hy?hy[o]:hy[o]="on"+o}function XS(o,u,f,p){var m=!0;if((o=md(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.va&&(_=JS(_,p),m=m&&_!==!1)}return m}function JS(o,u){var f=o.listener,p=o.Va||o.src;return o.Pa&&QS(o),f.call(p,u)}function nj(o,u){if(o.va)return!0;if(!KS){if(!u)e:{u=["window","event"];for(var f=c,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new As(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=u.b;m;m=m.parentNode)p.push(m);for(o=o.type,m=p.length-1;0<=m;m--){u.b=p[m];var _=XS(p[m],o,!0,u);f=f&&_}for(m=0;m<p.length;m++)u.b=p[m],_=XS(p[m],o,!1,u),f=f&&_}return f}return JS(o,new As(u,this))}function md(o){return o=o[fy],o instanceof vd?o:null}var py="__closure_events_fn_"+(1e9*Math.random()>>>0);function vy(o){return b(o)?o:(o[py]||(o[py]=function(u){return o.handleEvent(u)}),o[py])}function gn(){dd.call(this),this.v=new vd(this),this.ac=this,this.gb=null}M(gn,dd),gn.prototype[oc]=!0,gn.prototype.addEventListener=function(o,u,f,p){gr(this,o,u,f,p)},gn.prototype.removeEventListener=function(o,u,f,p){Zn(this,o,u,f,p)},gn.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var p=o.type||o;if(typeof o=="string")o=new Mn(o,f);else if(o instanceof Mn)o.target=o.target||f;else{var m=o;o=new Mn(p,f),Dn(o,m)}if(m=!0,u)for(var _=u.length-1;0<=_;_--){var T=o.b=u[_];m=gd(T,p,!0,o)&&m}if(T=o.b=f,m=gd(T,p,!0,o)&&m,m=gd(T,p,!1,o)&&m,u)for(_=0;_<u.length;_++)T=o.b=u[_],m=gd(T,p,!1,o)&&m;return m},gn.prototype.Da=function(){if(gn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)pd(f[p]);delete o.a[u],o.b--}}this.gb=null};function ZS(o,u,f,p,m){o.v.add(String(u),f,!1,p,m)}function my(o,u,f,p,m){o.v.add(String(u),f,!0,p,m)}function gd(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var m=!0,_=0;_<u.length;++_){var T=u[_];if(T&&!T.va&&T.capture==f){var k=T.listener,L=T.Va||T.src;T.Pa&&ly(o.v,T),m=k.call(L,p)!==!1&&m}}return m&&!p.defaultPrevented}function gy(o,u,f){if(b(o))f&&(o=x(o,f));else if(o&&typeof o.handleEvent=="function")o=x(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function eu(o){var u=null;return new ye(function(f,p){u=gy(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function eC(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function tC(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function rj(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")et(o,u,void 0);else for(var f=tC(o),p=eC(o),m=p.length,_=0;_<m;_++)u.call(void 0,p[_],f&&f[_],o)}function tu(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof tu)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}e=tu.prototype,e.W=function(){yy(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return yy(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function yy(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];Rs(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var m={};for(f=u=0;u<o.a.length;)p=o.a[u],Rs(m,p)||(o.a[f++]=p,m[p]=1),u++;o.a.length=f}}e.get=function(o,u){return Rs(this.b,o)?this.b[o]:u},e.set=function(o,u){Rs(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var m=f[p],_=this.get(m);o.call(u,_,m,this)}};function Rs(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var nC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ij(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),m=null;if(0<=p){var _=o[f].substring(0,p);m=o[f].substring(p+1)}else _=o[f];u(_,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function po(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof po?(this.i=u!==void 0?u:o.i,sc(this,o.c),this.l=o.l,this.a=o.a,ac(this,o.g),this.f=o.f,_y(this,sC(o.b)),this.h=o.h):o&&(f=String(o).match(nC))?(this.i=!!u,sc(this,f[1]||"",!0),this.l=uc(f[2]||""),this.a=uc(f[3]||"",!0),ac(this,f[4]),this.f=uc(f[5]||"",!0),_y(this,f[6]||"",!0),this.h=uc(f[7]||"")):(this.i=!!u,this.b=new Ps(null,this.i))}po.prototype.toString=function(){var o=[],u=this.c;u&&o.push(lc(u,rC,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(lc(u,rC,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(lc(f,f.charAt(0)=="/"?aj:sj,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",lc(f,lj)),o.join("")},po.prototype.resolve=function(o){var u=new po(this),f=!!o.c;f?sc(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)ac(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var m=u.f.lastIndexOf("/");m!=-1&&(p=u.f.substr(0,m+1)+p)}if(m=p,m==".."||m==".")p="";else if(je(m,"./")||je(m,"/.")){p=m.lastIndexOf("/",0)==0,m=m.split("/");for(var _=[],T=0;T<m.length;){var k=m[T++];k=="."?p&&T==m.length&&_.push(""):k==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&T==m.length&&_.push("")):(_.push(k),p=!0)}p=_.join("/")}else p=m}return f?u.f=p:f=o.b.toString()!=="",f?_y(u,sC(o.b)):f=!!o.h,f&&(u.h=o.h),u};function sc(o,u,f){o.c=f?uc(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function ac(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function _y(o,u,f){u instanceof Ps?(o.b=u,cj(o.b,o.i)):(f||(u=lc(u,uj)),o.b=new Ps(u,o.i))}function ft(o,u,f){o.b.set(u,f)}function yr(o,u){return o.b.get(u)}function Fn(o){return o instanceof po?new po(o):new po(o,void 0)}function yd(o,u,f,p){var m=new po(null,void 0);return o&&sc(m,o),u&&(m.a=u),f&&ac(m,f),p&&(m.f=p),m}function uc(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function lc(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,oj),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function oj(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var rC=/[#\/\?@]/g,sj=/[#\?:]/g,aj=/[#\?]/g,uj=/[#\?@]/g,lj=/#/g;function Ps(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function vo(o){o.a||(o.a=new tu,o.b=0,o.c&&ij(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function iC(o){var u=tC(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Ps(null,void 0);o=eC(o);for(var p=0;p<u.length;p++){var m=u[p],_=o[p];Array.isArray(_)?oC(f,m,_):f.add(m,_)}return f}e=Ps.prototype,e.add=function(o,u){vo(this),this.c=null,o=nu(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function ci(o,u){vo(o),u=nu(o,u),Rs(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Rs(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&yy(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function wy(o,u){return vo(o),u=nu(o,u),Rs(o.a.b,u)}e.forEach=function(o,u){vo(this),this.a.forEach(function(f,p){et(f,function(m){o.call(u,m,p,this)},this)},this)},e.Y=function(){vo(this);for(var o=this.a.W(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var m=o[p],_=0;_<m.length;_++)f.push(u[p]);return f},e.W=function(o){vo(this);var u=[];if(typeof o=="string")wy(this,o)&&(u=Qg(u,this.a.get(nu(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=Qg(u,o[f])}return u},e.set=function(o,u){return vo(this),this.c=null,o=nu(this,o),wy(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function oC(o,u,f){ci(o,u),0<f.length&&(o.c=null,o.a.set(nu(o,u),Ss(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],m=encodeURIComponent(String(p));p=this.W(p);for(var _=0;_<p.length;_++){var T=m;p[_]!==""&&(T+="="+encodeURIComponent(String(p[_]))),o.push(T)}}return this.c=o.join("&")};function sC(o){var u=new Ps;return u.c=o.c,o.a&&(u.a=new tu(o.a),u.b=o.b),u}function nu(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function cj(o,u){u&&!o.f&&(vo(o),o.c=null,o.a.forEach(function(f,p){var m=p.toLowerCase();p!=m&&(ci(this,p),oC(this,m,f))},o)),o.f=u}function aC(o){var u=[];return Ey(new fj,o,u),u.join("")}function fj(){}function Ey(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var m="",_=0;_<u;_++)f.push(m),Ey(o,p[_],f),m=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),m="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(m),lC(p,f),f.push(":"),Ey(o,_,f),m=","));f.push("}");return}}switch(typeof u){case"string":lC(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var uC={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},hj=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lC(o,u){u.push('"',o.replace(hj,function(f){var p=uC[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),uC[f]=p),p}),'"')}function Ty(){var o=zt();return Br&&!!ho&&ho==11||/Edge\/\d+/.test(o)}function cc(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function cC(o,u){u=u||c.window;var f="about:blank";o&&(f=ud(yS(o)||wS)),u.location.href=f}function fC(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<fC(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function dj(){var o=zt();return o=ru(o)!=vC?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Br||!ho||9<ho}function hC(o){return o=(o||zt()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Os(o){o=o||c.window;try{o.close()}catch{}}function dC(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var m=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<m?m:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=zt().toLowerCase(),p&&(u.target=p,je(f,"crios/")&&(u.target="_blank")),ru(zt())==Sy&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof Ln?f:yS(typeof f.href<"u"?f.href:String(f))||wS,f=o.target||f.target,m=[];for(T in o)switch(T){case"width":case"height":case"top":case"left":m.push(T+"="+o[T]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(T+"="+(o[T]?1:0))}var T=m.join(",");if((It("iPhone")&&!It("iPod")&&!It("iPad")||It("iPad")||It("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(T=cd(document,"A"),hS(T,"HTMLAnchorElement"),u=u instanceof Ln?u:_S(u),T.href=ud(u),T.setAttribute("target",f),o.noreferrer&&T.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),T.dispatchEvent(o),T={}):o.noreferrer?(T=TS("",p,f,T),o=ud(u),T&&(F3&&je(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),T.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Zg(o)+'">',o=(p=pS())?p.createHTML(o):o,o=new Ja(o,null,ES),p=T.document)&&(p.write(x3(o)),p.close())):(T=TS(u,p,f,T))&&o.noopener&&(T.opener=null),T)try{T.focus()}catch{}return T}function pj(o){return new ye(function(u){function f(){eu(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var vj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mj=/^[^@]+@[^@]+$/;function _d(){var o=null;return new ye(function(u){c.document.readyState=="complete"?u():(o=function(){u()},dy(window,"load",o))}).o(function(u){throw Zn(window,"load",o),u})}function gj(){return by(void 0)?_d().then(function(){return new ye(function(o,u){var f=c.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):Ge(Error("Cordova must run in an Android or iOS file scheme."))}function by(o){return o=o||zt(),!(ou()!=="file:"&&ou()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Iy(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function $r(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function fi(){return ee.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ee.INTERNAL.hasOwnProperty("node")?"Node":$r()?"Worker":"Browser"}function pC(){var o=fi();return o==="ReactNative"||o==="Node"}function yj(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Sy="Firefox",vC="Chrome";function ru(o){var u=o.toLowerCase();if(je(u,"opera/")||je(u,"opr/")||je(u,"opios/"))return"Opera";if(je(u,"iemobile"))return"IEMobile";if(je(u,"msie")||je(u,"trident/"))return"IE";if(je(u,"edge/"))return"Edge";if(je(u,"firefox/"))return Sy;if(je(u,"silk/"))return"Silk";if(je(u,"blackberry"))return"Blackberry";if(je(u,"webos"))return"Webos";if(!je(u,"safari/")||je(u,"chrome/")||je(u,"crios/")||je(u,"android"))if(!je(u,"chrome/")&&!je(u,"crios/")||je(u,"edge/")){if(je(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return vC;else return"Safari";return"Other"}var mC={md:"FirebaseCore-web",od:"FirebaseUI-web"};function iu(o,u){u=u||[];var f=[],p={},m;for(m in mC)p[mC[m]]=!0;for(m=0;m<u.length;m++)typeof p[u[m]]<"u"&&(delete p[u[m]],f.push(u[m]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=fi(),f==="Browser"?(p=zt(),f=ru(p)):f==="Worker"&&(p=zt(),f=ru(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function zt(){return c.navigator&&c.navigator.userAgent||""}function Qe(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Cy(){try{var o=c.localStorage,u=Ds();if(o)return o.setItem(u,"1"),o.removeItem(u),Ty()?!!c.indexedDB:!0}catch{return $r()&&!!c.indexedDB}return!1}function xs(){return(wd()||ou()==="chrome-extension:"||by())&&!pC()&&Cy()&&!$r()}function wd(){return ou()==="http:"||ou()==="https:"}function ou(){return c.location&&c.location.protocol||null}function fc(o){return o=o||zt(),!(hC(o)||ru(o)==Sy)}function hc(o){return typeof o>"u"?null:aC(o)}function gC(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function su(o){if(o!==null)return JSON.parse(o)}function Ds(o){return o||Math.floor(1e9*Math.random()).toString()}function yC(o){return o=o||zt(),!(ru(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function _C(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function mo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=zt(),u=fi(),this.b=hC(o)||u==="ReactNative"}mo.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(wd()||ou()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function ky(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function _j(){var o=c.document,u=null;return ky()||!o?ne():new ye(function(f){u=function(){ky()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function dc(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function wC(){return!(!Qe("fireauth.oauthhelper",c)&&!Qe("fireauth.iframe",c))}function wj(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function Ej(){var o=c.navigator;return o&&o.serviceWorker?ne().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ne(null)}var EC={};function Ny(o){EC[o]||(EC[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var Ay;try{var Ry={};Object.defineProperty(Ry,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ry,"abcd",{configurable:!0,enumerable:!0,value:2}),Ay=Ry.abcd==2}catch{Ay=!1}function X(o,u,f){Ay?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function yn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&X(o,f,u[f])}function hi(o){var u={};return yn(u,o),u}function Tj(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function bj(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function Py(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)X(u,f,Py(o[f]))}return u}function Oy(o){var u=o&&(o[My]?"phone":null);if(u&&o&&o[Ly]){X(this,"uid",o[Ly]),X(this,"displayName",o[TC]||null);var f=null;o[Dy]&&(f=new Date(o[Dy]).toUTCString()),X(this,"enrollmentTime",f),X(this,"factorId",u)}else throw new N("internal-error","Internal assert: invalid MultiFactorInfo object")}Oy.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function xy(o){try{var u=new pc(o)}catch{u=null}return u}var TC="displayName",Dy="enrolledAt",Ly="mfaEnrollmentId",My="phoneInfo";function pc(o){Oy.call(this,o),X(this,"phoneNumber",o[My])}M(pc,Oy),pc.prototype.w=function(){var o=pc.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function Ij(o){var u={},f=o[Sj],p=o[kj],m=o[Nj];if(o=xy(o[Cj]),!m||m!=Ed&&m!=vc&&!f||m==vc&&!p||m==Fy&&!o)throw Error("Invalid checkActionCode response!");m==vc?(u[IC]=f||null,u[SC]=f||null,u[bC]=p):(u[IC]=p||null,u[SC]=p||null,u[bC]=f||null),u[Aj]=o||null,X(this,Pj,m),X(this,Rj,Py(u))}var Fy="REVERT_SECOND_FACTOR_ADDITION",Ed="EMAIL_SIGNIN",vc="VERIFY_AND_CHANGE_EMAIL",Sj="email",Cj="mfaInfo",kj="newEmail",Nj="requestType",bC="email",IC="fromEmail",Aj="multiFactorInfo",SC="previousEmail",Rj="data",Pj="operation";function Uy(o){o=Fn(o);var u=yr(o,CC)||null,f=yr(o,kC)||null,p=yr(o,NC)||null;if(p=p&&Lj[p]||null,!u||!f||!p)throw new N("argument-error",CC+", "+kC+"and "+NC+" are required in a valid action code URL.");yn(this,{apiKey:u,operation:p,code:f,continueUrl:yr(o,Oj)||null,languageCode:yr(o,xj)||null,tenantId:yr(o,Dj)||null})}var CC="apiKey",kC="oobCode",Oj="continueUrl",xj="languageCode",NC="mode",Dj="tenantId",Lj={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Fy,signIn:Ed,verifyAndChangeEmail:vc,verifyEmail:"VERIFY_EMAIL"};function AC(o){try{return new Uy(o)}catch{return null}}function Td(o){var u=o[Mj];if(typeof u>"u")throw new N("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new N("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[RC];if(f&&typeof f=="object"){u=f[LC];var p=f[xC];if(f=f[DC],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new N("argument-error",xC+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new N("argument-error",DC+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new N("argument-error",LC+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new N("missing-android-pkg-name")}}else if(typeof f<"u")throw new N("argument-error",RC+" property must be a non null object when specified.");if(this.f=null,(u=o[OC])&&typeof u=="object"){if(u=u[MC],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new N("argument-error",MC+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new N("argument-error",OC+" property must be a non null object when specified.");if(u=o[jy],typeof u<"u"&&typeof u!="boolean")throw new N("argument-error",jy+" property must be a boolean when specified.");if(this.c=!!u,o=o[PC],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new N("argument-error",PC+" property must be a non empty string when specified.");this.i=o||null}var RC="android",PC="dynamicLinkDomain",jy="handleCodeInApp",OC="iOS",Mj="url",xC="installApp",DC="minimumVersion",LC="packageName",MC="bundleId";function bd(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function Fj(o){return id(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var mc=null;function Uj(o){var u=[];return jj(o,function(f){u.push(f)}),u}function jj(o,u){function f(L){for(;p<o.length;){var U=o.charAt(p++),ae=mc[U];if(ae!=null)return ae;if(!/^[\s\xa0]*$/.test(U))throw Error("Unknown base64 encoding at char: "+U)}return L}Vj();for(var p=0;;){var m=f(-1),_=f(0),T=f(64),k=f(64);if(k===64&&m===-1)break;u(m<<2|_>>4),T!=64&&(u(_<<4&240|T>>2),k!=64&&u(T<<6&192|k))}}function Vj(){if(!mc){mc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),m=0;m<p.length;m++){var _=p[m];mc[_]===void 0&&(mc[_]=m)}}}function Id(o){var u=FC(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Id.prototype.T=function(){return this.f},Id.prototype.l=function(){return this.c},Id.prototype.toString=function(){return this.h};function Sd(o){try{return new Id(o)}catch{return null}}function FC(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=Uj(o);for(o=[],f=u=0;u<p.length;){var m=p[u++];if(128>m)o[f++]=String.fromCharCode(m);else if(191<m&&224>m){var _=p[u++];o[f++]=String.fromCharCode((m&31)<<6|_&63)}else if(239<m&&365>m){_=p[u++];var T=p[u++],k=p[u++],L=((m&7)<<18|(_&63)<<12|(T&63)<<6|k&63)-65536;o[f++]=String.fromCharCode(55296+(L>>10)),o[f++]=String.fromCharCode(56320+(L&1023))}else _=p[u++],T=p[u++],o[f++]=String.fromCharCode((m&15)<<12|(_&63)<<6|T&63)}return JSON.parse(o.join(""))}catch{}return null}var UC="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Cd=["client_id","response_type","scope","redirect_uri","state"],Vy={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Cd},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Cd},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Cd},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:UC},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function By(o){for(var u in Vy)if(Vy[u].fa==o)return Vy[u];return null}function jC(o){var u={};u["facebook.com"]=BC,u["google.com"]=qC,u["github.com"]=$C,u["twitter.com"]=zC;var f=o&&o[VC];try{if(f)return u[f]?new u[f](o):new di(o);if(typeof o[$y]<"u")return new qy(o)}catch{}return null}var $y="idToken",VC="providerId";function qy(o){var u=o[VC];if(!u&&o[$y]){var f=Sd(o[$y]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),X(this,"providerId",u),X(this,"isNewUser",f)}function di(o){qy.call(this,o),o=su(o.rawUserInfo||"{}"),X(this,"profile",Py(o||{}))}M(di,qy);function BC(o){if(di.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}M(BC,di);function $C(o){if(di.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");X(this,"username",this.profile&&this.profile.login||null)}M($C,di);function qC(o){if(di.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}M(qC,di);function zC(o){if(di.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");X(this,"username",o.screenName||null)}M(zC,di);function WC(o){var u=Fn(o),f=yr(u,"link"),p=yr(Fn(f),"link");return u=yr(u,"deep_link_id"),yr(Fn(u),"link")||u||p||f||o}function kd(o,u){if(!o&&!u)throw new N("internal-error","Internal assert: no raw session string available");if(o&&u)throw new N("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?gc:Nd}var gc="enroll",Nd="signin";kd.prototype.Ha=function(){return this.a?ne(this.a):ne(this.b)},kd.prototype.w=function(){return this.type==gc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function au(){}au.prototype.ka=function(){},au.prototype.b=function(){},au.prototype.c=function(){},au.prototype.w=function(){};function uu(o,u){return o.then(function(f){if(f[Wr]){var p=Sd(f[Wr]);if(!p||u!=p.i)throw new N("user-mismatch");return f}throw new N("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Ke+"user-not-found"?new N("user-mismatch"):f})}function Ls(o,u){if(u)this.a=u;else throw new N("internal-error","failed to construct a credential");X(this,"providerId",o),X(this,"signInMethod",o)}Ls.prototype.ka=function(o){return d0(o,zy(this))},Ls.prototype.b=function(o,u){var f=zy(this);return f.idToken=u,p0(o,f)},Ls.prototype.c=function(o,u){return uu(v0(o,zy(this)),u)};function zy(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Ls.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Bj(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Ls(o.providerId,o.pendingToken)}catch{}return null}function Fi(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&X(this,"idToken",u.idToken),u.accessToken&&X(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&X(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)X(this,"accessToken",u.oauthToken),X(this,"secret",u.oauthTokenSecret);else throw new N("internal-error","failed to construct a credential");X(this,"providerId",o),X(this,"signInMethod",f)}Fi.prototype.ka=function(o){return d0(o,Wy(this))},Fi.prototype.b=function(o,u){var f=Wy(this);return f.idToken=u,p0(o,f)},Fi.prototype.c=function(o,u){var f=Wy(this);return uu(v0(o,f),u)};function Wy(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:iC(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Fi.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function $j(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Fi(o.providerId,u,o.signInMethod)}catch{}}return null}function Ms(o,u){this.Qc=u||[],yn(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(By(o)||{}).Ja||null,this.ob=null}Ms.prototype.Ka=function(o){return this.Ib=fo(o),this};function HC(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new N("argument-error",'SAML provider IDs must be prefixed with "saml."');Ms.call(this,o,[])}M(HC,Ms);function er(o){Ms.call(this,o,Cd),this.a=[]}M(er,Ms),er.prototype.Ca=function(o){return Li(this.a,o)||this.a.push(o),this},er.prototype.Qb=function(){return Ss(this.a)},er.prototype.credential=function(o,u){var f;if(S(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new N("argument-error","credential failed: must provide the ID token and/or the access token.");return new Fi(this.providerId,f,this.providerId)};function Fs(){er.call(this,"facebook.com")}M(Fs,er),X(Fs,"PROVIDER_ID","facebook.com"),X(Fs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function KC(o){if(!o)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return S(o)&&(u=o.accessToken),new Fs().credential({accessToken:u})}function Us(){er.call(this,"github.com")}M(Us,er),X(Us,"PROVIDER_ID","github.com"),X(Us,"GITHUB_SIGN_IN_METHOD","github.com");function GC(o){if(!o)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return S(o)&&(u=o.accessToken),new Us().credential({accessToken:u})}function js(){er.call(this,"google.com"),this.Ca("profile")}M(js,er),X(js,"PROVIDER_ID","google.com"),X(js,"GOOGLE_SIGN_IN_METHOD","google.com");function QC(o,u){var f=o;return S(o)&&(f=o.idToken,u=o.accessToken),new js().credential({idToken:f,accessToken:u})}function lu(){Ms.call(this,"twitter.com",UC)}M(lu,Ms),X(lu,"PROVIDER_ID","twitter.com"),X(lu,"TWITTER_SIGN_IN_METHOD","twitter.com");function YC(o,u){var f=o;if(S(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new N("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Fi("twitter.com",f,"twitter.com")}function go(o,u,f){this.a=o,this.f=u,X(this,"providerId","password"),X(this,"signInMethod",f===_r.EMAIL_LINK_SIGN_IN_METHOD?_r.EMAIL_LINK_SIGN_IN_METHOD:_r.EMAIL_PASSWORD_SIGN_IN_METHOD)}go.prototype.ka=function(o){return this.signInMethod==_r.EMAIL_LINK_SIGN_IN_METHOD?_e(o,CV,{email:this.a,oobCode:this.f}):_e(o,Ik,{email:this.a,password:this.f})},go.prototype.b=function(o,u){return this.signInMethod==_r.EMAIL_LINK_SIGN_IN_METHOD?_e(o,kV,{idToken:u,email:this.a,oobCode:this.f}):_e(o,bk,{idToken:u,email:this.a,password:this.f})},go.prototype.c=function(o,u){return uu(this.ka(o),u)},go.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function qj(o){return o&&o.email&&o.password?new go(o.email,o.password,o.signInMethod):null}function _r(){yn(this,{providerId:"password",isOAuthProvider:!1})}function XC(o,u){if(u=Hy(u),!u)throw new N("argument-error","Invalid email link!");return new go(o,u.code,_r.EMAIL_LINK_SIGN_IN_METHOD)}function Hy(o){return o=WC(o),(o=AC(o))&&o.operation===Ed?o:null}yn(_r,{PROVIDER_ID:"password"}),yn(_r,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),yn(_r,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function yo(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new N("internal-error");this.a=o,X(this,"providerId","phone"),this.fa="phone",X(this,"signInMethod","phone")}yo.prototype.ka=function(o){return o.fb(yc(this))},yo.prototype.b=function(o,u){var f=yc(this);return f.idToken=u,_e(o,KV,f)},yo.prototype.c=function(o,u){var f=yc(this);return f.operation="REAUTH",o=_e(o,GV,f),uu(o,u)},yo.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function zj(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return et(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new yo(u)}return null}function yc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function Ui(o){try{this.a=o||ee.auth()}catch{throw new N("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}yn(this,{providerId:"phone",isOAuthProvider:!1})}Ui.prototype.fb=function(o,u){var f=this.a.a;return ne(u.verify()).then(function(p){if(typeof p!="string")throw new N("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var m=S(o)?o.session:null,_=S(o)?o.phoneNumber:o,T;return m&&m.type==gc?T=m.Ha().then(function(k){return gV(f,{idToken:k,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):m&&m.type==Nd?T=m.Ha().then(function(k){return yV(f,{mfaPendingCredential:k,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):T=mV(f,{phoneNumber:_,recaptchaToken:p}),T.then(function(k){return typeof u.reset=="function"&&u.reset(),k},function(k){throw typeof u.reset=="function"&&u.reset(),k});default:throw new N("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function JC(o,u){if(!o)throw new N("missing-verification-id");if(!u)throw new N("missing-verification-code");return new yo({eb:o,cb:u})}yn(Ui,{PROVIDER_ID:"phone"}),yn(Ui,{PHONE_SIGN_IN_METHOD:"phone"});function Ky(o){if(o.temporaryProof&&o.phoneNumber)return new yo({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,m=o&&o.nonce,_=o&&o.oauthIdToken,T=o&&o.pendingToken;try{switch(u){case"google.com":return QC(_,f);case"facebook.com":return KC(f);case"github.com":return GC(f);case"twitter.com":return YC(f,p);default:return f||p||_||T?T?u.indexOf("saml.")==0?new Ls(u,T):new Fi(u,{pendingToken:T,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new er(u).credential({idToken:_,accessToken:f,rawNonce:m}):null}}catch{return null}}function Gy(o){if(!o.isOAuthProvider)throw new N("invalid-oauth-provider")}function qr(o,u,f,p,m,_,T){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=T||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new N("invalid-auth-event");if(this.g&&!this.f)throw new N("invalid-auth-event")}else throw new N("invalid-auth-event")}qr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},qr.prototype.T=function(){return this.h},qr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function ZC(o){return o=o||{},o.type?new qr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&$e(o.error),o.postBody,o.tenantId):null}function Wj(){this.b=null,this.a=[]}var Qy=null;function Hj(o){var u=Qy;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=Qe("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function Yy(o){var u="unauthorized-domain",f=void 0,p=Fn(o);o=p.a,p=p.c,p=="chrome-extension"?f=bS("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=bS("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",N.call(this,u,f)}M(Yy,N);function _c(o,u,f){N.call(this,o,f),o=u||{},o.Jb&&X(this,"email",o.Jb),o.ea&&X(this,"phoneNumber",o.ea),o.credential&&X(this,"credential",o.credential),o.Zb&&X(this,"tenantId",o.Zb)}M(_c,N),_c.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Dn(o,u),o},_c.prototype.toJSON=function(){return this.w()};function Ad(o){if(o.code){var u=o.code||"";u.indexOf(Ke)==0&&(u=u.substring(Ke.length));var f={credential:Ky(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new N(u,o.message||void 0);return new _c(u,f,o.message)}return null}function wc(){}wc.prototype.c=null;function ek(o){return o.c||(o.c=o.b())}var Xy;function Rd(){}M(Rd,wc),Rd.prototype.a=function(){var o=tk(this);return o?new ActiveXObject(o):new XMLHttpRequest},Rd.prototype.b=function(){var o={};return tk(this)&&(o[0]=!0,o[1]=!0),o};function tk(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Xy=new Rd;function Pd(){}M(Pd,wc),Pd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new nk;throw Error("Unsupported browser")},Pd.prototype.b=function(){return{}};function nk(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.qc,this),this.a.onerror=x(this.Sb,this),this.a.onprogress=x(this.rc,this),this.a.ontimeout=x(this.vc,this)}e=nk.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jy(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Jy(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Jy(this,1)};function Jy(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Zy(o,u,f){this.reset(o,u,f,void 0,void 0)}Zy.prototype.a=null,Zy.prototype.reset=function(o,u,f,p,m){delete this.a};function e0(o){this.f=o,this.b=this.c=this.a=null}function Ec(o,u){this.name=o,this.value=u}Ec.prototype.toString=function(){return this.name};var rk=new Ec("SEVERE",1e3),t0=new Ec("WARNING",900),Kj=new Ec("CONFIG",700),Gj=new Ec("FINE",500);function ik(o){return o.c?o.c:o.a?ik(o.a):(ue("Root logger has no level set."),null)}e0.prototype.log=function(o,u,f){if(o.value>=ik(this).value)for(b(u)&&(u=u()),o=new Zy(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var n0={},Od=null;function r0(o){Od||(Od=new e0(""),n0[""]=Od,Od.c=Kj);var u;if(!(u=n0[o])){u=new e0(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=r0(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,n0[o]=u}return u}function wr(o,u){o&&o.log(Gj,u,void 0)}function xd(o){this.f=o}M(xd,wc),xd.prototype.a=function(){return new Dd(this.f)},xd.prototype.b=function(o){return function(){return o}}({});function Dd(o){gn.call(this),this.u=o,this.h=void 0,this.readyState=i0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=r0("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}M(Dd,gn);var i0=0;e=Dd.prototype,e.open=function(o,u){if(this.readyState!=i0)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,bc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Tc(this)),this.readyState=i0},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,bc(this)),this.a&&(this.readyState=3,bc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,ok(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function ok(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?Tc(this):bc(this),this.readyState==3&&ok(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,Tc(this))},e.sc=function(o){this.a&&(this.response=o,Tc(this))},e.Ua=function(o){var u=this.i;u&&u.log(t0,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&Tc(this)};function Tc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,bc(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(t0,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(t0,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function bc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Dd.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Ic(o){gn.call(this),this.headers=new tu,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=sk,this.u=this.S=!1}M(Ic,gn);var sk="";Ic.prototype.b=r0("goog.net.XhrIo");var Qj=/^https?$/i,Yj=["POST","PUT"];function Xj(o,u,f,p,m){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Xy.a(),o.C=o.D?ek(o.D):ek(Xy),o.a.onreadystatechange=x(o.Vb,o);try{wr(o.b,ji(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(T){wr(o.b,ji(o,"Error opening Xhr: "+T.message)),ak(o,T);return}u=p||"";var _=new tu(o.headers);m&&rj(m,function(T,k){_.set(k,T)}),m=w3(_.Y()),p=c.FormData&&u instanceof c.FormData,!Li(Yj,f)||m||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(T,k){this.a.setRequestHeader(k,T)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{ck(o),0<o.g&&(o.u=Jj(o.a),wr(o.b,ji(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=x(o.Ma,o)):o.s=gy(o.Ma,o.g,o)),wr(o.b,ji(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(T){wr(o.b,ji(o,"Send error: "+T.message)),ak(o,T)}}function Jj(o){return Br&&kS(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function Zj(o){return o.toLowerCase()=="content-type"}e=Ic.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",wr(this.b,ji(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function ak(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,uk(o),Ld(o)}function uk(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(wr(this.b,ji(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ld(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ld(this,!0)),Ic.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?lk(this):this.Jc())},e.Jc=function(){lk(this)};function lk(o){if(o.c&&typeof l<"u"){if(o.C[1]&&Sc(o)==4&&Md(o)==2)wr(o.b,ji(o,"Local request error detected and ignored"));else if(o.i&&Sc(o)==4)gy(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),Sc(o)==4){wr(o.b,ji(o,"Request complete")),o.c=!1;try{var u=Md(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var m;if(m=u===0){var _=String(o.l).match(nC)[1]||null;if(!_&&c.self&&c.self.location){var T=c.self.location.protocol;_=T.substr(0,T.length-1)}m=!Qj.test(_?_.toLowerCase():"")}p=m}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var k=2<Sc(o)?o.a.statusText:""}catch(L){wr(o.b,"Can not get status: "+L.message),k=""}o.h=k+" ["+Md(o)+"]",uk(o)}}finally{Ld(o)}}}}function Ld(o,u){if(o.a){ck(o);var f=o.a,p=o.C[0]?g:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(m){(o=o.b)&&o.log(rk,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function ck(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function Sc(o){return o.a?o.a.readyState:0}function Md(o){try{return 2<Sc(o)?o.a.status:-1}catch{return-1}}function eV(o){try{return o.a?o.a.responseText:""}catch(u){return wr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case sk:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(rk,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return wr(this.b,"Can not get response: "+u.message),null}};function ji(o,u){return u+" ["+o.R+" "+o.l+" "+Md(o)+"]"}function Vs(o){var u=rV;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Vs.prototype.cancel=function(o){if(this.a)this.c instanceof Vs&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new kc,Fd(this),Cc(this,!1,o))}},Vs.prototype.m=function(o,u){this.i=!1,Cc(this,o,u)};function Cc(o,u,f){o.a=!0,o.c=f,o.f=!u,hk(o)}function Fd(o){if(o.a){if(!o.v)throw new Ud;o.v=!1}}function tV(o,u){o0(o,null,u,void 0)}function o0(o,u,f,p){o.g.push([u,f,p]),o.a&&hk(o)}Vs.prototype.then=function(o,u,f){var p,m,_=new ye(function(T,k){p=T,m=k});return o0(this,p,function(T){T instanceof kc?_.cancel():m(T)}),_.then(o,u,f)},Vs.prototype.$goog_Thenable=!0;function fk(o){return _3(o.g,function(u){return b(u[1])})}function hk(o){if(o.h&&o.a&&fk(o)){var u=o.h,f=jd[u];f&&(c.clearTimeout(f.a),delete jd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var m=o.g.shift(),_=m[0],T=m[1];if(m=m[2],_=o.f?T:_)try{var k=_.call(m||o.s,u);k!==void 0&&(o.f=o.f&&(k==u||k instanceof Error),o.c=u=k),(tn(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(p=!0,o.i=!0)}catch(L){u=L,o.f=!0,fk(o)||(f=!0)}}o.c=u,p&&(k=x(o.m,o,!0),p=x(o.m,o,!1),u instanceof Vs?(o0(u,k,p),u.C=!0):u.then(k,p)),f&&(u=new dk(u),jd[u.a]=u,o.h=u.a)}function Ud(){z.call(this)}M(Ud,z),Ud.prototype.message="Deferred has already fired",Ud.prototype.name="AlreadyCalledError";function kc(){z.call(this)}M(kc,z),kc.prototype.message="Deferred was canceled",kc.prototype.name="CanceledError";function dk(o){this.a=c.setTimeout(x(this.c,this),0),this.b=o}dk.prototype.c=function(){throw delete jd[this.a],this.b};var jd={};function s0(o){var u={},f=u.document||document,p=vS(o).toString(),m=cd(document,"SCRIPT"),_={Wb:m,Ma:void 0},T=new Vs(_),k=null,L=u.timeout!=null?u.timeout:5e3;return 0<L&&(k=window.setTimeout(function(){Vd(m,!0);var U=new a0(oV,"Timeout reached for loading script "+p);Fd(T),Cc(T,!1,U)},L),_.Ma=k),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(Vd(m,u.xd||!1,k),Fd(T),Cc(T,!0,null))},m.onerror=function(){Vd(m,!0,k);var U=new a0(iV,"Error while loading script "+p);Fd(T),Cc(T,!1,U)},_=u.attributes||{},Dn(_,{type:"text/javascript",charset:"UTF-8"}),AS(m,_),D3(m,o),nV(f).appendChild(m),T}function nV(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function rV(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&Vd(o,!0,this.Ma)}}function Vd(o,u,f){f!=null&&c.clearTimeout(f),o.onload=g,o.onerror=g,o.onreadystatechange=g,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var iV=0,oV=1;function a0(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),z.call(this,f),this.code=o}M(a0,z);function Bd(o){this.f=o}M(Bd,wc),Bd.prototype.a=function(){return new this.f},Bd.prototype.b=function(){return{}};function zr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||sV,this.g=fo(o.secureTokenHeaders||aV),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||uV,this.a=fo(o.firebaseHeaders||lV),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=fi()=="Node",f=c.XMLHttpRequest||f&&ee.INTERNAL.node&&ee.INTERNAL.node.XMLHttpRequest,!f&&!$r())throw new N("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,$r()?this.f=new xd(self):pC()?this.f=new Bd(f):this.f=new Pd,this.b=null}var u0,Wr="idToken",sV=new mo(3e4,6e4),aV={"Content-Type":"application/x-www-form-urlencoded"},uV=new mo(3e4,6e4),lV={"Content-Type":"application/json"};function pk(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function cu(o,u){u&&(o.l=l0("https://securetoken.googleapis.com/v1/token",u),o.h=l0("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=l0("https://identitytoolkit.googleapis.com/v2/",u))}function l0(o,u){return o=Fn(o),u=Fn(u.url),o.f=o.a+o.f,sc(o,u.c),o.a=u.a,ac(o,u.g),o.toString()}function vk(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}zr.prototype.T=function(){return this.b};function mk(o,u,f,p,m,_,T){dj()||$r()?o=x(o.u,o):(u0||(u0=new ye(function(k,L){fV(k,L)})),o=x(o.s,o)),o(u,f,p,m,_,T)}zr.prototype.u=function(o,u,f,p,m,_){if($r()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new N("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var T=new Ic(this.f);if(_){T.g=Math.max(0,_);var k=setTimeout(function(){T.dispatchEvent("timeout")},_)}ZS(T,"complete",function(){k&&clearTimeout(k);var L=null;try{L=JSON.parse(eV(this))||null}catch{L=null}u&&u(L)}),my(T,"ready",function(){k&&clearTimeout(k),HS(this)}),my(T,"timeout",function(){k&&clearTimeout(k),HS(this),u&&u(null)}),Xj(T,o,f,p,m)};var cV=new li(sd,"https://apis.google.com/js/client.js?onload=%{onload}"),gk="__fcb"+Math.floor(1e6*Math.random()).toString();function fV(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[gk]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Jg(cV,{onload:gk});tV(s0(f),function(){u(Error("CORS_UNSUPPORTED"))})}}zr.prototype.s=function(o,u,f,p,m){var _=this;u0.then(function(){window.gapi.client.setApiKey(_.c);var T=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:m,authType:"none",callback:function(k){window.gapi.auth.setToken(T),u&&u(k)}})}).o(function(T){u&&u({error:{message:T&&T.message||"CORS_UNSUPPORTED"}})})};function hV(o,u){return new ye(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?mk(o,o.l+"?key="+encodeURIComponent(o.c),function(m){m?m.error?p(g0(m)):m.access_token&&m.refresh_token?f(m):p(new N("internal-error")):p(new N("network-request-failed"))},"POST",iC(u).toString(),o.g,o.m.get()):p(new N("internal-error"))})}function yk(o,u,f,p,m,_,T){var k=Fn(u+f);ft(k,"key",o.c),T&&ft(k,"cb",Date.now().toString());var L=p=="GET";if(L)for(var U in m)m.hasOwnProperty(U)&&ft(k,U,m[U]);return new ye(function(ae,Pe){mk(o,k.toString(),function(Ce){Ce?Ce.error?Pe(g0(Ce,_||{})):ae(Ce):Pe(new N("network-request-failed"))},p,L?void 0:aC(gC(m)),o.a,o.v.get())})}function Bs(o){if(o=o.email,typeof o!="string"||!mj.test(o))throw new N("invalid-email")}function _k(o){"email"in o&&Bs(o)}function dV(o,u){return _e(o,bV,{identifier:u,continueUri:wd()?cc():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function pV(o){return _e(o,LV,{}).then(function(u){return u.authorizedDomains||[]})}function Un(o){if(!o[Wr])throw o.mfaPendingCredential?new N("multi-factor-auth-required",null,fo(o)):new N("internal-error")}function c0(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new N("internal-error")}else{if(!o.sessionInfo)throw new N("missing-verification-id");if(!o.code)throw new N("missing-verification-code")}}zr.prototype.zb=function(){return _e(this,jV,{})},zr.prototype.Bb=function(o,u){return _e(this,Tk,{idToken:o,email:u})},zr.prototype.Cb=function(o,u){return _e(this,bk,{idToken:o,password:u})};var vV={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=zr.prototype,e.Db=function(o,u){var f={idToken:o},p=[];return cS(vV,function(m,_){var T=u[_];T===null?p.push(m):_ in u&&(f[_]=T)}),p.length&&(f.deleteAttribute=p),_e(this,Tk,f)},e.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Dn(o,u),_e(this,DV,o)},e.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Dn(o,u),_e(this,PV,o)},e.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Dn(o,u),_e(this,OV,o)},e.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Dn(o,f),_e(this,xV,o)};function mV(o,u){return _e(o,UV,u)}e.fb=function(o){return _e(this,HV,o)};function gV(o,u){return _e(o,VV,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function wk(o){if(!o.phoneVerificationInfo)throw new N("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new N("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new N("missing-verification-code")}function yV(o,u){return _e(o,BV,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function _V(o,u,f){return _e(o,SV,{idToken:u,deleteProvider:f})}function f0(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new N("internal-error")}function h0(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Ps(o.postBody),wy(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function Ek(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Ad(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Ad(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Ad(o)):o.errorMessage&&(u=Sk(o.errorMessage)),u)throw u;Un(o)}function d0(o,u){return u.returnIdpCredential=!0,_e(o,$V,u)}function p0(o,u){return u.returnIdpCredential=!0,_e(o,zV,u)}function v0(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,_e(o,qV,u)}function m0(o){if(!o.oobCode)throw new N("invalid-action-code")}e.nb=function(o,u){return _e(this,FV,{oobCode:o,newPassword:u})},e.Ra=function(o){return _e(this,EV,{oobCode:o})},e.jb=function(o){return _e(this,wV,{oobCode:o})};var wV={endpoint:"setAccountInfo",A:m0,Z:"email",B:!0},EV={endpoint:"resetPassword",A:m0,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},B:!0},TV={endpoint:"signupNewUser",A:function(o){if(Bs(o),!o.password)throw new N("weak-password")},G:Un,V:!0,B:!0},bV={endpoint:"createAuthUri",B:!0},IV={endpoint:"deleteAccount",N:["idToken"]},SV={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new N("internal-error")}},CV={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Bs,G:Un,V:!0,B:!0},kV={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Bs,G:Un,V:!0},NV={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:wk,G:Un,B:!0,Na:!0},AV={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:wk,G:Un,B:!0,Na:!0},RV={endpoint:"getAccountInfo"},PV={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new N("internal-error");Bs(o)},Z:"email",B:!0},OV={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new N("internal-error")},Z:"email",B:!0},xV={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},Z:"email",B:!0},DV={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new N("internal-error");Bs(o)},Z:"email",B:!0},LV={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},MV={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new N("internal-error")}},FV={endpoint:"resetPassword",A:m0,Z:"email",B:!0},UV={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Tk={endpoint:"setAccountInfo",N:["idToken"],A:_k,V:!0},bk={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(_k(o),!o.password)throw new N("weak-password")},G:Un,V:!0},jV={endpoint:"signupNewUser",G:Un,V:!0,B:!0},VV={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new N("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new N("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},BV={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},$V={endpoint:"verifyAssertion",A:f0,Ya:h0,G:Ek,V:!0,B:!0},qV={endpoint:"verifyAssertion",A:f0,Ya:h0,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new N("user-not-found");if(o.errorMessage)throw Sk(o.errorMessage);Un(o)},V:!0,B:!0},zV={endpoint:"verifyAssertion",A:function(o){if(f0(o),!o.idToken)throw new N("internal-error")},Ya:h0,G:Ek,V:!0},WV={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new N("invalid-custom-token")},G:Un,V:!0,B:!0},Ik={endpoint:"verifyPassword",A:function(o){if(Bs(o),!o.password)throw new N("wrong-password")},G:Un,V:!0,B:!0},HV={endpoint:"verifyPhoneNumber",A:c0,G:Un,B:!0},KV={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new N("internal-error");c0(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Ad(o);Un(o)}},GV={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:c0,G:Un,B:!0},QV={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Wr]^!!o.refreshToken)throw new N("internal-error")},B:!0,Na:!0};function _e(o,u,f){if(!bj(f,u.N))return Ge(new N("internal-error"));var p=!!u.Na,m=u.Ub||"POST",_;return ne(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?yk(o,o.i,u.endpoint,m,f,u.Hb,u.lb||!1):yk(o,o.h,u.endpoint,m,f,u.Hb,u.lb||!1)}).then(function(T){return _=T,u.Ya?u.Ya(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new N("internal-error");return _[u.Z]})}function Sk(o){return g0({error:{errors:[{message:o}],code:400,message:o}})}function g0(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new N(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Dn(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var m in p)if(f.indexOf(m)===0)return new N(p[m],u);return!u&&o&&(u=hc(o)),new N("internal-error",u)}function YV(o){this.b=o,this.a=null,this.rb=XV(this)}function XV(o){return rB().then(function(){return new ye(function(u,f){Qe("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Qe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function m(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},nB.get());p.ping(m).then(m,function(){f(Error("Network Error"))})})})})}function JV(o,u){return o.rb.then(function(){return new ye(function(f){o.a.send(u.type,u,f,Qe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function ZV(o,u){o.rb.then(function(){o.a.register("authEvent",u,Qe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var eB=new li(sd,"https://apis.google.com/js/api.js?onload=%{onload}"),tB=new mo(3e4,6e4),nB=new mo(5e3,15e3),$d=null;function rB(){return $d||($d=new ye(function(o,u){function f(){_C(),Qe("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){_C(),u(Error("Network Error"))},timeout:tB.get()})}if(Qe("gapi.iframes.Iframe"))o();else if(Qe("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[p]=function(){Qe("gapi.load")?f():u(Error("Network Error"))},p=Jg(eB,{onload:p}),ne(s0(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw $d=null,o}))}function Ck(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=Fn(this.g.url),o=yd(o.c,o.a,o.g,"/emulator/auth/iframe")):o=yd("https",this.l,null,"/__/auth/iframe"),this.a=o,ft(this.a,"apiKey",this.h),ft(this.a,"appName",this.i),this.b=null,this.c=[]}Ck.prototype.toString=function(){return this.f?ft(this.a,"v",this.f):ci(this.a.b,"v"),this.b?ft(this.a,"eid",this.b):ci(this.a.b,"eid"),this.c.length?ft(this.a,"fw",this.c.join(",")):ci(this.a.b,"fw"),this.a.toString()};function y0(o,u,f,p,m,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}y0.prototype.yb=function(o){return this.h=o,this},y0.prototype.toString=function(){if(this.v){var o=Fn(this.v.url);o=yd(o.c,o.a,o.g,"/emulator/auth/handler")}else o=yd("https",this.u,null,"/__/auth/handler");if(ft(o,"apiKey",this.s),ft(o,"appName",this.c),ft(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=ee.app(this.c).auth().la()}catch{f=null}u.ob=f,ft(o,"providerId",this.a.providerId),f=this.a,u=gC(f.Ib);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=fo(u);for(var m=0;m<p.length;m++){var _=p[m];_ in u&&delete u[_]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),Cs(u)||ft(o,"customParameters",hc(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&ft(o,"scopes",f.join(","))),this.l?ft(o,"redirectUrl",this.l):ci(o.b,"redirectUrl"),this.g?ft(o,"eventId",this.g):ci(o.b,"eventId"),this.i?ft(o,"v",this.i):ci(o.b,"v"),this.b)for(var T in this.b)this.b.hasOwnProperty(T)&&!yr(o,T)&&ft(o,T,this.b[T]);return this.h?ft(o,"tid",this.h):ci(o.b,"tid"),this.f?ft(o,"eid",this.f):ci(o.b,"eid"),T=_0(this.c),T.length&&ft(o,"fw",T.join(",")),o.toString()};function _0(o){try{return ee.app(o).auth().Ga()}catch{return[]}}function kk(o,u,f,p,m,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Nk(o){var u=cc();return pV(o).then(function(f){e:{var p=Fn(u),m=p.c;p=p.a;for(var _=0;_<f.length;_++){var T=f[_],k=p,L=m;if(T.indexOf("chrome-extension://")==0?k=Fn(T).a==k&&L=="chrome-extension":L!="http"&&L!="https"?k=!1:vj.test(T)?k=k==T:(T=T.split(".").join("\\."),k=new RegExp("^(.+\\."+T+"|"+T+")$","i").test(k)),k){f=!0;break e}}f=!1}if(!f)throw new Yy(cc())})}function Ak(o){return o.m||(o.m=_d().then(function(){if(!o.u){var u=o.c,f=o.i,p=_0(o.b),m=new Ck(o.s,o.g,o.b,o.f);m.f=u,m.b=f,m.c=Ss(p||[]),o.u=m.toString()}o.v=new YV(o.u),iB(o)})),o.m}e=kk.prototype,e.Ob=function(o,u,f){var p=new N("popup-closed-by-user"),m=new N("web-storage-unsupported"),_=this,T=!1;return this.ma().then(function(){oB(_).then(function(k){k||(o&&Os(o),u(m),T=!0)})}).o(function(){}).then(function(){if(!T)return pj(o)}).then(function(){if(!T)return eu(f).then(function(){u(p)})})},e.Xb=function(){var o=zt();return!fc(o)&&!yC(o)},e.Tb=function(){return!1},e.Mb=function(o,u,f,p,m,_,T,k){if(!o)return Ge(new N("popup-blocked"));if(T&&!fc())return this.ma().o(function(U){Os(o),m(U)}),p(),ne();this.a||(this.a=Nk(Rk(this)));var L=this;return this.a.then(function(){var U=L.ma().o(function(ae){throw Os(o),m(ae),ae});return p(),U}).then(function(){if(Gy(f),!T){var U=Nc(L.s,L.g,L.b,u,f,null,_,L.c,void 0,L.i,k,L.f);cC(U,o)}}).o(function(U){throw U.code=="auth/network-request-failed"&&(L.a=null),U})};function Rk(o){return o.l||(o.C=o.c?iu(o.c,_0(o.b)):null,o.l=new zr(o.g,mn(o.i),o.C),o.f&&cu(o.l,o.f)),o.l}e.Nb=function(o,u,f,p){this.a||(this.a=Nk(Rk(this)));var m=this;return this.a.then(function(){Gy(u);var _=Nc(m.s,m.g,m.b,o,u,cc(),f,m.c,void 0,m.i,p,m.f);cC(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(m.a=null),_})},e.ma=function(){var o=this;return Ak(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new N("network-request-failed")})},e.$b=function(){return!0};function Nc(o,u,f,p,m,_,T,k,L,U,ae,Pe){return o=new y0(o,u,f,p,m,Pe),o.l=_,o.g=T,o.i=k,o.b=fo(L||null),o.f=U,o.yb(ae).toString()}function iB(o){if(!o.v)throw Error("IfcHandler must be initialized!");ZV(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=ZC(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",ne(f)}return f.status="ERROR",ne(f)})}function oB(o){var u={type:"webStorageSupport"};return Ak(o).then(function(){return JV(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Sa=function(o){Vr(this.h,function(u){return u==o})};function Pk(o){if(this.a=o||ee.INTERNAL.reactNative&&ee.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Pk.prototype,e.get=function(o){return ne(this.a.getItem(o)).then(function(u){return u&&su(u)})},e.set=function(o,u){return ne(this.a.setItem(o,hc(u)))},e.U=function(o){return ne(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function Ok(o){this.b=o,this.a={},this.f=x(this.c,this)}var xk=[];function sB(){var o=$r()?self:null;if(et(xk,function(f){f.b==o&&(u=f)}),!u){var u=new Ok(o);xk.push(u)}return u}Ok.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var m=[];et(p,function(_){m.push(ne().then(function(){return _(o.origin,o.data.data)}))}),FS(m).then(function(_){var T=[];et(_,function(k){T.push({fulfilled:k.Pb,value:k.value,reason:k.reason?k.reason.message:void 0})}),et(T,function(k){for(var L in k)typeof k[L]>"u"&&delete k[L]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:T})})}};function Dk(o,u,f){Cs(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function Lk(o){this.a=o}Lk.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function Mk(o){this.c=o,this.b=!1,this.a=[]}function Fk(o,u,f,p){var m,_=f||{},T,k,L,U=null;if(o.b)return Ge(Error("connection_unavailable"));var ae=p?800:50,Pe=typeof MessageChannel<"u"?new MessageChannel:null;return new ye(function(Ce,Dt){Pe?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),Pe.port1.start(),k=setTimeout(function(){Dt(Error("unsupported_event"))},ae),T=function(Vi){Vi.data.eventId===m&&(Vi.data.status==="ack"?(clearTimeout(k),L=setTimeout(function(){Dt(Error("timeout"))},3e3)):Vi.data.status==="done"?(clearTimeout(L),typeof Vi.data.response<"u"?Ce(Vi.data.response):Dt(Error("unknown_error"))):(clearTimeout(k),clearTimeout(L),Dt(Error("invalid_response"))))},U={messageChannel:Pe,onMessage:T},o.a.push(U),Pe.port1.addEventListener("message",T),o.c.postMessage({eventType:u,eventId:m,data:_},[Pe.port2])):Dt(Error("connection_unavailable"))}).then(function(Ce){return w0(o,U),Ce}).o(function(Ce){throw w0(o,U),Ce})}function w0(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),Vr(o.a,function(m){return m==u})}}Mk.prototype.close=function(){for(;0<this.a.length;)w0(this,this.a[0]);this.b=!0};function Uk(){if(!b0())throw new N("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;$r()&&self?(this.v=sB(),Dk(this.v,"keyChanged",function(u,f){return Bk(o).then(function(p){return 0<p.length&&et(o.a,function(m){m(p)}),{keyProcessed:Li(p,f.key)}})}),Dk(this.v,"ping",function(){return ne(["keyChanged"])})):Ej().then(function(u){(o.h=u)&&(o.g=new Mk(new Lk(u)),Fk(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&Li(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var E0;function aB(o){return new ye(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(m){f(Error(m.target.error))}})}function jk(o){return new ye(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(m){try{m.preventDefault()}catch{}f(Error(m.target.error))},p.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?u(m):aB(o).then(function(){return jk(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function T0(o){return o.i||(o.i=jk(o)),o.i}function qd(o,u){function f(m,_){T0(o).then(u).then(m).o(function(T){if(3<++p)_(T);else return T0(o).then(function(k){return k.close(),o.i=void 0,f(m,_)}).o(function(k){_(k)})})}var p=0;return new ye(f)}function b0(){try{return!!c.indexedDB}catch{return!1}}function Ac(o){return o.objectStore("firebaseLocalStorage")}function Rc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function fu(o){return new ye(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}e=Uk.prototype,e.set=function(o,u){var f=this,p=!1;return qd(this,function(m){return m=Ac(Rc(m,!0)),fu(m.get(o))}).then(function(m){return qd(f,function(_){if(_=Ac(Rc(_,!0)),m)return m.value=u,fu(_.put(m));f.b++,p=!0;var T={};return T.fbase_key=o,T.value=u,fu(_.add(T))})}).then(function(){return f.c[o]=u,Vk(f,o)}).oa(function(){p&&f.b--})};function Vk(o,u){return o.g&&o.h&&wj()===o.h?Fk(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):ne()}e.get=function(o){return qd(this,function(u){return fu(Ac(Rc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return qd(this,function(p){return f=!0,u.b++,fu(Ac(Rc(p,!0)).delete(o))}).then(function(){return delete u.c[o],Vk(u,o)}).oa(function(){f&&u.b--})};function Bk(o){return T0(o).then(function(u){var f=Ac(Rc(u,!1));return f.getAll?fu(f.getAll()):new ye(function(p,m){var _=[],T=f.openCursor();T.onsuccess=function(k){(k=k.target.result)?(_.push(k.value),k.continue()):p(_)},T.onerror=function(k){m(k.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=fC(o.c,f),o.c=f}return p})}e.ca=function(o){this.a.length==0&&uB(this),this.a.push(o)},e.ia=function(o){Vr(this.a,function(u){return u==o}),this.a.length==0&&$k(this)};function uB(o){function u(){o.f=setTimeout(function(){o.l=Bk(o).then(function(f){0<f.length&&et(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}$k(o),u()}function $k(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function qk(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=ne().then(function(){if(b0()){var p=Ds(),m="__sak"+p;return E0||(E0=new Uk),f=E0,f.set(m,p).then(function(){return f.get(m)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(m)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(m){et(u.a,function(_){_(m)})}),p})}e=qk.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Vr(this.a,function(u){return u==o})};function Pc(){this.a={},this.type="inMemory"}e=Pc.prototype,e.get=function(o){return ne(this.a[o])},e.set=function(o,u){return this.a[o]=u,ne()},e.U=function(o){return delete this.a[o],ne()},e.ca=function(){},e.ia=function(){};function zd(){if(!lB())throw fi()=="Node"?new N("internal-error","The LocalStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=zk()||ee.INTERNAL.node.localStorage,this.type="localStorage"}function zk(){try{var o=c.localStorage,u=Ds();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function lB(){var o=fi()=="Node";if(o=zk()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=zd.prototype,e.get=function(o){var u=this;return ne().then(function(){var f=u.a.getItem(o);return su(f)})},e.set=function(o,u){var f=this;return ne().then(function(){var p=hc(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return ne().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&gr(c.window,"storage",o)},e.ia=function(o){c.window&&Zn(c.window,"storage",o)};function I0(){this.type="nullStorage"}e=I0.prototype,e.get=function(){return ne(null)},e.set=function(){return ne()},e.U=function(){return ne()},e.ca=function(){},e.ia=function(){};function S0(){if(!cB())throw fi()=="Node"?new N("internal-error","The SessionStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=Wk()||ee.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wk(){try{var o=c.sessionStorage,u=Ds();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function cB(){var o=fi()=="Node";if(o=Wk()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=S0.prototype,e.get=function(o){var u=this;return ne().then(function(){var f=u.a.getItem(o);return su(f)})},e.set=function(o,u){var f=this;return ne().then(function(){var p=hc(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return ne().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function fB(){var o={};o.Browser=hB,o.Node=dB,o.ReactNative=pB,o.Worker=vB,this.a=o[fi()]}var C0,hB={F:zd,bb:S0},dB={F:zd,bb:S0},pB={F:Pk,bb:I0},vB={F:zd,bb:I0},hu={rd:"local",NONE:"none",td:"session"};function mB(o){var u=new N("invalid-persistence-type"),f=new N("unsupported-persistence-type");e:{for(p in hu)if(hu[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(fi()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!b0()&&o!=="none")throw f;break;default:if(!Cy()&&o!=="none")throw f}}function Hk(){var o=!!(!yC(zt())&&Iy()),u=fc(),f=Cy();this.m=o,this.h=u,this.l=f,this.a={},C0||(C0=new fB),o=C0;try{this.g=!Ty()&&wC()||!c.indexedDB?new o.a.F:new qk($r()?new Pc:new o.a.F)}catch{this.g=new Pc,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new Pc}this.v=new Pc,this.f=x(this.Yb,this),this.b={}}var k0;function Oc(){return k0||(k0=new Hk),k0}function $s(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function du(o,u){return"firebase:"+o.name+(u?":"+u:"")}function gB(o,u,f){var p=du(u,f),m=$s(o,u.F);return o.get(u,f).then(function(_){var T=null;try{T=su(c.localStorage.getItem(p))}catch{}if(T&&!_)return c.localStorage.removeItem(p),o.set(u,T,f);T&&_&&m.type!="localStorage"&&c.localStorage.removeItem(p)})}e=Hk.prototype,e.get=function(o,u){return $s(this,o.F).get(du(o,u))};function pu(o,u,f){return f=du(u,f),u.F=="local"&&(o.b[f]=null),$s(o,u.F).U(f)}e.set=function(o,u,f){var p=du(o,f),m=this,_=$s(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(T){o.F=="local"&&(m.b[p]=T)})},e.addListener=function(o,u,f){o=du(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),Cs(this.a)&&($s(this,"local").ca(this.f),this.h||(Ty()||!wC())&&c.indexedDB||!this.l||yB(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=du(o,u),this.a[o]&&(Vr(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),Cs(this.a)&&($s(this,"local").ia(this.f),N0(this))};function yB(o){N0(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new As({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Yb(f))}},1e3)}function N0(o){o.c&&(clearInterval(o.c),o.c=null)}e.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var m=c.localStorage.getItem(f);m!==p&&(this.b[f]=m,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?$s(this,"local").ia(this.f):N0(this),this.m){if(f=c.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?c.localStorage.setItem(u,p):c.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.mb(u))},Br&&ho&&ho==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else et(o,x(this.mb,this))},e.mb=function(o){this.a[o]&&et(this.a[o],function(u){u()})};function _B(o){this.a=o,this.b=Oc()}var A0={name:"authEvent",F:"local"};function wB(o){return o.b.get(A0,o.a).then(function(u){return ZC(u)})}function EB(){this.a=Oc()}function TB(){this.b=-1}function Wd(o,u){this.b=Kk,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),Hd===void 0&&(c.Int32Array?Hd=new Int32Array(Yk):Hd=Yk),this.reset()}var Hd;M(Wd,TB);for(var Kk=64,bB=Kk-1,Gk=[],R0=0;R0<bB;R0++)Gk[R0]=0;var Qk=Qg(128,Gk);Wd.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):Ss(this.h)};function P0(o){for(var u=o.f,f=o.l,p=0,m=0;m<u.length;)f[p++]=u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3],m=4*p;for(u=16;64>u;u++){m=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,T=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+T|0}p=o.a[0]|0,m=o.a[1]|0;var k=o.a[2]|0,L=o.a[3]|0,U=o.a[4]|0,ae=o.a[5]|0,Pe=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Ce=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&k^m&k)|0;T=U&ae^~U&Pe,_=_+((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))|0,T=T+(Hd[u]|0)|0,T=_+(T+(f[u]|0)|0)|0,_=Pe,Pe=ae,ae=U,U=L+T|0,L=k,k=m,m=p,p=T+Ce|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+m|0,o.a[2]=o.a[2]+k|0,o.a[3]=o.a[3]+L|0,o.a[4]=o.a[4]+U|0,o.a[5]=o.a[5]+ae|0,o.a[6]=o.a[6]+Pe|0,o.a[7]=o.a[7]+_|0}function O0(o,u,f){f===void 0&&(f=u.length);var p=0,m=o.c;if(typeof u=="string")for(;p<f;)o.f[m++]=u.charCodeAt(p++),m==o.b&&(P0(o),m=0);else if(w(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[m++]=_,m==o.b&&(P0(o),m=0)}else throw Error("message must be string or array");o.c=m,o.g+=f}var Yk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Xk(){Wd.call(this,8,IB)}M(Xk,Wd);var IB=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Jk(o,u,f,p,m,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=m||null,this.s=_,this.h=u+":"+f,this.C=new EB,this.g=new _B(this.h),this.f=null,this.b=[],this.a=this.c=null}function Kd(o){return new N("invalid-cordova-configuration",o)}e=Jk.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=gj().then(function(){if(typeof Qe("universalLinks.subscribe",c)!="function")throw Kd("cordova-universal-links-plugin-fix is not installed");if(typeof Qe("BuildInfo.packageName",c)>"u")throw Kd("cordova-plugin-buildinfo is not installed");if(typeof Qe("cordova.plugins.browsertab.openUrl",c)!="function")throw Kd("cordova-plugin-browsertab is not installed");if(typeof Qe("cordova.InAppBrowser.open",c)!="function")throw Kd("cordova-plugin-inappbrowser is not installed")},function(){throw new N("cordova-not-ready")})};function SB(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function CB(o){var u=new Xk;O0(u,o),o=[];var f=8*u.g;56>u.c?O0(u,Qk,56-u.c):O0(u,Qk,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(P0(u),p=f=0;p<u.i;p++)for(var m=24;0<=m;m-=8)o[f++]=u.a[p]>>m&255;return Fj(o)}e.Ob=function(o,u){return u(new N("operation-not-supported-in-this-environment")),ne()},e.Mb=function(){return Ge(new N("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(o,u,f,p){if(this.c)return Ge(new N("redirect-operation-pending"));var m=this,_=c.document,T=null,k=null,L=null,U=null;return this.c=ne().then(function(){return Gy(u),eN(m)}).then(function(){return kB(m,o,u,f,p)}).then(function(){return new ye(function(ae,Pe){k=function(){var Ce=Qe("cordova.plugins.browsertab.close",c);return ae(),typeof Ce=="function"&&Ce(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(k),L=function(){T||(T=eu(2e3).then(function(){Pe(new N("redirect-cancelled-by-user"))}))},U=function(){ky()&&L()},_.addEventListener("resume",L,!1),zt().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",U,!1)}).o(function(ae){return x0(m).then(function(){throw ae})})}).oa(function(){L&&_.removeEventListener("resume",L,!1),U&&_.removeEventListener("visibilitychange",U,!1),T&&T.cancel(),k&&m.Sa(k),m.c=null})};function kB(o,u,f,p,m){var _=SB(),T=new qr(u,p,null,_,new N("no-auth-event"),null,m),k=Qe("BuildInfo.packageName",c);if(typeof k!="string")throw new N("invalid-cordova-configuration");var L=Qe("BuildInfo.displayName",c),U={};if(zt().toLowerCase().match(/iphone|ipad|ipod/))U.ibi=k;else if(zt().toLowerCase().match(/android/))U.apn=k;else return Ge(new N("operation-not-supported-in-this-environment"));L&&(U.appDisplayName=L),_=CB(_),U.sessionId=_;var ae=Nc(o.v,o.i,o.l,u,f,null,p,o.m,U,o.u,m,o.s);return o.ma().then(function(){var Pe=o.h;return o.C.a.set(A0,T.w(),Pe)}).then(function(){var Pe=Qe("cordova.plugins.browsertab.isAvailable",c);if(typeof Pe!="function")throw new N("invalid-cordova-configuration");var Ce=null;Pe(function(Dt){if(Dt){if(Ce=Qe("cordova.plugins.browsertab.openUrl",c),typeof Ce!="function")throw new N("invalid-cordova-configuration");Ce(ae)}else{if(Ce=Qe("cordova.InAppBrowser.open",c),typeof Ce!="function")throw new N("invalid-cordova-configuration");Dt=zt(),o.a=Ce(ae,Dt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Dt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Zk(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function eN(o){return o.f||(o.f=o.ma().then(function(){return new ye(function(u){function f(p){return u(p),o.Sa(f),!1}o.Ea(f),NB(o)})})),o.f}function x0(o){var u=null;return wB(o.g).then(function(f){return u=f,f=o.g,pu(f.b,A0,f.a)}).then(function(){return u})}function NB(o){function u(T){p=!0,m&&m.cancel(),x0(o).then(function(k){var L=f;if(k&&T&&T.url){var U=null;L=WC(T.url),L.indexOf("/__/auth/callback")!=-1&&(U=Fn(L),U=su(yr(U,"firebaseError")||null),U=(U=typeof U=="object"?$e(U):null)?new qr(k.c,k.b,null,null,U,null,k.T()):new qr(k.c,k.b,L,k.f,null,null,k.T())),L=U||f}Zk(o,L)})}var f=new qr("unknown",null,null,null,new N("no-auth-event")),p=!1,m=eu(500).then(function(){return x0(o).then(function(){p||Zk(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(T){if(T.toLowerCase().indexOf(Qe("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:T}),typeof _=="function")try{_(T)}catch(k){console.error(k)}},Qy||(Qy=new Wj),Hj(u)}e.Ea=function(o){this.b.push(o),eN(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new qr("unknown",null,null,null,new N("no-auth-event")),o(u))})},e.Sa=function(o){Vr(this.b,function(u){return u==o})};function AB(o){this.a=o,this.b=Oc()}var D0={name:"pendingRedirect",F:"session"};function RB(o){return o.b.set(D0,"pending",o.a)}function L0(o){return pu(o.b,D0,o.a)}function PB(o){return o.b.get(D0,o.a).then(function(u){return u=="pending"})}function Gd(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new Qd,this.C=new hN,this.g=new AB(uN(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=tN(this.D,this.v,this.m,Ze,this.J)}function tN(o,u,f,p,m){var _=ee.SDK_VERSION||null;return by()?new Jk(o,u,f,_,p,m):new kk(o,u,f,_,p,m)}Gd.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=tN(this.D,this.v,this.m,null,this.J),this.i={}};function nN(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function rN(o){o.a.Xb()&&nN(o).o(function(u){var f=new qr("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));F0(u)&&o.s(f)}),o.a.Tb()||cN(o.b)}function M0(o,u){Li(o.h,u)||o.h.push(u),o.f||PB(o.g).then(function(f){f?L0(o.g).then(function(){nN(o).o(function(p){var m=new qr("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));F0(p)&&o.s(m)})}):rN(o)}).o(function(){rN(o)})}function iN(o,u){Vr(o.h,function(f){return f==u})}Gd.prototype.s=function(o){if(!o)throw new N("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return cN(this.b),u};var OB=new mo(2e3,1e4),xB=new mo(3e4,6e4);Gd.prototype.qa=function(){return this.b.qa()};function oN(o,u,f,p,m,_,T){return o.a.Mb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},m,_,T)}function F0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function sN(o,u,f,p,m){var _;return RB(o.g).then(function(){return o.a.Nb(u,f,p,m).o(function(T){if(F0(T))throw new N("operation-not-supported-in-this-environment");return _=T,L0(o.g).then(function(){throw _})}).then(function(){return o.a.$b()?new ye(function(){}):L0(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function aN(o,u,f,p,m){return o.a.Ob(p,function(_){u.na(f,null,_,m)},OB.get())}var U0={};function uN(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function lN(o,u,f,p){var m=uN(u,f,p);return U0[m]||(U0[m]=new Gd(o,u,f,p)),U0[m]}function Qd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Qd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Qd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,m=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!_),f!="unknown"||m||_?o.a?(qs(this,!0,null,o.a),ne()):u.Fa(f,p)?DB(this,o,u):Ge(new N("invalid-auth-event")):(qs(this,!1,null,null),ne())}else Ge(new N("invalid-auth-event"))};function cN(o){o.g||(o.g=!0,qs(o,!1,null,null))}function Yd(o){o.g&&!o.i&&qs(o,!1,null,null)}function DB(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,m=u.f,_=u.i,T=u.T(),k=!!u.c.match(/Redirect$/);f(p,m,T,_).then(function(L){qs(o,k,L,null)}).o(function(L){qs(o,k,null,L)})}function LB(o,u){if(o.b=function(){return Ge(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function fN(o,u){if(o.b=function(){return ne(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function qs(o,u,f,p){u?p?LB(o,p):fN(o,f):fN(o,{user:null}),o.f=[],o.c=[]}Qd.prototype.qa=function(){var o=this;return new ye(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),MB(o))})};function MB(o){var u=new N("timeout");o.a&&o.a.cancel(),o.a=eu(xB.get()).then(function(){o.b||(o.g=!0,qs(o,!0,null,u))})}function hN(){}hN.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),ne()):u.Fa(f,p)?FB(o,u):Ge(new N("invalid-auth-event"))}else Ge(new N("invalid-auth-event"))};function FB(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(m){u.na(p,m,null,f)}).o(function(m){u.na(p,null,m,f)})}function dN(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function j0(o,u){this.a=u,X(this,"verificationId",o)}j0.prototype.confirm=function(o){return o=JC(this.verificationId,o),this.a(o)};function V0(o,u,f,p){return new Ui(o).fb(u,f).then(function(m){return new j0(m,p)})}function UB(o){var u=FC(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new N("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");yn(this,{token:o,expirationTime:dc(1e3*u.exp),authTime:dc(1e3*u.auth_time),issuedAtTime:dc(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function B0(o,u,f){var p=u&&u[vN];if(!p)throw new N("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=fo(u),this.g=f,this.c=new kd(null,p),this.b=[];var m=this;et(u[pN]||[],function(_){(_=xy(_))&&m.b.push(_)}),X(this,"auth",this.a),X(this,"session",this.c),X(this,"hints",this.b)}var pN="mfaInfo",vN="mfaPendingCredential";B0.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var p=fo(u.f);return delete p[pN],delete p[vN],Dn(p,f),u.g(p)})};function $0(o,u,f,p){N.call(this,"multi-factor-auth-required",p,u),this.b=new B0(o,u,f),X(this,"resolver",this.b)}M($0,N);function mN(o,u,f){if(o&&S(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new $0(u,o.serverResponse,f,o.message)}catch{}return null}function gN(){}gN.prototype.sb=function(o,u,f){return u.type==gc?jB(this,o,u,f):VB(this,o,u)};function jB(o,u,f,p){return f.Ha().then(function(m){return m={idToken:m},typeof p<"u"&&(m.displayName=p),Dn(m,{phoneVerificationInfo:yc(o.a)}),_e(u,NV,m)})}function VB(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},Dn(p,{phoneVerificationInfo:yc(o.a)}),_e(u,AV,p)})}function q0(o){X(this,"factorId",o.fa),this.a=o}M(q0,gN);function yN(o){if(q0.call(this,o),this.a.fa!=Ui.PROVIDER_ID)throw new N("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}M(yN,q0);function vu(o,u){Mn.call(this,o);for(var f in u)this[f]=u[f]}M(vu,Mn);function z0(o,u){this.a=o,this.b=[],this.c=x(this.yc,this),gr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&et(u.multiFactor.enrolledFactors,function(p){var m=null,_={};if(p){p.uid&&(_[Ly]=p.uid),p.displayName&&(_[TC]=p.displayName),p.enrollmentTime&&(_[Dy]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[My]=p.phoneNumber);try{m=new pc(_)}catch{}p=m}else p=null;p&&f.push(p)}),Xd(this,f)}function BB(o){var u=[];return et(o.mfaInfo||[],function(f){(f=xy(f))&&u.push(f)}),u}e=z0.prototype,e.yc=function(o){Xd(this,BB(o.hd))};function Xd(o,u){o.b=u,X(o,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(o){return new kd(o,null)})},e.fc=function(o,u){var f=this,p=this.a.a;return this.Rb().then(function(m){return o.sb(p,m,u)}).then(function(m){return pi(f.a,m),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(m){return _e(p,QV,{idToken:m,mfaEnrollmentId:f})}).then(function(m){var _=y3(u.b,function(T){return T.uid!=f});return Xd(u,_),pi(u.a,m),u.a.reload().o(function(T){if(T.code!="auth/user-token-expired")throw T})})},e.w=function(){return{multiFactor:{enrolledFactors:id(this.b,function(o){return o.w()})}}};function W0(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}W0.prototype.start=function(){this.a=this.c,H0(this,!0)};function $B(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function H0(o,u){o.stop(),o.b=eu($B(o,u)).then(function(){return _j()}).then(function(){return o.h()}).then(function(){H0(o,!0)}).o(function(f){o.i(f)&&H0(o,!1)})}W0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function K0(o){this.f=o,this.b=this.a=null,this.c=Date.now()}K0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function _N(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function wN(o,u){o.b=Sd(u[Wr]||""),o.a=u.refreshToken,u=u.expiresIn,_N(o,typeof u<"u"?Number(u):void 0)}function qB(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function zB(o,u){return hV(o.f,u).then(function(f){return o.b=Sd(f.access_token),o.a=f.refresh_token,_N(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}K0.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?Ge(new N("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?zB(this,{grant_type:"refresh_token",refresh_token:this.a}):ne(null):ne({accessToken:this.b.toString(),refreshToken:this.a})};function Jd(o,u){this.a=o||null,this.b=u||null,yn(this,{lastSignInTime:dc(u||null),creationTime:dc(o||null)})}function WB(o){return new Jd(o.a,o.b)}Jd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function HB(o,u,f,p,m,_){yn(this,{uid:o,displayName:p||null,photoURL:m||null,email:f||null,phoneNumber:_||null,providerId:u})}function tr(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=ee.SDK_VERSION?iu(ee.SDK_VERSION):null;this.a=new zr(this.l,mn(Ze),p),o.emulatorConfig&&cu(this.a,o.emulatorConfig),this.b=new K0(this.a),Z0(this,u[Wr]),wN(this.b,u),X(this,"refreshToken",this.b.a),TN(this,f||{}),gn.call(this),this.R=!1,this.s&&xs()&&(this.i=lN(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=KB(this),this.aa=x(this.hb,this);var m=this;this.ya=null,this.Oa=function(_){m.wa(_.h)},this.ja=null,this.Aa=function(_){cu(m.a,_.c)},this.X=null,this.$=[],this.Ba=function(_){xc(m,_.f)},this.ba=null,this.O=new z0(this,f),X(this,"multiFactor",this.O)}M(tr,gn),tr.prototype.wa=function(o){this.ya=o,pk(this.a,o)},tr.prototype.la=function(){return this.ya};function G0(o,u){o.ja&&Zn(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&gr(u,"languageCodeChanged",o.Oa)}function Q0(o,u){o.X&&Zn(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&gr(u,"emulatorConfigChanged",o.Aa)}function xc(o,u){o.$=u,vk(o.a,ee.SDK_VERSION?iu(ee.SDK_VERSION,o.$):null)}tr.prototype.Ga=function(){return Ss(this.$)};function Y0(o,u){o.ba&&Zn(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&gr(u,"frameworkChanged",o.Ba)}tr.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function X0(o){try{return ee.app(o.m).auth()}catch{throw new N("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function KB(o){return new W0(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function EN(o){o.D||o.u.b||(o.u.start(),Zn(o,"tokenChanged",o.aa),gr(o,"tokenChanged",o.aa))}function J0(o){Zn(o,"tokenChanged",o.aa),o.u.stop()}function Z0(o,u){o.za=u,X(o,"_lat",u)}function GB(o,u){Vr(o.S,function(f){return f==u})}function zs(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return FS(u).then(function(){return o})}function Dc(o){o.i&&!o.R&&(o.R=!0,M0(o.i,o))}function TN(o,u){yn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Jd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}X(tr.prototype,"providerId","firebase");function bN(){}function e_(o){return ne().then(function(){if(o.D)throw new N("app-deleted")})}function t_(o){return id(o.providerData,function(u){return u.providerId})}function n_(o,u){u&&(IN(o,u.providerId),o.providerData.push(u))}function IN(o,u){Vr(o.providerData,function(f){return f.providerId==u})}function _o(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&X(o,u,f)}function Zd(o,u){o!=u&&(yn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?X(o,"metadata",WB(u.metadata)):X(o,"metadata",new Jd),et(u.providerData,function(f){n_(o,f)}),qB(o.b,u.b),X(o,"refreshToken",o.b.a),Xd(o.O,u.O.b))}e=tr.prototype,e.reload=function(){var o=this;return St(this,e_(this).then(function(){return r_(o).then(function(){return zs(o)}).then(bN)}))};function r_(o){return o.I().then(function(u){var f=o.isAnonymous;return QB(o,u).then(function(){return f||_o(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new UB(u)})},e.I=function(o){var u=this;return St(this,e_(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new N("internal-error");return f.accessToken!=u.za&&(Z0(u,f.accessToken),u.dispatchEvent(new vu("tokenChanged"))),_o(u,"refreshToken",f.refreshToken),f.accessToken}))};function pi(o,u){u[Wr]&&o.za!=u[Wr]&&(wN(o.b,u),o.dispatchEvent(new vu("tokenChanged")),Z0(o,u[Wr]),_o(o,"refreshToken",o.b.a))}function QB(o,u){return _e(o.a,RV,{idToken:u}).then(x(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new N("internal-error");o=o[0],TN(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=YB(o),f=0;f<u.length;f++)n_(this,u[f]);_o(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vu("userReloaded",{hd:o}))};function YB(o){return(o=o.providerUserInfo)&&o.length?id(o,function(u){return new HB(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return Ny("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},e.tb=function(o){var u=this,f=null;return St(this,o.c(this.a,this.uid).then(function(p){return pi(u,p),f=Lc(u,p,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function ep(o,u){return r_(o).then(function(){if(Li(t_(o),u))return zs(o).then(function(){throw new N("provider-already-linked")})})}e.Cc=function(o){return Ny("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},e.qb=function(o){var u=this,f=null;return St(this,ep(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=Lc(u,p,"link"),SN(u,p)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return St(this,ep(this,"phone").then(function(){return V0(X0(f),o,u,x(f.qb,f))}))},e.Mc=function(o,u){var f=this;return St(this,ne().then(function(){return V0(X0(f),o,u,x(f.tb,f))}),!0)};function Lc(o,u,f){var p=Ky(u);return u=jC(u),hi({user:o,credential:p,additionalUserInfo:u,operationType:f})}function SN(o,u){return pi(o,u),o.reload().then(function(){return o})}e.Bb=function(o){var u=this;return St(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return pi(u,f),u.reload()}))},e.ed=function(o){var u=this;return St(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return pi(u,f),u.reload()}))},e.Cb=function(o){var u=this;return St(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return pi(u,f),u.reload()}))},e.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return e_(this);var u=this;return St(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return pi(u,f),_o(u,"displayName",f.displayName||null),_o(u,"photoURL",f.photoUrl||null),et(u.providerData,function(p){p.providerId==="password"&&(X(p,"displayName",u.displayName),X(p,"photoURL",u.photoURL))}),zs(u)}).then(bN))},e.cd=function(o){var u=this;return St(this,r_(this).then(function(f){return Li(t_(u),o)?_V(u.a,f,[o]).then(function(p){var m={};return et(p.providerUserInfo||[],function(_){m[_.providerId]=!0}),et(t_(u),function(_){m[_]||IN(u,_)}),m[Ui.PROVIDER_ID]||X(u,"phoneNumber",null),zs(u)}):zs(u).then(function(){throw new N("no-such-provider")})}))},e.delete=function(){var o=this;return St(this,this.I().then(function(u){return _e(o.a,IV,{idToken:u})}).then(function(){o.dispatchEvent(new vu("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");G0(o,null),Q0(o,null),Y0(o,null),o.J=[],o.D=!0,J0(o),X(o,"refreshToken",null),o.i&&iN(o.i,o)})},e.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?x(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?x(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?x(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?x(this.Lb,this):null},e.Ec=function(o){var u=this;return CN(this,"linkViaPopup",o,function(){return ep(u,o.providerId).then(function(){return zs(u)})},!1)},e.Nc=function(o){return CN(this,"reauthViaPopup",o,function(){return ne()},!0)};function CN(o,u,f,p,m){if(!xs())return Ge(new N("operation-not-supported-in-this-environment"));if(o.h&&!m)return Ge(o.h);var _=By(f.providerId),T=Ds(o.uid+":::"),k=null;(!fc()||Iy())&&o.s&&f.isOAuthProvider&&(k=Nc(o.s,o.l,o.m,u,f,null,T,ee.SDK_VERSION||null,null,null,o.tenantId));var L=dC(k,_&&_.ua,_&&_.ta);return p=p().then(function(){if(NN(o),!m)return o.I().then(function(){})}).then(function(){return oN(o.i,L,u,f,T,!!k,o.tenantId)}).then(function(){return new ye(function(U,ae){o.na(u,null,new N("cancelled-popup-request"),o.g||null),o.f=U,o.C=ae,o.g=T,o.c=aN(o.i,o,u,L,T)})}).then(function(U){return L&&Os(L),U?hi(U):null}).o(function(U){throw L&&Os(L),U}),St(o,p,m)}e.Fc=function(o){var u=this;return kN(this,"linkViaRedirect",o,function(){return ep(u,o.providerId)},!1)},e.Oc=function(o){return kN(this,"reauthViaRedirect",o,function(){return ne()},!0)};function kN(o,u,f,p,m){if(!xs())return Ge(new N("operation-not-supported-in-this-environment"));if(o.h&&!m)return Ge(o.h);var _=null,T=Ds(o.uid+":::");return p=p().then(function(){if(NN(o),!m)return o.I().then(function(){})}).then(function(){return o.ga=T,zs(o)}).then(function(k){return o.ha&&(k=o.ha,k=k.b.set(i_,o.w(),k.a)),k}).then(function(){return sN(o.i,u,f,T,o.tenantId)}).o(function(k){if(_=k,o.ha)return RN(o.ha);throw _}).then(function(){if(_)throw _}),St(o,p,m)}function NN(o){if(!o.i||!o.R)throw o.i&&!o.R?new N("internal-error"):new N("auth-domain-config-required")}e.Kb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(T){return p0(m.a,{requestUri:o,postBody:p,sessionId:u,idToken:T})}).then(function(T){return _=Lc(m,T,"link"),SN(m,T)}).then(function(){return _}),St(this,f)},e.Lb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null,T=ne().then(function(){return uu(v0(m.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),m.uid)}).then(function(k){return _=Lc(m,k,"reauthenticate"),pi(m,k),m.h=null,m.reload()}).then(function(){return _});return St(this,T,!0)},e.ub=function(o){var u=this,f=null;return St(this,this.I().then(function(p){return f=p,typeof o>"u"||Cs(o)?{}:bd(new Td(o))}).then(function(p){return u.a.ub(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Eb=function(o,u){var f=this,p=null;return St(this,this.I().then(function(m){return p=m,typeof u>"u"||Cs(u)?{}:bd(new Td(u))}).then(function(m){return f.a.Eb(p,o,m)}).then(function(m){if(f.email!=m)return f.reload()}).then(function(){}))};function St(o,u,f){var p=XB(o,u,f);return o.J.push(p),p.oa(function(){od(o.J,p)}),p.o(function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=mN(m.w(),X0(o),x(o.jc,o))),_||m})}e.jc=function(o){var u=null,f=this;return o=uu(ne(o),f.uid).then(function(p){return u=Lc(f,p,"reauthenticate"),pi(f,p),f.h=null,f.reload()}).then(function(){return u}),St(this,o,!0)};function XB(o,u,f){return o.h&&!f?(u.cancel(),Ge(o.h)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new vu("userInvalidated")),o.h=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Dn(o,this.metadata.w()),et(this.providerData,function(u){o.providerData.push(Tj(u))}),Dn(o,this.O.w()),o};function AN(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Wr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var m=new tr(u,f,o);return o.providerData&&et(o.providerData,function(_){_&&n_(m,hi(_))}),o.redirectEventId&&(m.ga=o.redirectEventId),m}function JB(o,u,f,p){var m=new tr(o,u);return f&&(m.ha=f),p&&xc(m,p),m.reload().then(function(){return m})}function ZB(o,u,f,p){var m=o.b,_={};return _[Wr]=m.b&&m.b.toString(),_.refreshToken=m.a,u=new tr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&xc(u,p),Zd(u,o),u}function e$(o){this.a=o,this.b=Oc()}var i_={name:"redirectUser",F:"session"};function RN(o){return pu(o.b,i_,o.a)}function t$(o,u){return o.b.get(i_,o.a).then(function(f){return f&&u&&(f.authDomain=u),AN(f||{})})}function o_(o){this.a=o,this.b=Oc(),this.c=null,this.f=n$(this),this.b.addListener(vi("local"),this.a,x(this.g,this))}o_.prototype.g=function(){var o=this,u=vi("local");mu(this,function(){return ne().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return s_(o,"local").then(function(){o.c=u})})})};function s_(o,u){var f=[],p;for(p in hu)hu[p]!==u&&f.push(pu(o.b,vi(hu[p]),o.a));return f.push(pu(o.b,a_,o.a)),W3(f)}function n$(o){var u=vi("local"),f=vi("session"),p=vi("none");return gB(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(m){return m?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(T){return T?u:o.b.get(a_,o.a).then(function(k){return k?vi(k):u})})})}).then(function(m){return o.c=m,s_(o,m.F)}).o(function(){o.c||(o.c=u)})}var a_={name:"persistence",F:"session"};function vi(o){return{name:"authUser",F:o}}o_.prototype.xb=function(o){var u=null,f=this;return mB(o),mu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,s_(f,o)}).then(function(){if(f.c=vi(o),u)return f.b.set(f.c,u,f.a)}):ne()})};function r$(o){return mu(o,function(){return o.b.set(a_,o.c.F,o.a)})}function PN(o,u){return mu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function ON(o){return mu(o,function(){return pu(o.b,o.c,o.a)})}function xN(o,u,f){return mu(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),AN(p||{})})})}function mu(o,u){return o.f=o.f.then(u,u),o.f}function Hr(o){if(this.l=!1,X(this,"settings",new dN),X(this,"app",o),Le(this).options&&Le(this).options.apiKey)o=ee.SDK_VERSION?iu(ee.SDK_VERSION):null,this.a=new zr(Le(this).options&&Le(this).options.apiKey,mn(Ze),o);else throw new N("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=ee.INTERNAL.createSubscribe(x(this.zc,this)),this.X=void 0,this.bc=ee.INTERNAL.createSubscribe(x(this.Ac,this)),gu(this,null),this.i=new o_(Le(this).options.apiKey+":"+Le(this).name),this.D=new e$(Le(this).options.apiKey+":"+Le(this).name),this.$=at(this,l$(this)),this.h=at(this,c$(this)),this.ba=!1,this.ja=x(this.Zc,this),this.Ba=x(this.da,this),this.ya=x(this.mc,this),this.za=x(this.wc,this),this.Aa=x(this.xc,this),this.b=null,s$(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Gc,this),this.u=0,gn.call(this),o$(this),this.J=[],this.P=null}M(Hr,gn);function DN(o){Mn.call(this,"languageCodeChanged"),this.h=o}M(DN,Mn);function LN(o){Mn.call(this,"emulatorConfigChanged"),this.c=o}M(LN,Mn);function MN(o){Mn.call(this,"frameworkChanged"),this.f=o}M(MN,Mn),e=Hr.prototype,e.xb=function(o){return o=this.i.xb(o),at(this,o)},e.wa=function(o){this.aa===o||this.l||(this.aa=o,pk(this.a,this.aa),this.dispatchEvent(new DN(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new N("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,i$(u),this.P={url:o,ec:u},this.settings.ib=!0,cu(this.a,this.P),this.dispatchEvent(new LN(this.P))}};function i$(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&_d().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),vk(this.a,ee.SDK_VERSION?iu(ee.SDK_VERSION,this.J):null),this.dispatchEvent(new MN(this.J))},e.Ga=function(){return Ss(this.J)},e.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function o$(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=Fn(this.P.url);u=hi({protocol:u.c,host:u.a,port:u.g,options:hi({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Le(this).options.apiKey,authDomain:Le(this).options.authDomain,appName:Le(this).name,currentUser:fe(this)&&fe(this).w()}};function u_(o){return o.Oa||Ge(new N("auth-domain-config-required"))}function s$(o){var u=Le(o).options.authDomain,f=Le(o).options.apiKey;u&&xs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=lN(u,f,Le(o).name,o.P),M0(o.b,o),fe(o)&&Dc(fe(o)),o.m){Dc(o.m);var p=o.m;p.wa(o.la()),G0(p,o),p=o.m,xc(p,o.J),Y0(p,o),p=o.m,cu(p.a,o.P),Q0(p,o),o.m=null}return o.b}}))}e.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?x(this.ic,this):null},e.ic=function(o,u,f,p){var m=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return Ws(m,d0(m.a,_))})},e.Xc=function(o){if(!xs())return Ge(new N("operation-not-supported-in-this-environment"));var u=this,f=By(o.providerId),p=Ds(),m=null;(!fc()||Iy())&&Le(this).options.authDomain&&o.isOAuthProvider&&(m=Nc(Le(this).options.authDomain,Le(this).options.apiKey,Le(this).name,"signInViaPopup",o,null,p,ee.SDK_VERSION||null,null,null,this.T(),this.P));var _=dC(m,f&&f.ua,f&&f.ta);return f=u_(this).then(function(T){return oN(T,_,"signInViaPopup",o,p,!!m,u.T())}).then(function(){return new ye(function(T,k){u.na("signInViaPopup",null,new N("cancelled-popup-request"),u.g),u.f=T,u.C=k,u.g=p,u.c=aN(u.b,u,"signInViaPopup",_,p)})}).then(function(T){return _&&Os(_),T?hi(T):null}).o(function(T){throw _&&Os(_),T}),at(this,f)},e.Yc=function(o){if(!xs())return Ge(new N("operation-not-supported-in-this-environment"));var u=this,f=u_(this).then(function(){return r$(u.i)}).then(function(){return sN(u.b,"signInViaRedirect",o,void 0,u.T())});return at(this,f)};function FN(o){if(!xs())return Ge(new N("operation-not-supported-in-this-environment"));var u=u_(o).then(function(){return o.b.qa()}).then(function(f){return f?hi(f):null});return at(o,u)}e.qa=function(){var o=this;return FN(this).then(function(u){return o.b&&Yd(o.b.b),u}).o(function(u){throw o.b&&Yd(o.b.b),u})},e.dd=function(o){if(!o)return Ge(new N("null-user"));if(this.S!=o.tenantId)return Ge(new N("tenant-id-mismatch"));var u=this,f={};f.apiKey=Le(this).options.apiKey,f.authDomain=Le(this).options.authDomain,f.appName=Le(this).name;var p=ZB(o,f,u.D,u.Ga());return at(this,this.h.then(function(){if(Le(u).options.apiKey!=o.l)return p.reload()}).then(function(){return fe(u)&&o.uid==fe(u).uid?(Zd(fe(u),o),u.da(o)):(gu(u,p),Dc(p),u.da(p))}).then(function(){Mc(u)}))};function a$(o,u){var f={};return f.apiKey=Le(o).options.apiKey,f.authDomain=Le(o).options.authDomain,f.appName=Le(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return JB(f,u,o.D,o.Ga())}).then(function(p){return fe(o)&&p.uid==fe(o).uid?(Zd(fe(o),p),o.da(p)):(gu(o,p),Dc(p),o.da(p))}).then(function(){Mc(o)})}function gu(o,u){fe(o)&&(GB(fe(o),o.Ba),Zn(fe(o),"tokenChanged",o.ya),Zn(fe(o),"userDeleted",o.za),Zn(fe(o),"userInvalidated",o.Aa),J0(fe(o))),u&&(u.S.push(o.Ba),gr(u,"tokenChanged",o.ya),gr(u,"userDeleted",o.za),gr(u,"userInvalidated",o.Aa),0<o.u&&EN(u)),X(o,"currentUser",u),u&&(u.wa(o.la()),G0(u,o),xc(u,o.J),Y0(u,o),cu(u.a,o.P),Q0(u,o))}e.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&Yd(o.b.b),fe(o)?(gu(o,null),ON(o.i).then(function(){Mc(o)})):ne()});return at(this,u)};function u$(o){var u=t$(o.D,Le(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),RN(o.D)});return at(o,u)}function l$(o){var u=Le(o).options.authDomain,f=u$(o).then(function(){return xN(o.i,u,o.P)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return PN(o.i,p).then(function(){return p})}).o(function(m){return m.code=="auth/network-request-failed"?p:ON(o.i)})):null}).then(function(p){gu(o,p||null)});return at(o,f)}function c$(o){return o.$.then(function(){return FN(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(vi("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return xN(this.i,Le(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=fe(o)&&u){f=fe(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return Zd(fe(o),u),fe(o).I();(fe(o)||u)&&(gu(o,u),u&&(Dc(u),u.ha=o.D),o.b&&M0(o.b,o),Mc(o))}})},e.da=function(o){return PN(this.i,o)},e.mc=function(){Mc(this),this.da(fe(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Ws(o,u){var f=null,p=null;return at(o,u.then(function(m){return f=Ky(m),p=jC(m),a$(o,m)},function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=mN(m.w(),o,x(o.kc,o))),_||m}).then(function(){return hi({user:fe(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ws(u,ne(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(fe(u))})},e.Ac=function(o){var u=this;f$(this,function(){o.next(fe(u))})},e.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(fe(p)):typeof o.next=="function"&&o.next(fe(p))}),this.hb(o,u,f)},e.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof o=="function"?o(fe(p)):typeof o.next=="function"&&o.next(fe(p))}),this.bc(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return fe(u)?fe(u).I(o).then(function(p){return{accessToken:p}}):null});return at(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ws(u,_e(u.a,WV,{token:o}))}).then(function(f){var p=f.user;return _o(p,"isAnonymous",!1),u.da(p),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ws(f,_e(f.a,Ik,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ws(f,_e(f.a,TV,{email:o,password:u}))})},e.$a=function(o){var u=this;return this.h.then(function(){return Ws(u,o.ka(u.a))})},e.Sc=function(o){return Ny("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},e.zb=function(){var o=this;return this.h.then(function(){var u=fe(o);if(u&&u.isAnonymous){var f=hi({providerId:null,isNewUser:!1});return hi({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ws(o,o.a.zb()).then(function(p){var m=p.user;return _o(m,"isAnonymous",!0),o.da(m),p})})};function Le(o){return o.app}function fe(o){return o.currentUser}e.getUid=function(){return fe(this)&&fe(this).uid||null};function tp(o){return fe(o)&&fe(o)._lat||null}function Mc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](tp(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](tp(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&fe(this)&&EN(fe(this))},e.Pc=function(o){var u=this;et(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&fe(this)&&J0(fe(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),at(this,this.h.then(function(){u.l||Li(u.s,o)&&o(tp(u))}))},e.removeAuthTokenListener=function(o){Vr(this.s,function(u){return u==o})};function f$(o,u){o.O.push(u),at(o,o.h.then(function(){!o.l&&Li(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(tp(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(vi("local"),o.a,this.ja)),this.b&&(iN(this.b,this),Yd(this.b.b)),Promise.resolve()};function at(o,u){return o.R.push(u),u.oa(function(){od(o.R,u)}),u}e.hc=function(o){return at(this,dV(this.a,o))},e.Bc=function(o){return!!Hy(o)},e.wb=function(o,u){var f=this;return at(this,ne().then(function(){var p=new Td(u);if(!p.c)throw new N("argument-error",jy+" must be true when sending sign in link to email");return bd(p)}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},e.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},e.nb=function(o,u){return at(this,this.a.nb(o,u).then(function(){}))},e.Ra=function(o){return at(this,this.a.Ra(o).then(function(u){return new Ij(u)}))},e.jb=function(o){return at(this,this.a.jb(o).then(function(){}))},e.vb=function(o,u){var f=this;return at(this,ne().then(function(){return typeof u>"u"||Cs(u)?{}:bd(new Td(u))}).then(function(p){return f.a.vb(o,p)}).then(function(){}))},e.Wc=function(o,u){return at(this,V0(this,o,u,x(this.$a,this)))},e.Vc=function(o,u){var f=this;return at(this,ne().then(function(){var p=u||cc(),m=XC(o,p);if(p=Hy(p),!p)throw new N("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new N("tenant-id-mismatch");return f.$a(m)}))};function Fc(){}Fc.prototype.render=function(){},Fc.prototype.reset=function(){},Fc.prototype.getResponse=function(){},Fc.prototype.execute=function(){};function yu(){this.a={},this.b=1e12}var l_=null;yu.prototype.render=function(o,u){return this.a[this.b.toString()]=new np(o,u),this.b++},yu.prototype.reset=function(o){var u=c_(this,o);o=UN(o),u&&o&&(u.delete(),delete this.a[o])},yu.prototype.getResponse=function(o){return(o=c_(this,o))?o.getResponse():null},yu.prototype.execute=function(o){(o=c_(this,o))&&o.execute()};function c_(o,u){return(u=UN(u))&&o.a[u]||null}function UN(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function np(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=rc(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():gr(this.f,"click",this.i)}np.prototype.getResponse=function(){return f_(this),this.b},np.prototype.execute=function(){f_(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=yj();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},np.prototype.delete=function(){f_(this),this.g=!0,clearTimeout(this.a),this.a=null,Zn(this.f,"click",this.i)};function f_(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function h_(){}X(h_,"FACTOR_ID","phone");function d_(){}d_.prototype.g=function(){return l_||(l_=new yu),ne(l_)},d_.prototype.c=function(){};var p_=null;function v_(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var h$=new li(sd,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),d$=new mo(3e4,6e4);v_.prototype.g=function(o){var u=this;return new ye(function(f,p){var m=setTimeout(function(){p(new N("network-request-failed"))},d$.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var T=c.grecaptcha.render;c.grecaptcha.render=function(k,L){return k=T(k,L),u.b++,k},clearTimeout(m),f(c.grecaptcha)}else clearTimeout(m),p(new N("internal-error"));delete c[u.a]};var _=Jg(h$,{onload:u.a,hl:o||""});ne(s0(_)).o(function(){clearTimeout(m),p(new N("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),f(c.grecaptcha)})},v_.prototype.c=function(){this.b--};var m_=null;function g_(o,u,f,p,m,_,T){if(X(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,T?(p_||(p_=new d_),T=p_):(m_||(m_=new v_),T=m_),this.m=T,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[BN])throw new N("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[p$]==="invisible",!c.document)throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!rc(u)||!this.i&&rc(u).hasChildNodes())throw new N("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new zr(o,_||null,m||null),this.u=p||function(){return null};var k=this;this.l=[];var L=this.a[jN];this.a[jN]=function(ae){if($N(k,ae),typeof L=="function")L(ae);else if(typeof L=="string"){var Pe=Qe(L,c);typeof Pe=="function"&&Pe(ae)}};var U=this.a[VN];this.a[VN]=function(){if($N(k,null),typeof U=="function")U();else if(typeof U=="string"){var ae=Qe(U,c);typeof ae=="function"&&ae()}}}var jN="callback",VN="expired-callback",BN="sitekey",p$="size";function $N(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function v$(o,u){Vr(o.l,function(f){return f==u})}function y_(o,u){return o.h.push(u),u.oa(function(){od(o.h,u)}),u}e=g_.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=y_(this,ne().then(function(){if(wd()&&!$r())return _d();throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,_e(o.s,MV,{})}).then(function(u){o.a[BN]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){rp(this);var o=this;return y_(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=rc(u);u=B3("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){rp(this);var o=this;return y_(this,this.render().then(function(u){return new ye(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var m=function(_){_&&(v$(o,m),f(_))};o.l.push(m),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){rp(this),this.c!==null&&this.g.reset(this.c)};function rp(o){if(o.D)throw new N("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){rp(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=rc(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function __(o,u,f){var p=!1;try{this.b=f||ee.app()}catch{throw new N("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new N("invalid-api-key");var m=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=ee.SDK_VERSION?iu(ee.SDK_VERSION,_):null,g_.call(this,f,o,u,function(){try{var T=m.b.auth().la()}catch{T=null}return T},_,mn(Ze),p)}M(__,g_);function qN(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var m=0,_=!1,T=0;T<u.length;T++)if(u[T].optional)_=!0;else{if(_)throw new N("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(_=u.length,f.length<m||_<f.length)p="Expected "+(m==_?m==1?"1 argument":m+" arguments":m+"-"+_+" arguments")+" but got "+f.length+".";else{for(m=0;m<f.length;m++)if(_=u[m].optional&&f[m]===void 0,!u[m].M(f[m])&&!_){if(u=u[m],0>m||m>=zN.length)throw new N("internal-error","Argument validator received an unsupported number of arguments.");f=zN[m],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new N("argument-error",o+" failed: "+p)}var zN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Y(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function w_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function yt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:S}}function _u(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function mi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function m$(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function g$(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Hr)}}}function y$(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof ee.app.App)}}}function wo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function WN(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function wu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function E_(o,u){return S(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function HN(o){return S(o)&&typeof o.uid=="string"}function ip(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function ht(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(m){return o.M(m)||u.M(m)}}}function tt(o,u){for(var f in u){var p=u[f].name;o[p]=GN(p,o[f],u[f].j)}}function KN(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:V(function(m){return this[m]},f),set:V(function(m,_,T,k){qN(m,[T],[k],!0),this[_]=k},p,f,u[f].kb),enumerable:!0})}}function dt(o,u,f,p){o[u]=GN(u,f,p)}function GN(o,u,f){function p(){var T=Array.prototype.slice.call(arguments);return qN(m,f,T),u.apply(this,T)}if(!f)return u;var m=_$(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function _$(o){return o=o.split("."),o[o.length-1]}tt(Hr.prototype,{jb:{name:"applyActionCode",j:[Y("code")]},Ra:{name:"checkActionCode",j:[Y("code")]},nb:{name:"confirmPasswordReset",j:[Y("code"),Y("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Y("email"),Y("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Y("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Y("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ht(yt(),_u(),"nextOrObserver"),_u("opt_error",!0),_u("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ht(yt(),_u(),"nextOrObserver"),_u("opt_error",!0),_u("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Y("email"),ht(yt("opt_actionCodeSettings",!0),mi(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Y("email"),yt("actionCodeSettings")]},xb:{name:"setPersistence",j:[Y("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[wo()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[wo()]},Tc:{name:"signInWithCustomToken",j:[Y("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Y("email"),Y("password")]},Vc:{name:"signInWithEmailLink",j:[Y("email"),Y("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Y("phoneNumber"),ip()]},Xc:{name:"signInWithPopup",j:[wu()]},Yc:{name:"signInWithRedirect",j:[wu()]},dd:{name:"updateCurrentUser",j:[ht(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof tr)}}}(),mi(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Y(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Y("url"),yt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Y("code")]}}),KN(Hr.prototype,{lc:{name:"languageCode",kb:ht(Y(),mi(),"languageCode")},ti:{name:"tenantId",kb:ht(Y(),mi(),"tenantId")}}),Hr.Persistence=hu,Hr.Persistence.LOCAL="local",Hr.Persistence.SESSION="session",Hr.Persistence.NONE="none",tt(tr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[w_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[w_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[wo()]},qb:{name:"linkWithCredential",j:[wo()]},Dc:{name:"linkWithPhoneNumber",j:[Y("phoneNumber"),ip()]},Ec:{name:"linkWithPopup",j:[wu()]},Fc:{name:"linkWithRedirect",j:[wu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[wo()]},tb:{name:"reauthenticateWithCredential",j:[wo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Y("phoneNumber"),ip()]},Nc:{name:"reauthenticateWithPopup",j:[wu()]},Oc:{name:"reauthenticateWithRedirect",j:[wu()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[ht(yt("opt_actionCodeSettings",!0),mi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Y(null,!0)]},cd:{name:"unlink",j:[Y("provider")]},Bb:{name:"updateEmail",j:[Y("email")]},Cb:{name:"updatePassword",j:[Y("password")]},ed:{name:"updatePhoneNumber",j:[wo("phone")]},Db:{name:"updateProfile",j:[yt("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Y("email"),ht(yt("opt_actionCodeSettings",!0),mi(null,!0),"opt_actionCodeSettings",!0)]}}),tt(yu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tt(Fc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tt(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),KN(dN.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:w_("appVerificationDisabledForTesting")}}),tt(j0.prototype,{confirm:{name:"confirm",j:[Y("verificationCode")]}}),dt(au,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[$j,qj,zj,Bj],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[ht(Y(),yt(),"json")]),dt(_r,"credential",function(o,u){return new go(o,u)},[Y("email"),Y("password")]),tt(go.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),tt(Fs.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[yt("customOAuthParameters")]}}),dt(Fs,"credential",KC,[ht(Y(),yt(),"token")]),dt(_r,"credentialWithLink",XC,[Y("email"),Y("emailLink")]),tt(Us.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[yt("customOAuthParameters")]}}),dt(Us,"credential",GC,[ht(Y(),yt(),"token")]),tt(js.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[yt("customOAuthParameters")]}}),dt(js,"credential",QC,[ht(Y(),ht(yt(),mi()),"idToken"),ht(Y(),mi(),"accessToken",!0)]),tt(lu.prototype,{Ka:{name:"setCustomParameters",j:[yt("customOAuthParameters")]}}),dt(lu,"credential",YC,[ht(Y(),yt(),"token"),Y("secret",!0)]),tt(er.prototype,{Ca:{name:"addScope",j:[Y("scope")]},credential:{name:"credential",j:[ht(Y(),ht(yt(),mi()),"optionsOrIdToken"),ht(Y(),mi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[yt("customOAuthParameters")]}}),tt(Fi.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),tt(Ls.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),dt(Ui,"credential",JC,[Y("verificationId"),Y("verificationCode")]),tt(Ui.prototype,{fb:{name:"verifyPhoneNumber",j:[ht(Y(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?E_(f.session,gc)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?E_(f.session,Nd)&&HN(f.multiFactorHint):f.session&&f.multiFactorUid?E_(f.session,Nd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),ip()]}}),tt(yo.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),tt(N.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),tt(_c.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),tt(Yy.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),tt($0.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),tt(B0.prototype,{Rc:{name:"resolveSignIn",j:[WN()]}}),tt(z0.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[WN(),Y("displayName",!0)]},bd:{name:"unenroll",j:[ht({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:HN},Y(),"multiFactorInfoIdentifier")]}}),tt(__.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),dt(Uy,"parseLink",AC,[Y("link")]),dt(h_,"assertion",function(o){return new yN(o)},[wo("phone")]),function(){if(typeof ee<"u"&&ee.INTERNAL&&ee.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ed,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Fy,VERIFY_AND_CHANGE_EMAIL:vc,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Hr,AuthCredential:au,Error:N};dt(o,"EmailAuthProvider",_r,[]),dt(o,"FacebookAuthProvider",Fs,[]),dt(o,"GithubAuthProvider",Us,[]),dt(o,"GoogleAuthProvider",js,[]),dt(o,"TwitterAuthProvider",lu,[]),dt(o,"OAuthProvider",er,[Y("providerId")]),dt(o,"SAMLAuthProvider",HC,[Y("providerId")]),dt(o,"PhoneAuthProvider",Ui,[g$()]),dt(o,"RecaptchaVerifier",__,[ht(Y(),m$(),"recaptchaContainer"),yt("recaptchaParameters",!0),y$()]),dt(o,"ActionCodeURL",Uy,[]),dt(o,"PhoneMultiFactorGenerator",h_,[]),ee.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Hr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),ee.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:x(u.getUid,u),getToken:x(u.nc,u),addAuthTokenListener:x(u.cc,u),removeAuthTokenListener:x(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ee.registerVersion("@firebase/auth","0.16.5"),ee.INTERNAL.extendNamespace({User:tr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var e5="@firebase/database",t5="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V2="";function B2(e){V2=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n5=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Nt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Jf(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r5=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return fr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $2=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new n5(t)}}catch{}return new r5},ra=$2("localStorage"),FE=$2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qu=new Ul("@firebase/database"),q2=function(){var e=1;return function(){return e++}}(),z2=function(e){var t=EW(e),n=new gW;n.update(t);var r=n.digest();return Yf.encodeByteArray(r)},Nh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Nh.apply(null,i):typeof i=="object"?n+=Nt(i):n+=i,n+=" "}return n},fa=null,gR=!0,W2=function(e,t){q(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Qu.logLevel=me.VERBOSE,fa=Qu.log.bind(Qu),t&&FE.set("logging_enabled",!0)):typeof e=="function"?fa=e:(fa=null,FE.remove("logging_enabled"))},Ut=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(gR===!0&&(gR=!1,fa===null&&FE.get("logging_enabled")===!0&&W2(!0)),fa){var n=Nh.apply(null,e);fa(n)}},Ah=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Ut.apply(void 0,ge([e],Gt(t)))}},UE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Nh.apply(void 0,ge([],Gt(e)));Qu.error(n)},Ni=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Nh.apply(void 0,ge([],Gt(e)));throw Qu.error(n),new Error(n)},Xt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Nh.apply(void 0,ge([],Gt(e)));Qu.warn(n)},i5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gm=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},o5=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ro="[MIN_NAME]",Ai="[MAX_NAME]",ja=function(e,t){if(e===t)return 0;if(e===ro||t===Ai)return-1;if(t===ro||e===Ai)return 1;var n=Fv(e),r=Fv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},s5=function(e,t){return e===t?0:e<t?-1:1},Hc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Nt(t))},$T=function(e){if(typeof e!="object"||e===null)return Nt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Nt(t[i]),r+=":",r+=$T(e[t[i]]);return r+="}",r},H2=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ot(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var K2=function(e){q(!Gm(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(c=0;c<64;c+=8){var g=parseInt(d.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},a5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},u5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function l5(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var c5=new RegExp("^-?(0*)\\d{1,10}$"),G2=-2147483648,qT=2147483647,Fv=function(e){if(c5.test(e)){var t=Number(e);if(t>=G2&&t<=qT)return t}return null},jl=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Xt("Exception was thrown by user callback.",n),t},Math.floor(0))}},f5=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wf=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h5=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){return this.appCheck?this.appCheck.getToken(t):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){Xt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d5=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.get().then(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)}))},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xt(t)},e}(),Ef=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zT="5",Q2="v",Y2="s",X2="r",J2="f",Z2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eL="ls",p5="p",jE="ac",tL="websocket",nL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WT=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ra.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ra.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function v5(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function rL(e,t,n){q(typeof t=="string","typeof type must == string"),q(typeof n=="object","typeof params must == object");var r;if(t===tL)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===nL)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);v5(e)&&(n.ns=e.namespace);var i=[];return Ot(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m5=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),fr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return A2(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nw={},rw={};function HT(e){var t=e.toString();return nw[t]||(nw[t]=new m5),nw[t]}function g5(e,t){var n=e.toString();return rw[n]||(rw[n]=t()),rw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y5=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(d){l[d]&&jl(function(){r.onMessage_(l[d])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yR="start",_5="close",w5="pLPCommand",E5="pRTLPCB",iL="id",oL="pw",sL="ser",T5="cb",b5="seg",I5="ts",S5="d",C5="dframe",aL=1870,uL=30,k5=aL-uL,N5=25e3,A5=3e4,KT=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ah(t),this.stats_=HT(n),this.urlFn=function(h){return c.appCheckToken&&(h[jE]=c.appCheckToken),rL(n,nL,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new y5(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(A5)),o5(function(){if(!r.isClosed_){r.scriptTagHolder=new R5(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Gt(a,5),h=c[0],d=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===yR)r.id=d,r.password=v;else if(h===_5)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Gt(a,2),h=c[0],d=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[yR]="t",i[sL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[T5]=r.scriptTagHolder.uniqueCallbackIdentifier),i[Q2]=zT,r.transportSessionId&&(i[Y2]=r.transportSessionId),r.lastSessionId&&(i[eL]=r.lastSessionId),r.applicationId&&(i[p5]=r.applicationId),r.appCheckToken&&(i[jE]=r.appCheckToken),typeof location<"u"&&location.hostname&&Z2.test(location.hostname)&&(i[X2]=J2);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!a5()&&!u5()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Nt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=iW(n),i=H2(r,k5),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[C5]="t",r[iL]=t,r[oL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Nt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),R5=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=q2(),window[w5+this.uniqueCallbackIdentifier]=t,window[E5+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Ut("frame writing exception"),c.stack&&Ut(c.stack),Ut(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Ut("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[iL]=this.myID,t[oL]=this.myPW,t[sL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+uL+r.length<=aL){var a=this.pendingSegs.shift();r=r+"&"+b5+i+"="+a.seg+"&"+I5+i+"="+a.ts+"&"+S5+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(N5)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Ut("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P5=16384,O5=45e3,Uv=null;typeof MozWebSocket<"u"?Uv=MozWebSocket:typeof WebSocket<"u"&&(Uv=WebSocket);var Js=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ah(this.connId),this.stats_=HT(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[Q2]=zT,typeof location<"u"&&location.hostname&&Z2.test(location.hostname)&&(s[X2]=J2),n&&(s[Y2]=n),r&&(s[eL]=r),i&&(s[jE]=i),rL(t,tL,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ra.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!O2()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Uv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Uv!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return ra.isInMemoryStorage||ra.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){ra.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Jf(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(q(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Nt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=H2(n,P5);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(O5))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x5=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[KT,Js]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Js&&Js.isAvailable(),s=i&&!Js.previouslyFailed();if(t.webSocketOnly&&(i||Xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Js];else{var a=this.transports_=[];try{for(var l=$t(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D5=6e4,L5=5e3,M5=10*1024,F5=100*1024,iw="t",_R="d",U5="s",wR="r",j5="e",ER="o",TR="a",bR="n",IR="p",V5="h",lL=function(){function e(t,n,r,i,s,a,l,c,h,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ah("c:"+this.id+":"),this.transportManager_=new x5(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=wf(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>F5?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>M5?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(iw in t){var n=t[iw];n===TR?this.upgradeIfSecondaryHealthy_():n===wR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ER&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Hc("t",t),r=Hc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:IR,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:TR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Hc("t",t),r=Hc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Hc(iw,t);if(_R in t){var r=t[_R];if(n===V5)this.onHandshake_(r);else if(n===bR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===U5?this.onConnectionShutdown_(r):n===wR?this.onReset_(r):n===j5?UE("Server Error: "+r):n===ER?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):UE("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zT!==r&&Xt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),wf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(D5))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(L5))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:IR,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ra.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cL=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=ge([],Gt(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){q(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SR=function(e){K(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!MT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return q(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(fL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CR=32,kR=768,Re=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Ne(){return new Re("")}function de(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function is(e){return e.pieces_.length-e.pieceNum_}function Fe(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Re(e.pieces_,t)}function GT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function B5(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Zf(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function hL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Re(t,0)}function Je(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Re)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Re(n,0)}function pe(e){return e.pieceNum_>=e.pieces_.length}function Cn(e,t){var n=de(e),r=de(t);if(n===null)return t;if(n===r)return Cn(Fe(e),Fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function $5(e,t){for(var n=Zf(e,0),r=Zf(t,0),i=0;i<n.length&&i<r.length;i++){var s=ja(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function QT(e,t){if(is(e)!==is(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Sr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(is(e)>is(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var q5=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Zf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Km(this.parts_[r]);dL(this)}return e}();function z5(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Km(t),dL(e)}function W5(e){var t=e.parts_.pop();e.byteLength_-=Km(t),e.parts_.length>0&&(e.byteLength_-=1)}function dL(e){if(e.byteLength_>kR)throw new Error(e.errorPrefix_+"has a key path longer than "+kR+" bytes ("+e.byteLength_+").");if(e.parts_.length>CR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+CR+") or object contains a cycle "+Ys(e))}function Ys(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H5=function(e){K(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return q(n==="visible","Unknown event type: "+n),[this.visible_]},t}(fL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kc=1e3,K5=60*5*1e3,G5=3*1e3,NR=30*1e3,Q5=1.3,Y5=3e4,X5="server_kill",AR=3,ha=function(e){K(t,e);function t(n,r,i,s,a,l,c,h){var d=e.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=s,d.onServerInfoUpdate_=a,d.authTokenProvider_=l,d.appCheckTokenProvider_=c,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=Ah("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Kc,d.maxReconnectDelay_=K5,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!O2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return d.scheduleConnect_(0),H5.getInstance().on("visible",d.onVisible_,d),n.host.indexOf("fblocal")===-1&&SR.getInstance().on("online",d.onOnline_,d),d}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Nt(a)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this,i=new Bn,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},G5),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var d=h.d,v=h.s;t.warnOnListenWarnings_(d,i);var g=r.listens.get(s)&&r.listens.get(s).get(a);g===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&fr(n,"w")){var i=Sa(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Xt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||vW(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=NR)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=pW(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Nt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):UE("Unrecognized action received from server: "+Nt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Kc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>Y5&&(this.reconnectDelay_=Kc),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Q5)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,d,v,g,y,w,b,S=this;return A(this,function(E){switch(E.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},d=function(I){q(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(I)},this.realtime_={close:h,sendRequest:d},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return g=Gt.apply(void 0,[E.sent(),2]),y=g[0],w=g[1],l?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new lL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(I){Xt(I+" ("+S.repoInfo_.toString()+")"),S.interrupt(X5)},a)),[3,4];case 3:return b=E.sent(),this.log_("Failed to get token: "+b),l||(this.repoInfo_.nodeAdmin&&Xt(b),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Ut("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Ut("Resuming connection for reason: "+n),delete this.interruptReasons_[n],LE(this.interruptReasons_)&&(this.reconnectDelay_=Kc,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return $T(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Re(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Ut("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=AR&&(this.reconnectDelay_=NR,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Ut("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=AR&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=$t(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,$t(c.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+V2.replace(/\./g,"-")]=1,MT()?n["framework.cordova"]=1:P2()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=SR.getInstance().currentlyOnline();return LE(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(cL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qm=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Te(ro,t),i=new Te(ro,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Te.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ip,pL=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ip},set:function(n){Ip=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return ja(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Ml("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return new Te(Ai,Ip)},t.prototype.makePost=function(n,r){return q(typeof n=="string","KeyIndex indexValue must always be a string."),new Te(n,Ip)},t.prototype.toString=function(){return".key"},t}(Qm),Ii=new pL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sp=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Jr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Ki.EMPTY_NODE,this.right=s??Ki.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ki.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ki.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),J5=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Jr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ki=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Jr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Sp(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Sp(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Sp(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Sp(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new J5,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(e,t){return ja(e.name,t.name)}function YT(e,t){return ja(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VE;function eH(e){VE=e}var vL=function(e){return typeof e=="number"?"number:"+K2(e):"string:"+e},mL=function(e){if(e.isLeafNode()){var t=e.val();q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&fr(t,".sv"),"Priority must be a string or number.")}else q(e===VE||e.isEmpty(),"priority of unexpected type.");q(e===VE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RR,ul=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mL(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return RR},set:function(t){RR=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return pe(t)?this:de(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=de(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||is(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+vL(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=K2(this.value_):t+=this.value_,this.lazyHash_=z2(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return q(i>=0,"Unknown leaf type: "+n),q(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gL,yL;function tH(e){gL=e}function nH(e){yL=e}var rH=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?ja(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return new Te(Ai,new ul("[PRIORITY-POST]",yL))},t.prototype.makePost=function(n,r){var i=gL(n);return new Te(r,new ul("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Qm),Be=new rH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iH=Math.log(2),oH=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/iH,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),jv=function(e,t,n,r){e.sort(t);var i=function(c,h){var d=h-c,v,g;if(d===0)return null;if(d===1)return v=e[c],g=n?n(v):v,new Jr(g,v.node,Jr.BLACK,null,null);var y=parseInt(d/2,10)+c,w=i(c,y),b=i(y+1,h);return v=e[y],g=n?n(v):v,new Jr(g,v.node,Jr.BLACK,w,b)},s=function(c){for(var h=null,d=null,v=e.length,g=function(E,I){var C=v-E,P=v;v-=E;var O=i(C+1,P),x=e[C],V=n?n(x):x;y(new Jr(V,x.node,I,null,O))},y=function(E){h?(h.left=E,h=E):(d=E,h=E)},w=0;w<c.count;++w){var b=c.nextBitIsOne(),S=Math.pow(2,c.count-(w+1));b?g(S,Jr.BLACK):(g(S,Jr.BLACK),g(S,Jr.RED))}return d},a=new oH(e.length),l=s(a);return new Ki(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ow,Tu={},Vv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return q(Tu&&Be,"ChildrenNode.ts has not been loaded"),ow=ow||new e({".priority":Tu},{".priority":Be}),ow},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=Sa(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ki?n:null},e.prototype.hasIndex=function(t){return fr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){q(t!==Ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Te.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=jv(r,t.getCompare()):l=Tu;var c=t.toString(),h=Ue({},this.indexSet_);h[c]=t;var d=Ue({},this.indexes_);return d[c]=l,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Lv(this.indexes_,function(s,a){var l=Sa(r.indexSet_,a);if(q(l,"Missing index implementation for "+a),s===Tu)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(Te.Wrap),d=h.getNext();d;)d.name!==t.name&&c.push(d),d=h.getNext();return c.push(t),jv(c,l.getCompare())}else return Tu;else{var v=n.get(t.name),g=s;return v&&(g=g.remove(new Te(t.name,v))),g.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Lv(this.indexes_,function(i){if(i===Tu)return i;var s=n.get(t.name);return s?i.remove(new Te(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gc,le=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mL(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Gc||(Gc=new e(new Ki(YT),null,Vv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Gc},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Gc:n},e.prototype.getChild=function(t){var n=de(t);return n===null?this:this.getImmediateChild(n).getChild(Fe(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(q(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Te(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Gc:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=de(t);if(r===null)return n;q(de(t)!==".priority"||is(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Fe(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Be,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+vL(this.getPriority().val())+":"),this.forEachChild(Be,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":z2(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Te(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Te(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Te(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Te.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Te.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Rh?-1:0},e.prototype.withIndex=function(t){if(t===Ii||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===Ii||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Be),i=n.getIterator(Be),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===Ii?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),sH=function(e){K(t,e);function t(){return e.call(this,new Ki(YT),le.EMPTY_NODE,Vv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return le.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(le),Rh=new sH;Object.defineProperties(Te,{MIN:{value:new Te(ro,le.EMPTY_NODE)},MAX:{value:new Te(Ai,Rh)}});pL.__EMPTY_NODE=le.EMPTY_NODE;ul.__childrenNodeConstructor=le;eH(Rh);nH(Rh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aH=!0;function it(e,t){if(t===void 0&&(t=null),e===null)return le.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new ul(n,it(t))}if(!(e instanceof Array)&&aH){var r=[],i=!1,s=e;if(Ot(s,function(h,d){if(h.substring(0,1)!=="."){var v=it(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Te(h,v)))}}),r.length===0)return le.EMPTY_NODE;var a=jv(r,Z5,function(h){return h.name},YT);if(i){var l=jv(r,Be.getCompare());return new le(a,it(t),new Vv({".priority":l},{".priority":Be}))}else return new le(a,it(t),Vv.Default)}else{var c=le.EMPTY_NODE;return Ot(e,function(h,d){if(fr(e,h)&&h.substring(0,1)!=="."){var v=it(d);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(it(t))}}tH(it);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XT=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,q(!pe(n)&&de(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?ja(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=it(n),s=le.EMPTY_NODE.updateChild(this.indexPath_,i);return new Te(r,s)},t.prototype.maxPost=function(){var n=le.EMPTY_NODE.updateChild(this.indexPath_,Rh);return new Te(Ai,n)},t.prototype.toString=function(){return Zf(this.indexPath_,0).join("/")},t}(Qm);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uH=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?ja(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return Te.MAX},t.prototype.makePost=function(n,r){var i=it(n);return new Te(r,i)},t.prototype.toString=function(){return".value"},t}(Qm),JT=new uH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ll="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",BE="-",_L="z",wL=786,lH=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=ll.charAt(n%64),n=Math.floor(n/64);q(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=ll.charAt(t[i]);return q(a.length===20,"nextPushId: Length should be 20."),a}}(),PR=function(e){if(e===""+qT)return BE;var t=Fv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<wL)return n.push(BE),n.join("");for(var i=n.length-1;i>=0&&n[i]===_L;)i--;if(i===-1)return Ai;var s=n[i],a=ll.charAt(ll.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},OR=function(e){if(e===""+G2)return ro;var t=Fv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===BE?n.length===1?""+qT:(delete n[n.length-1],n.join("")):(n[n.length-1]=ll.charAt(ll.indexOf(n[n.length-1])-1),n.join("")+_L.repeat(wL-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(e){return{type:"value",snapshotNode:e}}function cl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function eh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function th(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function cH(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZT=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){q(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(eh(n,l)):q(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(cl(n,r)):a.trackChildChange(th(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Be,function(i,s){n.hasChild(i)||r.trackChildChange(eh(i,s))}),n.isLeafNode()||n.forEachChild(Be,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(th(i,s,a))}else r.trackChildChange(cl(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?le.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TL=function(){function e(t){this.indexedFilter_=new ZT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Te(n,r))||(r=le.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=le.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(le.EMPTY_NODE);var s=this;return n.forEachChild(Be,function(a,l){s.matches(new Te(a,l))||(i=i.updateImmediateChild(a,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fH=function(){function e(t){this.rangedFilter_=new TL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Te(n,r))||(r=le.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=le.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(le.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();v=function(S,E){return g(E,S)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&v(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&v(l,d)<=0;c?a++:i=i.updateImmediateChild(l.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(I,C){return l(C,I)}}else a=this.index_.getCompare();var c=t;q(c.numChildren()===this.limit_,"");var h=new Te(n,r),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var g=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),b=v&&!r.isEmpty()&&w>=0;if(b)return s!=null&&s.trackChildChange(th(n,r,g)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(eh(n,g));var S=c.updateImmediateChild(n,le.EMPTY_NODE),E=y!=null&&this.rangedFilter_.matches(y);return E?(s!=null&&s.trackChildChange(cl(y.name,y.node)),S.updateImmediateChild(y.name,y.node)):S}else return r.isEmpty()?t:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(eh(d.name,d.node)),s.trackChildChange(cl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(d.name,le.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bL=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ro},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ai},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Be},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function hH(e){return e.loadsAllData()?new ZT(e.getIndex()):e.hasLimit()?new fH(e):new TL(e)}function dH(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function pH(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function $E(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function vH(e,t,n){var r;if(e.index_===Ii)typeof t=="string"&&(t=PR(t)),r=$E(e,t,n);else{var i=void 0;n==null?i=Ai:i=PR(n),r=$E(e,t,i)}return r.startAfterSet_=!0,r}function qE(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function mH(e,t,n){var r,i;return e.index_===Ii?(typeof t=="string"&&(t=OR(t)),i=qE(e,t,n)):(n==null?r=ro:r=OR(n),i=qE(e,t,r)),i.endBeforeSet_=!0,i}function Ym(e,t){var n=e.copy();return n.index_=t,n}function xR(e){var t={};if(e.isDefault())return t;var n;return e.index_===Be?n="$priority":e.index_===JT?n="$value":e.index_===Ii?n="$key":(q(e.index_ instanceof XT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Nt(n),e.startSet_&&(t.startAt=Nt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Nt(e.indexStartName_))),e.endSet_&&(t.endAt=Nt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Nt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function DR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Be&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gH=function(e){K(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=Ah("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var d=xR(n._queryParams);this.restRequest_(l+".json",d,function(v,g){var y=g;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(l,y,!1,i),Sa(a.listens_,c)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=xR(n._queryParams),s=n._path.toString(),a=new Bn;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=Gt(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var d=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+mW(r);s.log_("Sending REST request for "+d);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+d+" received. status:",v.status,"response:",v.responseText);var g=null;if(v.status>=200&&v.status<300){try{g=Jf(v.responseText)}catch{Xt("Failed to parse JSON response for "+d+": "+v.responseText)}i(null,g)}else v.status!==401&&v.status!==404&&Xt("Got unsuccessful REST response for "+d+" Status: "+v.status),i(v.status);i=null}},v.open("GET",d,!0),v.send()})},t}(cL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yH=function(){function e(){this.rootNode_=le.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(){return{value:null,children:new Map}}function Vl(e,t,n){if(pe(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=de(t);e.children.has(r)||e.children.set(r,Bv());var i=e.children.get(r);t=Fe(t),Vl(i,t,n)}}function zE(e,t){if(pe(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Be,function(s,a){Vl(e,new Re(s),a)}),zE(e,t)}else if(e.children.size>0){var r=de(t);if(t=Fe(t),e.children.has(r)){var i=zE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function WE(e,t,n){e.value!==null?n(t,e.value):_H(e,function(r,i){var s=new Re(t.toString()+"/"+r);WE(i,s,n)})}function _H(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IL=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=Ue({},t);return this.last_&&Ot(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LR=10*1e3,wH=30*1e3,EH=5*60*1e3,TH=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new IL(t);var r=LR+(wH-LR)*Math.random();wf(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Ot(n,function(s,a){a>0&&fr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),wf(this.reportStats_.bind(this),Math.floor(Math.random()*2*EH))},e}();function bH(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ti||(ti={}));function eb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nb(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IH=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ti.ACK_USER_WRITE,this.source=eb()}return e.prototype.operationForChild=function(t){if(pe(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Re(t));return new e(Ne(),n,this.revert)}else return q(de(this.path)===t,"operationForChild called for unrelated child."),new e(Fe(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SL=function(){function e(t,n){this.source=t,this.path=n,this.type=ti.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return pe(this.path)?new e(this.source,Ne()):new e(this.source,Fe(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xm=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ti.OVERWRITE}return e.prototype.operationForChild=function(t){return pe(this.path)?new e(this.source,Ne(),this.snap.getImmediateChild(t)):new e(this.source,Fe(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rb=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ti.MERGE}return e.prototype.operationForChild=function(t){if(pe(this.path)){var n=this.children.subtree(new Re(t));return n.isEmpty()?null:n.value?new Xm(this.source,Ne(),n.value):new e(this.source,Ne(),n)}else return q(de(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Fe(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var os=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(pe(t))return this.isFullyInitialized()&&!this.filtered_;var n=de(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SH=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function CH(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(cH(a.childName,a.snapshotNode))}),Qc(e,i,"child_removed",t,r,n),Qc(e,i,"child_added",t,r,n),Qc(e,i,"child_moved",s,r,n),Qc(e,i,"child_changed",t,r,n),Qc(e,i,"value",t,r,n),i}function Qc(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return NH(e,l,c)}),a.forEach(function(l){var c=kH(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function kH(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function NH(e,t,n){if(t.childName==null||n.childName==null)throw Ml("Should only compare child_ events.");var r=new Te(t.childName,t.snapshotNode),i=new Te(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(e,t){return{eventCache:e,serverCache:t}}function Tf(e,t,n,r){return Jm(new os(t,n,r),e.serverCache)}function CL(e,t,n,r){return Jm(e.eventCache,new os(t,n,r))}function $v(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ca(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sw,AH=function(){return sw||(sw=new Ki(s5)),sw},hr=function(){function e(t,n){n===void 0&&(n=AH()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Ot(t,function(r,i){n=n.set(new Re(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Ne(),value:this.value};if(pe(t))return null;var r=de(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(Fe(t),n);if(s!=null){var a=Je(new Re(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(pe(t))return this;var n=de(t),r=this.children.get(n);return r!==null?r.subtree(Fe(t)):new e(null)},e.prototype.set=function(t,n){if(pe(t))return new e(n,this.children);var r=de(t),i=this.children.get(r)||new e(null),s=i.set(Fe(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(pe(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=de(t),r=this.children.get(n);if(r){var i=r.remove(Fe(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(pe(t))return this.value;var n=de(t),r=this.children.get(n);return r?r.get(Fe(t)):null},e.prototype.setTree=function(t,n){if(pe(t))return n;var r=de(t),i=this.children.get(r)||new e(null),s=i.setTree(Fe(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Ne(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Je(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Ne(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(pe(t))return null;var s=de(t),a=this.children.get(s);return a?a.findOnPath_(Fe(t),Je(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Ne(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(pe(t))return this;this.value&&r(n,this.value);var i=de(t),s=this.children.get(i);return s?s.foreachOnPath_(Fe(t),Je(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Ne(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Je(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yi=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new hr(null))},e}();function bf(e,t,n){if(pe(t))return new Yi(new hr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=Cn(i,t);return s=s.updateChild(a,n),new Yi(e.writeTree_.set(i,s))}else{var l=new hr(n),c=e.writeTree_.setTree(t,l);return new Yi(c)}}function HE(e,t,n){var r=e;return Ot(n,function(i,s){r=bf(r,Je(t,i),s)}),r}function MR(e,t){if(pe(t))return Yi.empty();var n=e.writeTree_.setTree(t,new hr(null));return new Yi(n)}function KE(e,t){return Va(e,t)!=null}function Va(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Cn(n.path,t)):null}function FR(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Be,function(r,i){t.push(new Te(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Te(r,i.value))}),t}function Xo(e,t){if(pe(t))return e;var n=Va(e,t);return n!=null?new Yi(new hr(n)):new Yi(e.writeTree_.subtree(t))}function GE(e){return e.writeTree_.isEmpty()}function fl(e,t){return kL(Ne(),e.writeTree_,t)}function kL(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(q(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=kL(Je(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Je(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(e,t){return PL(t,e)}function RH(e,t,n,r,i){q(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=bf(e.visibleWrites,t,n)),e.lastWriteId=r}function PH(e,t,n,r){q(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=HE(e.visibleWrites,t,n),e.lastWriteId=r}function OH(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function xH(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});q(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&DH(l,r.path)?i=!1:Sr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return LH(e),!0;if(r.snap)e.visibleWrites=MR(e.visibleWrites,r.path);else{var c=r.children;Ot(c,function(h){e.visibleWrites=MR(e.visibleWrites,Je(r.path,h))})}return!0}else return!1}function DH(e,t){if(e.snap)return Sr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Sr(Je(e.path,n),t))return!0;return!1}function LH(e){e.visibleWrites=NL(e.allWrites,MH,Ne()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function MH(e){return e.visible}function NL(e,t,n){for(var r=Yi.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)Sr(n,a)?(l=Cn(n,a),r=bf(r,l,s.snap)):Sr(a,n)&&(l=Cn(a,n),r=bf(r,Ne(),s.snap.getChild(l)));else if(s.children){if(Sr(n,a))l=Cn(n,a),r=HE(r,l,s.children);else if(Sr(a,n))if(l=Cn(a,n),pe(l))r=HE(r,Ne(),s.children);else{var c=Sa(s.children,de(l));if(c){var h=c.getChild(Fe(l));r=bf(r,Ne(),h)}}}else throw Ml("WriteRecord should have .snap or .children")}}return r}function AL(e,t,n,r,i){if(!r&&!i){var s=Va(e.visibleWrites,t);if(s!=null)return s;var a=Xo(e.visibleWrites,t);if(GE(a))return n;if(n==null&&!KE(a,Ne()))return null;var l=n||le.EMPTY_NODE;return fl(a,l)}else{var c=Xo(e.visibleWrites,t);if(!i&&GE(c))return n;if(!i&&n==null&&!KE(c,Ne()))return null;var h=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(Sr(g.path,t)||Sr(t,g.path))},d=NL(e.allWrites,h,t),l=n||le.EMPTY_NODE;return fl(d,l)}}function FH(e,t,n){var r=le.EMPTY_NODE,i=Va(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Be,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=Xo(e.visibleWrites,t);return n.forEachChild(Be,function(l,c){var h=fl(Xo(s,new Re(l)),c);r=r.updateImmediateChild(l,h)}),FR(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=Xo(e.visibleWrites,t);return FR(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function UH(e,t,n,r,i){q(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Je(t,n);if(KE(e.visibleWrites,s))return null;var a=Xo(e.visibleWrites,s);return GE(a)?i.getChild(n):fl(a,i.getChild(n))}function jH(e,t,n,r){var i=Je(t,n),s=Va(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Xo(e.visibleWrites,i);return fl(a,r.getNode().getImmediateChild(n))}else return null}function VH(e,t){return Va(e.visibleWrites,t)}function BH(e,t,n,r,i,s,a){var l,c=Xo(e.visibleWrites,t),h=Va(c,Ne());if(h!=null)l=h;else if(n!=null)l=fl(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var d=[],v=a.getCompare(),g=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=g.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=g.getNext();return d}else return[]}function $H(){return{visibleWrites:Yi.empty(),allWrites:[],lastWriteId:-1}}function qv(e,t,n,r){return AL(e.writeTree,e.treePath,t,n,r)}function ib(e,t){return FH(e.writeTree,e.treePath,t)}function UR(e,t,n,r){return UH(e.writeTree,e.treePath,t,n,r)}function zv(e,t){return VH(e.writeTree,Je(e.treePath,t))}function qH(e,t,n,r,i,s){return BH(e.writeTree,e.treePath,t,n,r,i,s)}function ob(e,t,n){return jH(e.writeTree,e.treePath,t,n)}function RL(e,t){return PL(Je(e.treePath,t),e.writeTree)}function PL(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zH=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,th(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,eh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,cl(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,th(r,t.snapshotNode,i.oldSnap));else throw Ml("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WH=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),OL=new WH,sb=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new os(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ob(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ca(this.viewCache_),s=qH(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(e){return{filter:e}}function KH(e,t){q(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),q(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function GH(e,t,n,r,i){var s=new zH,a,l;if(n.type===ti.OVERWRITE){var c=n;c.source.fromUser?a=QE(e,t,c.path,c.snap,r,i,s):(q(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!pe(c.path),a=Wv(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===ti.MERGE){var h=n;h.source.fromUser?a=YH(e,t,h.path,h.children,r,i,s):(q(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=YE(e,t,h.path,h.children,r,i,l,s))}else if(n.type===ti.ACK_USER_WRITE){var d=n;d.revert?a=ZH(e,t,d.path,r,i,s):a=XH(e,t,d.path,d.affectedTree,r,i,s)}else if(n.type===ti.LISTEN_COMPLETE)a=JH(e,t,n.path,r,s);else throw Ml("Unknown operation type: "+n.type);var v=s.getChanges();return QH(t,a,v),{viewCache:a,changes:v}}function QH(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=$v(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(EL($v(t)))}}function xL(e,t,n,r,i,s){var a=t.eventCache;if(zv(r,n)!=null)return t;var l=void 0,c=void 0;if(pe(n))if(q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=Ca(t),d=h instanceof le?h:le.EMPTY_NODE,v=ib(r,d);l=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var g=qv(r,Ca(t));l=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{var y=de(n);if(y===".priority"){q(is(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=t.serverCache.getNode();var b=UR(r,n,w,c);b!=null?l=e.filter.updatePriority(w,b):l=a.getNode()}else{var S=Fe(n),E=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var I=UR(r,n,a.getNode(),c);I!=null?E=a.getNode().getImmediateChild(y).updateChild(S,I):E=a.getNode().getImmediateChild(y)}else E=ob(r,y,t.serverCache);E!=null?l=e.filter.updateChild(a.getNode(),y,E,S,i,s):l=a.getNode()}}return Tf(t,l,a.isFullyInitialized()||pe(n),e.filter.filtersNodes())}function Wv(e,t,n,r,i,s,a,l){var c=t.serverCache,h,d=a?e.filter:e.filter.getIndexedFilter();if(pe(n))h=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=d.updateFullNode(c.getNode(),v,null)}else{var g=de(n);if(!c.isCompleteForPath(n)&&is(n)>1)return t;var y=Fe(n),w=c.getNode().getImmediateChild(g),b=w.updateChild(y,r);g===".priority"?h=d.updatePriority(c.getNode(),b):h=d.updateChild(c.getNode(),g,b,y,OL,null)}var S=CL(t,h,c.isFullyInitialized()||pe(n),d.filtersNodes()),E=new sb(i,S,s);return xL(e,S,n,i,E,l)}function QE(e,t,n,r,i,s,a){var l=t.eventCache,c,h,d=new sb(i,t,s);if(pe(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=Tf(t,h,!0,e.filter.filtersNodes());else{var v=de(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=Tf(t,h,l.isFullyInitialized(),l.isFiltered());else{var g=Fe(n),y=l.getNode().getImmediateChild(v),w=void 0;if(pe(g))w=r;else{var b=d.getCompleteChild(v);b!=null?GT(g)===".priority"&&b.getChild(hL(g)).isEmpty()?w=b:w=b.updateChild(g,r):w=le.EMPTY_NODE}if(y.equals(w))c=t;else{var S=e.filter.updateChild(l.getNode(),v,w,g,d,a);c=Tf(t,S,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function jR(e,t){return e.eventCache.isCompleteForChild(t)}function YH(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var d=Je(n,c);jR(t,de(d))&&(l=QE(e,l,d,h,i,s,a))}),r.foreach(function(c,h){var d=Je(n,c);jR(t,de(d))||(l=QE(e,l,d,h,i,s,a))}),l}function VR(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function YE(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;pe(n)?h=r:h=new hr(null).setTree(n,r);var d=t.serverCache.getNode();return h.children.inorderTraversal(function(v,g){if(d.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),w=VR(e,y,g);c=Wv(e,c,new Re(v),w,i,s,a,l)}}),h.children.inorderTraversal(function(v,g){var y=!t.serverCache.isCompleteForChild(v)&&g.value===void 0;if(!d.hasChild(v)&&!y){var w=t.serverCache.getNode().getImmediateChild(v),b=VR(e,w,g);c=Wv(e,c,new Re(v),b,i,s,a,l)}}),c}function XH(e,t,n,r,i,s,a){if(zv(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(pe(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Wv(e,t,n,c.getNode().getChild(n),i,s,l,a);if(pe(n)){var h=new hr(null);return c.getNode().forEachChild(Ii,function(v,g){h=h.set(new Re(v),g)}),YE(e,t,n,h,i,s,l,a)}else return t}else{var d=new hr(null);return r.foreach(function(v,g){var y=Je(n,v);c.isCompleteForPath(y)&&(d=d.set(v,c.getNode().getChild(y)))}),YE(e,t,n,d,i,s,l,a)}}function JH(e,t,n,r,i){var s=t.serverCache,a=CL(t,s.getNode(),s.isFullyInitialized()||pe(n),s.isFiltered());return xL(e,a,n,r,OL,i)}function ZH(e,t,n,r,i,s){var a;if(zv(r,n)!=null)return t;var l=new sb(r,t,i),c=t.eventCache.getNode(),h=void 0;if(pe(n)||de(n)===".priority"){var d=void 0;if(t.serverCache.isFullyInitialized())d=qv(r,Ca(t));else{var v=t.serverCache.getNode();q(v instanceof le,"serverChildren would be complete if leaf node"),d=ib(r,v)}d=d,h=e.filter.updateFullNode(c,d,s)}else{var g=de(n),y=ob(r,g,t.serverCache);y==null&&t.serverCache.isCompleteForChild(g)&&(y=c.getImmediateChild(g)),y!=null?h=e.filter.updateChild(c,g,y,Fe(n),l,s):t.eventCache.getNode().hasChild(g)?h=e.filter.updateChild(c,g,le.EMPTY_NODE,Fe(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=qv(r,Ca(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||zv(r,Ne())!=null,Tf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eK=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new ZT(r.getIndex()),s=hH(r);this.processor_=HH(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(le.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(le.EMPTY_NODE,l.getNode(),null),d=new os(c,a.isFullyInitialized(),i.filtersNodes()),v=new os(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Jm(v,d),this.eventGenerator_=new SH(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function tK(e){return e.viewCache_.serverCache.getNode()}function nK(e){return $v(e.viewCache_)}function rK(e,t){var n=Ca(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!pe(t)&&!n.getImmediateChild(de(t)).isEmpty())?n.getChild(t):null}function BR(e){return e.eventRegistrations_.length===0}function iK(e,t){e.eventRegistrations_.push(t)}function $R(e,t,n){var r=[];if(n){q(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function qR(e,t,n,r){t.type===ti.MERGE&&t.source.queryId!==null&&(q(Ca(e.viewCache_),"We should always have a full cache before handling merges"),q($v(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=GH(e.processor_,i,t,n,r);return KH(e.processor_,s.viewCache),q(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,DL(e,s.changes,s.viewCache.eventCache.getNode(),null)}function oK(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Be,function(s,a){r.push(cl(s,a))})}return n.isFullyInitialized()&&r.push(EL(n.getNode())),DL(e,r,n.getNode(),t)}function DL(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return CH(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hv,LL=function(){function e(){this.views=new Map}return e}();function sK(e){q(!Hv,"__referenceConstructor has already been defined"),Hv=e}function aK(){return q(Hv,"Reference.ts has not been loaded"),Hv}function uK(e){return e.views.size===0}function ab(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return q(l!=null,"SyncTree gave us an op for an invalid query."),qR(l,t,n,r)}else{var c=[];try{for(var h=$t(e.views.values()),d=h.next();!d.done;d=h.next()){var l=d.value;c=c.concat(qR(l,t,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function ML(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=qv(n,i?r:null),c=!1;l?c=!0:r instanceof le?(l=ib(n,r),c=!1):(l=le.EMPTY_NODE,c=!1);var h=Jm(new os(l,c,!1),new os(r,i,!1));return new eK(t,h)}return a}function lK(e,t,n,r,i,s){var a=ML(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),iK(a,n),oK(a,n)}function cK(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=ss(e);if(a==="default")try{for(var d=$t(e.views.entries()),v=d.next();!v.done;v=d.next()){var g=Gt(v.value,2),y=g[0],w=g[1];c=c.concat($R(w,n,r)),BR(w)&&(e.views.delete(y),w.query._queryParams.loadsAllData()||l.push(w.query))}}catch(b){i={error:b}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(c=c.concat($R(w,n,r)),BR(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||l.push(w.query)))}return h&&!ss(e)&&l.push(new(aK())(t._repo,t._path)),{removed:l,events:c}}function FL(e){var t,n,r=[];try{for(var i=$t(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Jo(e,t){var n,r,i=null;try{for(var s=$t(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||rK(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function UL(e,t){var n=t._queryParams;if(n.loadsAllData())return eg(e);var r=t._queryIdentifier;return e.views.get(r)}function jL(e,t){return UL(e,t)!=null}function ss(e){return eg(e)!=null}function eg(e){var t,n;try{for(var r=$t(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kv;function fK(e){q(!Kv,"__referenceConstructor has already been defined"),Kv=e}function hK(){return q(Kv,"Reference.ts has not been loaded"),Kv}var dK=1,zR=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new hr(null),this.pendingWriteTree_=$H(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function ub(e,t,n,r,i){return RH(e.pendingWriteTree_,t,n,r,i),i?Bl(e,new Xm(eb(),t,n)):[]}function pK(e,t,n,r){PH(e.pendingWriteTree_,t,n,r);var i=hr.fromObject(n);return Bl(e,new rb(eb(),t,i))}function Vo(e,t,n){n===void 0&&(n=!1);var r=OH(e.pendingWriteTree_,t),i=xH(e.pendingWriteTree_,t);if(i){var s=new hr(null);return r.snap!=null?s=s.set(Ne(),!0):Ot(r.children,function(a){s=s.set(new Re(a),!0)}),Bl(e,new IH(r.path,s,n))}else return[]}function Ph(e,t,n){return Bl(e,new Xm(tb(),t,n))}function vK(e,t,n){var r=hr.fromObject(n);return Bl(e,new rb(tb(),t,r))}function mK(e,t){return Bl(e,new SL(tb(),t))}function gK(e,t,n){var r=lb(e,n);if(r){var i=cb(r),s=i.path,a=i.queryId,l=Cn(s,t),c=new SL(nb(a),l);return fb(e,s,c)}else return[]}function XE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||jL(s,t))){var l=cK(s,t,n,r);uK(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(I){return I._queryParams.loadsAllData()})!==-1,d=e.syncPointTree_.findOnPath(i,function(I,C){return ss(C)});if(h&&!d){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var g=EK(v),y=0;y<g.length;++y){var w=g[y],b=w.query,S=$L(e,w);e.listenProvider_.startListening(If(b),Gv(e,b),S.hashFn,S.onComplete)}}if(!d&&c.length>0&&!r)if(h){var E=null;e.listenProvider_.stopListening(If(t),E)}else c.forEach(function(I){var C=e.queryToTagMap.get(ng(I));e.listenProvider_.stopListening(If(I),C)});TK(e,c)}return a}function yK(e,t,n,r){var i=lb(e,r);if(i!=null){var s=cb(i),a=s.path,l=s.queryId,c=Cn(a,t),h=new Xm(nb(l),c,n);return fb(e,a,h)}else return[]}function _K(e,t,n,r){var i=lb(e,r);if(i){var s=cb(i),a=s.path,l=s.queryId,c=Cn(a,t),h=hr.fromObject(n),d=new rb(nb(l),c,h);return fb(e,a,d)}else return[]}function WR(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(b,S){var E=Cn(b,r);i=i||Jo(S,E),s=s||ss(S)});var a=e.syncPointTree_.get(r);a?(s=s||ss(a),i=i||Jo(a,Ne())):(a=new LL,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=le.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(b,S){var E=Jo(S,Ne());E&&(i=i.updateImmediateChild(b,E))})}var h=jL(a,t);if(!h&&!t._queryParams.loadsAllData()){var d=ng(t);q(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=bK();e.queryToTagMap.set(d,v),e.tagToQueryMap.set(v,d)}var g=Zm(e.pendingWriteTree_,r),y=lK(a,t,n,g,i,l);if(!h&&!s){var w=UL(a,t);y=y.concat(IK(e,t,w))}return y}function tg(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=Cn(a,t),h=Jo(l,c);if(h)return h});return AL(i,t,s,n,r)}function wK(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,d){var v=Cn(h,n);r=r||Jo(d,v)});var i=e.syncPointTree_.get(n);i?r=r||Jo(i,Ne()):(i=new LL,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new os(r,!0,!1):null,l=Zm(e.pendingWriteTree_,t._path),c=ML(i,t,l,s?a.getNode():le.EMPTY_NODE,s);return nK(c)}function Bl(e,t){return VL(t,e.syncPointTree_,null,Zm(e.pendingWriteTree_,Ne()))}function VL(e,t,n,r){if(pe(e.path))return BL(e,t,n,r);var i=t.get(Ne());n==null&&i!=null&&(n=Jo(i,Ne()));var s=[],a=de(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,d=RL(r,a);s=s.concat(VL(l,c,h,d))}return i&&(s=s.concat(ab(i,e,r,n))),s}function BL(e,t,n,r){var i=t.get(Ne());n==null&&i!=null&&(n=Jo(i,Ne()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=RL(r,a),d=e.operationForChild(a);d&&(s=s.concat(BL(d,l,c,h)))}),i&&(s=s.concat(ab(i,e,r,n))),s}function $L(e,t){var n=t.query,r=Gv(e,n);return{hashFn:function(){var i=tK(t)||le.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?gK(e,n._path,r):mK(e,n._path);var s=l5(i,n);return XE(e,n,null,s)}}}function Gv(e,t){var n=ng(t);return e.queryToTagMap.get(n)}function ng(e){return e._path.toString()+"$"+e._queryIdentifier}function lb(e,t){return e.tagToQueryMap.get(t)}function cb(e){var t=e.indexOf("$");return q(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Re(e.substr(0,t))}}function fb(e,t,n){var r=e.syncPointTree_.get(t);q(r,"Missing sync point for query tag that we're tracking");var i=Zm(e.pendingWriteTree_,t);return ab(r,n,i,null)}function EK(e){return e.fold(function(t,n,r){if(n&&ss(n)){var i=eg(n);return[i]}else{var s=[];return n&&(s=FL(n)),Ot(r,function(a,l){s=s.concat(l)}),s}})}function If(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(hK())(e._repo,e._path):e}function TK(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=ng(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function bK(){return dK++}function IK(e,t,n){var r=t._path,i=Gv(e,t),s=$L(e,n),a=e.listenProvider_.startListening(If(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)q(!ss(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(v,g,y){if(!pe(v)&&g&&ss(g))return[eg(g).query];var w=[];return g&&(w=w.concat(FL(g).map(function(b){return b.query}))),Ot(y,function(b,S){w=w.concat(S)}),w}),h=0;h<c.length;++h){var d=c[h];e.listenProvider_.stopListening(If(d),Gv(e,d))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SK=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),CK=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Je(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return tg(this.syncTree_,this.path_)},e}(),kK=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},HR=function(e,t,n){if(!e||typeof e!="object")return e;if(q(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return NK(e[".sv"],t,n);if(typeof e[".sv"]=="object")return AK(e[".sv"],t);q(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},NK=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:q(!1,"Unexpected server value: "+e)}},AK=function(e,t,n){e.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);var i=t.node();if(q(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},qL=function(e,t,n,r){return db(t,new CK(n,e),r)},hb=function(e,t,n){return db(e,new SK(t),n)};function db(e,t,n){var r=e.getPriority().val(),i=HR(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=HR(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new ul(l,it(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new ul(i))),c.forEachChild(Be,function(h,d){var v=db(d,t.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pb=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function rg(e,t){for(var n=t instanceof Re?t:new Re(t),r=e,i=de(n);i!==null;){var s=Sa(r.node.children,i)||{children:{},childCount:0};r=new pb(i,r,s),n=Fe(n),i=de(n)}return r}function Ba(e){return e.node.value}function vb(e,t){e.node.value=t,JE(e)}function zL(e){return e.node.childCount>0}function RK(e){return Ba(e)===void 0&&!zL(e)}function ig(e,t){Ot(e.node.children,function(n,r){t(new pb(n,e,r))})}function WL(e,t,n,r){n&&!r&&t(e),ig(e,function(i){WL(i,t,!0,r)}),n&&r&&t(e)}function PK(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Oh(e){return new Re(e.parent===null?e.name:Oh(e.parent)+"/"+e.name)}function JE(e){e.parent!==null&&OK(e.parent,e.name,e)}function OK(e,t,n){var r=RK(n),i=fr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,JE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,JE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xK=/[\[\].#$\/\u0000-\u001F\u007F]/,DK=/[\[\].#$\u0000-\u001F\u007F]/,aw=10*1024*1024,og=function(e){return typeof e=="string"&&e.length!==0&&!xK.test(e)},HL=function(e){return typeof e=="string"&&e.length!==0&&!DK.test(e)},LK=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),HL(e)},nh=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Gm(e)||e&&typeof e=="object"&&fr(e,".sv")},Ri=function(e,t,n,r){r&&t===void 0||xh(Gn(e,"value"),t,n)},xh=function(e,t,n){var r=n instanceof Re?new q5(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Ys(r));if(typeof t=="function")throw new Error(e+"contains a function "+Ys(r)+" with contents = "+t.toString());if(Gm(t))throw new Error(e+"contains "+t.toString()+" "+Ys(r));if(typeof t=="string"&&t.length>aw/3&&Km(t)>aw)throw new Error(e+"contains a string greater than "+aw+" utf8 bytes "+Ys(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Ot(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!og(a)))throw new Error(e+" contains an invalid key ("+a+") "+Ys(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);z5(r,a),xh(e,l,r),W5(r)}),i&&s)throw new Error(e+' contains ".value" child '+Ys(r)+" in addition to actual children.")}},MK=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Zf(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!og(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort($5);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&Sr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},KL=function(e,t,n,r){if(!(r&&t===void 0)){var i=Gn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];Ot(t,function(a,l){var c=new Re(a);if(xh(i,l,Je(n,c)),GT(c)===".priority"&&!nh(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),MK(i,s)}},mb=function(e,t,n){if(!(n&&t===void 0)){if(Gm(t))throw new Error(Gn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nh(t))throw new Error(Gn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},FK=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Gn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Dh=function(e,t,n,r){if(!(r&&n===void 0)&&!og(n))throw new Error(Gn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},rh=function(e,t,n,r){if(!(r&&n===void 0)&&!HL(n))throw new Error(Gn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UK=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rh(e,t,n,r)},Cr=function(e,t){if(de(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},GL=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!og(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!LK(n))throw new Error(Gn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},jK=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Gn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VK=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function sg(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!QT(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function gb(e,t,n){sg(e,n),QL(e,function(r){return QT(r,t)})}function Lr(e,t,n){sg(e,n),QL(e,function(r){return Sr(r,t)||Sr(t,r)})}function QL(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(BK(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function BK(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();fa&&Ut("event: "+n.toString()),jl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YL="repo_interrupt",$K=25,qK=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bv(),this.transactionQueueTree_=new pb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function zK(e,t,n){if(e.stats_=HT(e.repoInfo_),e.forceRestClient_||f5())e.server_=new gH(e.repoInfo_,function(r,i,s,a){KR(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return GR(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ha(e.repoInfo_,t,function(r,i,s,a){KR(e,r,i,s,a)},function(r){GR(e,r)},function(r){HK(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=g5(e.repoInfo_,function(){return new TH(e.stats_,e.server_)}),e.infoData_=new yH,e.infoSyncTree_=new zR({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Ph(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),yb(e,"connected",!1),e.serverSyncTree_=new zR({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);Lr(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function XL(e){var t=e.infoData_.getNode(new Re(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Lh(e){return kK({timestamp:XL(e)})}function KR(e,t,n,r,i){e.dataUpdateCount++;var s=new Re(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=Lv(n,function(g){return it(g)});a=_K(e.serverSyncTree_,s,l,i)}else{var c=it(n);a=yK(e.serverSyncTree_,s,c,i)}else if(r){var h=Lv(n,function(g){return it(g)});a=vK(e.serverSyncTree_,s,h)}else{var d=it(n);a=Ph(e.serverSyncTree_,s,d)}var v=s;a.length>0&&(v=hl(e,s)),Lr(e.eventQueue_,v,a)}function WK(e,t){e.interceptServerDataCallback_=t}function GR(e,t){yb(e,"connected",t),t===!1&&QK(e)}function HK(e,t){Ot(t,function(n,r){yb(e,n,r)})}function yb(e,t,n){var r=new Re("/.info/"+t),i=it(n);e.infoData_.updateSnapshot(r,i);var s=Ph(e.infoSyncTree_,r,i);Lr(e.eventQueue_,r,s)}function ag(e){return e.nextWriteId_++}function KK(e,t){var n=wK(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=it(r),s=Ph(e.serverSyncTree_,t._path,i);return gb(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return $l(e,"get for query "+Nt(t)+" failed: "+r),Promise.reject(new Error(r))})}function _b(e,t,n,r,i){$l(e,"set",{path:t.toString(),value:n,priority:r});var s=Lh(e),a=it(n,r),l=tg(e.serverSyncTree_,t),c=hb(a,l,s),h=ag(e),d=ub(e.serverSyncTree_,t,c,h,!0);sg(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),function(g,y){var w=g==="ok";w||Xt("set at "+t+" failed: "+g);var b=Vo(e.serverSyncTree_,h,!w);Lr(e.eventQueue_,t,b),as(e,i,g,y)});var v=Eb(e,t);hl(e,v),Lr(e.eventQueue_,v,[])}function GK(e,t,n,r){$l(e,"update",{path:t.toString(),value:n});var i=!0,s=Lh(e),a={};if(Ot(n,function(h,d){i=!1,a[h]=qL(Je(t,h),it(d),e.serverSyncTree_,s)}),i)Ut("update() called with empty data.  Don't do anything."),as(e,r,"ok",void 0);else{var l=ag(e),c=pK(e.serverSyncTree_,t,a,l);sg(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,d){var v=h==="ok";v||Xt("update at "+t+" failed: "+h);var g=Vo(e.serverSyncTree_,l,!v),y=g.length>0?hl(e,t):t;Lr(e.eventQueue_,y,g),as(e,r,h,d)}),Ot(n,function(h){var d=Eb(e,Je(t,h));hl(e,d)}),Lr(e.eventQueue_,t,[])}}function QK(e){$l(e,"onDisconnectEvents");var t=Lh(e),n=Bv();WE(e.onDisconnect_,Ne(),function(i,s){var a=qL(i,s,e.serverSyncTree_,t);Vl(n,i,a)});var r=[];WE(n,Ne(),function(i,s){r=r.concat(Ph(e.serverSyncTree_,i,s));var a=Eb(e,i);hl(e,a)}),e.onDisconnect_=Bv(),Lr(e.eventQueue_,Ne(),r)}function YK(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&zE(e.onDisconnect_,t),as(e,n,r,i)})}function QR(e,t,n,r){var i=it(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&Vl(e.onDisconnect_,t,i),as(e,r,s,a)})}function XK(e,t,n,r,i){var s=it(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&Vl(e.onDisconnect_,t,s),as(e,i,a,l)})}function JK(e,t,n,r){if(LE(n)){Ut("onDisconnect().update() called with empty data.  Don't do anything."),as(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&Ot(n,function(a,l){var c=it(l);Vl(e.onDisconnect_,Je(t,a),c)}),as(e,r,i,s)})}function ZK(e,t,n){var r;de(t._path)===".info"?r=WR(e.infoSyncTree_,t,n):r=WR(e.serverSyncTree_,t,n),gb(e.eventQueue_,t._path,r)}function ZE(e,t,n){var r;de(t._path)===".info"?r=XE(e.infoSyncTree_,t,n):r=XE(e.serverSyncTree_,t,n),gb(e.eventQueue_,t._path,r)}function JL(e){e.persistentConnection_&&e.persistentConnection_.interrupt(YL)}function eG(e){e.persistentConnection_&&e.persistentConnection_.resume(YL)}function tG(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new IL(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Ot(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function nG(e,t){e.stats_.incrementCounter(t),bH(e.statsReporter_,t)}function $l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Ut.apply(void 0,ge([r],Gt(t)))}function as(e,t,n,r){t&&jl(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function rG(e,t,n,r,i,s){$l(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:q2(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=wb(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{xh("transaction failed: Data returned ",c,a.path),a.status=0;var h=rg(e.transactionQueueTree_,t),d=Ba(h)||[];d.push(a),vb(h,d);var v=void 0;if(typeof c=="object"&&c!==null&&fr(c,".priority"))v=Sa(c,".priority"),q(nh(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=tg(e.serverSyncTree_,t)||le.EMPTY_NODE;v=g.getPriority().val()}var y=Lh(e),w=it(c,v),b=hb(w,l,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=b,a.currentWriteId=ag(e);var S=ub(e.serverSyncTree_,t,b,a.currentWriteId,a.applyLocally);Lr(e.eventQueue_,t,S),ug(e,e.transactionQueueTree_)}}function wb(e,t,n){return tg(e.serverSyncTree_,t,n)||le.EMPTY_NODE}function ug(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||lg(e,t),Ba(t)){var n=eM(e,t);q(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&iG(e,Oh(t),n)}else zL(t)&&ig(t,function(i){ug(e,i)})}function iG(e,t,n){for(var r=n.map(function(g){return g.currentWriteId}),i=wb(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];q(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=Cn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var d=s.val(!0),v=t;e.server_.put(v.toString(),d,function(g){$l(e,"transaction put response",{path:v.toString(),status:g});var y=[];if(g==="ok"){for(var w=[],b=function(E){n[E].status=2,y=y.concat(Vo(e.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&w.push(function(){return n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)}),n[E].unwatcher()},S=0;S<n.length;S++)b(S);lg(e,rg(e.transactionQueueTree_,t)),ug(e,e.transactionQueueTree_),Lr(e.eventQueue_,t,y);for(var S=0;S<w.length;S++)jl(w[S])}else{if(g==="datastale")for(var S=0;S<n.length;S++)n[S].status===3?n[S].status=4:n[S].status=0;else{Xt("transaction at "+v.toString()+" failed: "+g);for(var S=0;S<n.length;S++)n[S].status=4,n[S].abortReason=g}hl(e,t)}},a)}function hl(e,t){var n=ZL(e,t),r=Oh(n),i=eM(e,n);return oG(e,i,r),r}function oG(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var d=t[h],v=Cn(n,d.path),g=!1,y;if(q(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,i=i.concat(Vo(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=$K)g=!0,y="maxretry",i=i.concat(Vo(e.serverSyncTree_,d.currentWriteId,!0));else{var w=wb(e,d.path,a);d.currentInputSnapshot=w;var b=t[h].update(w.val());if(b!==void 0){xh("transaction failed: Data returned ",b,d.path);var S=it(b),E=typeof b=="object"&&b!=null&&fr(b,".priority");E||(S=S.updatePriority(w.getPriority()));var I=d.currentWriteId,C=Lh(e),P=hb(S,w,C);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=P,d.currentWriteId=ag(e),a.splice(a.indexOf(I),1),i=i.concat(ub(e.serverSyncTree_,d.path,P,d.currentWriteId,d.applyLocally)),i=i.concat(Vo(e.serverSyncTree_,I,!0))}else g=!0,y="nodata",i=i.concat(Vo(e.serverSyncTree_,d.currentWriteId,!0))}Lr(e.eventQueue_,n,i),i=[],g&&(t[h].status=2,function(O){setTimeout(O,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);lg(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)jl(r[c]);ug(e,e.transactionQueueTree_)}}function ZL(e,t){var n,r=e.transactionQueueTree_;for(n=de(t);n!==null&&Ba(r)===void 0;)r=rg(r,n),t=Fe(t),n=de(t);return r}function eM(e,t){var n=[];return tM(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function tM(e,t,n){var r=Ba(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);ig(t,function(s){tM(e,s,n)})}function lg(e,t){var n=Ba(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,vb(t,n.length>0?n:void 0)}ig(t,function(s){lg(e,s)})}function Eb(e,t){var n=Oh(ZL(e,t)),r=rg(e.transactionQueueTree_,t);return PK(r,function(i){uw(e,i)}),uw(e,r),WL(r,function(i){uw(e,i)}),n}function uw(e,t){var n=Ba(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(q(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(q(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Vo(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?vb(t,void 0):n.length=s+1,Lr(e.eventQueue_,Oh(t),i);for(var a=0;a<r.length;a++)jl(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function aG(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=$t(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Xt("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var e1=function(e,t){var n=uG(e),r=n.namespace;n.domain==="firebase.com"&&Ni(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ni("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||i5();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new WT(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Re(n.pathString)}},uG=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var d=e.indexOf("/");d===-1&&(d=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(d,v)),d<v&&(i=sG(e.substring(d,v)));var g=aG(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in g&&(s=g.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nM=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Nt(this.snapshot.exportVal())},e}(),rM=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iM=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lG=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Bn;return YK(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){Cr("OnDisconnect.remove",this._path);var t=new Bn;return QR(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){Cr("OnDisconnect.set",this._path),Ri("OnDisconnect.set",t,this._path,!1);var n=new Bn;return QR(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){Cr("OnDisconnect.setWithPriority",this._path),Ri("OnDisconnect.setWithPriority",t,this._path,!1),mb("OnDisconnect.setWithPriority",n,!1);var r=new Bn;return XK(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){Cr("OnDisconnect.update",this._path),KL("OnDisconnect.update",t,this._path,!1);var n=new Bn;return JK(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return pe(this._path)?null:GT(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Oi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=DR(this._queryParams),n=$T(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return DR(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=he(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=QT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+B5(this._path)},e}();function cg(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function gs(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ii){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==ro)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==Ai)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Be){if(t!=null&&!nh(t)||n!=null&&!nh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(q(e.getIndex()instanceof XT||e.getIndex()===JT,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function fg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Oi=function(e){K(t,e);function t(n,r){return e.call(this,n,r,new bL,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=hL(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Ur),hg=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Re(t),r=ka(this.ref,t);return new e(this._node.getChild(n),r,Be)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,ka(n.ref,i),Be))})},e.prototype.hasChild=function(t){var n=new Re(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function oM(e,t){return e=he(e),e._checkNotDeleted("ref"),t!==void 0?ka(e._root,t):e._root}function YR(e,t){e=he(e),e._checkNotDeleted("refFromURL");var n=e1(t,e._repo.repoInfo_.nodeAdmin);GL("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Ni("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),oM(e,n.path.toString())}function ka(e,t){return e=he(e),de(e._path)===null?UK("child","path",t,!1):rh("child","path",t,!1),new Oi(e._repo,Je(e._path,t))}function cG(e,t){e=he(e),Cr("push",e._path),Ri("push",t,e._path,!0);var n=XL(e._repo),r=lH(n),i=ka(e,r),s=ka(e,r),a;return t!=null?a=Tb(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function fG(e){return Cr("remove",e._path),Tb(e,null)}function Tb(e,t){e=he(e),Cr("set",e._path),Ri("set",t,e._path,!1);var n=new Bn;return _b(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function hG(e,t){e=he(e),Cr("setPriority",e._path),mb("setPriority",t,!1);var n=new Bn;return _b(e._repo,Je(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function dG(e,t,n){if(Cr("setWithPriority",e._path),Ri("setWithPriority",t,e._path,!1),mb("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Bn;return _b(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function pG(e,t){KL("update",t,e._path,!1);var n=new Bn;return GK(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function vG(e){return e=he(e),KK(e._repo,e).then(function(t){return new hg(t,new Oi(e._repo,e._path),e._queryParams.getIndex())})}var sM=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new nM("value",this,new hg(t.snapshotNode,new Oi(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new rM(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),aM=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new rM(this,t,n):null},e.prototype.createEvent=function(t,n){q(t.childName!=null,"Child events should have a childName.");var r=ka(new Oi(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new nM(t.type,this,new hg(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Mh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(d,v){a(d,v),ZE(e._repo,e,h)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new iM(n,s||void 0),h=t==="value"?new sM(c):new aM(t,c);return ZK(e._repo,e,h),function(){return ZE(e._repo,e,h)}}function t1(e,t,n,r){return Mh(e,"value",t,n,r)}function XR(e,t,n,r){return Mh(e,"child_added",t,n,r)}function JR(e,t,n,r){return Mh(e,"child_changed",t,n,r)}function ZR(e,t,n,r){return Mh(e,"child_moved",t,n,r)}function eP(e,t,n,r){return Mh(e,"child_removed",t,n,r)}function tP(e,t,n){var r=null,i=n?new iM(n):null;t==="value"?r=new sM(i):t&&(r=new aM(t,i)),ZE(e._repo,e,r)}var ai=function(){function e(){}return e}(),uM=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ri("endAt",this._value,n._path,!0);var r=qE(n._queryParams,this._value,this._key);if(fg(r),gs(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ur(n._repo,n._path,r,n._orderByCalled)},t}(ai);function mG(e,t){return Dh("endAt","key",t,!0),new uM(e,t)}var gG=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ri("endBefore",this._value,n._path,!1);var r=mH(n._queryParams,this._value,this._key);if(fg(r),gs(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ur(n._repo,n._path,r,n._orderByCalled)},t}(ai);function yG(e,t){return Dh("endBefore","key",t,!0),new gG(e,t)}var lM=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ri("startAt",this._value,n._path,!0);var r=$E(n._queryParams,this._value,this._key);if(fg(r),gs(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ur(n._repo,n._path,r,n._orderByCalled)},t}(ai);function _G(e,t){return e===void 0&&(e=null),Dh("startAt","key",t,!0),new lM(e,t)}var wG=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ri("startAfter",this._value,n._path,!1);var r=vH(n._queryParams,this._value,this._key);if(fg(r),gs(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ur(n._repo,n._path,r,n._orderByCalled)},t}(ai);function EG(e,t){return Dh("startAfter","key",t,!0),new wG(e,t)}var TG=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ur(n._repo,n._path,dH(n._queryParams,this._limit),n._orderByCalled)},t}(ai);function bG(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new TG(e)}var IG=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ur(n._repo,n._path,pH(n._queryParams,this._limit),n._orderByCalled)},t}(ai);function SG(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new IG(e)}var CG=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){cg(n,"orderByChild");var r=new Re(this._path);if(pe(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new XT(r),s=Ym(n._queryParams,i);return gs(s),new Ur(n._repo,n._path,s,!0)},t}(ai);function kG(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rh("orderByChild","path",e,!1),new CG(e)}var NG=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){cg(n,"orderByKey");var r=Ym(n._queryParams,Ii);return gs(r),new Ur(n._repo,n._path,r,!0)},t}(ai);function AG(){return new NG}var RG=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){cg(n,"orderByPriority");var r=Ym(n._queryParams,Be);return gs(r),new Ur(n._repo,n._path,r,!0)},t}(ai);function PG(){return new RG}var OG=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){cg(n,"orderByValue");var r=Ym(n._queryParams,JT);return gs(r),new Ur(n._repo,n._path,r,!0)},t}(ai);function xG(){return new OG}var DG=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(Ri("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new uM(this._value,this._key)._apply(new lM(this._value,this._key)._apply(n))},t}(ai);function LG(e,t){return Dh("equalTo","key",t,!0),new DG(e,t)}function Gr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=he(e);try{for(var a=$t(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}sK(Oi);fK(Oi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MG="FIREBASE_DATABASE_EMULATOR_HOST",n1={},cM=!1;function FG(e,t,n,r){e.repoInfo_=new WT(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function fM(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Ni("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=e1(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=process.env[MG]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=e1(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var d=i&&c?new Ef(Ef.OWNER):new d5(e.name,e.options,t);GL("Invalid Firebase Database URL",a),pe(a.path)||Ni("Database URL must point to the root of a Firebase Database (not including a child path).");var v=jG(l,e,d,new h5(e.name,n));return new BG(v,e)}function UG(e,t){var n=n1[t];(!n||n[e.key]!==e)&&Ni("Database "+t+"("+e.repoInfo_+") has already been deleted."),JL(e),delete n[e.key]}function jG(e,t,n,r){var i=n1[t.name];i||(i={},n1[t.name]=i);var s=i[e.toURLString()];return s&&Ni("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new qK(e,cM,n,r),i[e.toURLString()]=s,s}function VG(e){cM=e}var BG=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(zK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Oi(this._repo,Ne())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),UG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Ni("Cannot call "+t+" on a deleted database.")},e}();function $G(e,t,n,r){r===void 0&&(r={}),e=he(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ni("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ni('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ef(Ef.OWNER);else if(r.mockUserToken){var a=R2(r.mockUserToken,e.app.options.projectId);s=new Ef(a)}FG(i,t,n,s)}function qG(e){e=he(e),e._checkNotDeleted("goOffline"),JL(e._repo)}function zG(e){e=he(e),e._checkNotDeleted("goOnline"),eG(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WG={".sv":"timestamp"};function HG(){return WG}function KG(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GG=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function QG(e,t,n){var r;if(e=he(e),Cr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Bn,a=function(c,h,d){var v=null;c?s.reject(c):(v=new hg(d,new Oi(e._repo,e._path),Be),s.resolve(new GG(h,v)))},l=t1(e,function(){});return rG(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YG=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){oe("OnDisconnect.cancel",0,1,arguments.length),Ft("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){oe("OnDisconnect.remove",0,1,arguments.length),Ft("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){oe("OnDisconnect.set",1,2,arguments.length),Ft("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){oe("OnDisconnect.setWithPriority",2,3,arguments.length),Ft("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(oe("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Xt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ft("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XG=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return oe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sf=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return oe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return oe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return oe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return oe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return oe("DataSnapshot.child",0,1,arguments.length),t=String(t),rh("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return oe("DataSnapshot.hasChild",1,1,arguments.length),rh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return oe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return oe("DataSnapshot.forEach",1,1,arguments.length),Ft("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return oe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return oe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return oe("DataSnapshot.ref",0,0,arguments.length),new ia(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),hM=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;oe("Query.on",2,4,arguments.length),Ft("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(d,v){n.call(l.context,new Sf(s.database,d),v)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return t1(this._delegate,c,h),n;case"child_added":return XR(this._delegate,c,h),n;case"child_removed":return eP(this._delegate,c,h),n;case"child_changed":return JR(this._delegate,c,h),n;case"child_moved":return ZR(this._delegate,c,h),n;default:throw new Error(Gn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(oe("Query.off",0,3,arguments.length),FK("Query.off",t,!0),Ft("Query.off","callback",n,!0),vR("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,tP(this._delegate,t,i)}else tP(this._delegate,t)},e.prototype.get=function(){var t=this;return vG(this._delegate).then(function(n){return new Sf(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;oe("Query.once",1,4,arguments.length),Ft("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.on",r,i),l=new Bn,c=function(d,v){var g=new Sf(s.database,d);n&&n.call(a.context,g,v),l.resolve(g)};c.userCallback=n,c.context=a.context;var h=function(d){a.cancel&&a.cancel.call(a.context,d),l.reject(d)};switch(t){case"value":t1(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":XR(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":eP(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":JR(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":ZR(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(Gn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return oe("Query.limitToFirst",1,1,arguments.length),new e(this.database,Gr(this._delegate,bG(t)))},e.prototype.limitToLast=function(t){return oe("Query.limitToLast",1,1,arguments.length),new e(this.database,Gr(this._delegate,SG(t)))},e.prototype.orderByChild=function(t){return oe("Query.orderByChild",1,1,arguments.length),new e(this.database,Gr(this._delegate,kG(t)))},e.prototype.orderByKey=function(){return oe("Query.orderByKey",0,0,arguments.length),new e(this.database,Gr(this._delegate,AG()))},e.prototype.orderByPriority=function(){return oe("Query.orderByPriority",0,0,arguments.length),new e(this.database,Gr(this._delegate,PG()))},e.prototype.orderByValue=function(){return oe("Query.orderByValue",0,0,arguments.length),new e(this.database,Gr(this._delegate,xG()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),oe("Query.startAt",0,2,arguments.length),new e(this.database,Gr(this._delegate,_G(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),oe("Query.startAfter",0,2,arguments.length),new e(this.database,Gr(this._delegate,EG(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),oe("Query.endAt",0,2,arguments.length),new e(this.database,Gr(this._delegate,mG(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),oe("Query.endBefore",0,2,arguments.length),new e(this.database,Gr(this._delegate,yG(t,n)))},e.prototype.equalTo=function(t,n){return oe("Query.equalTo",1,2,arguments.length),new e(this.database,Gr(this._delegate,LG(t,n)))},e.prototype.toString=function(){return oe("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return oe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(oe("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ft(t,"cancel",i.cancel,!0),i.context=r,vR(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Gn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new ia(this.database,new Oi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),ia=function(e){K(t,e);function t(n,r){var i=e.call(this,n,new Ur(r._repo,r._path,new bL,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return oe("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return oe("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,ka(this._delegate,n))},t.prototype.getParent=function(){oe("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return oe("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){oe("Reference.set",1,2,arguments.length),Ft("Reference.set","onComplete",r,!0);var i=Tb(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(oe("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Xt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Cr("Reference.update",this._delegate._path),Ft("Reference.update","onComplete",r,!0);var a=pG(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){oe("Reference.setWithPriority",2,3,arguments.length),Ft("Reference.setWithPriority","onComplete",i,!0);var s=dG(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){oe("Reference.remove",0,1,arguments.length),Ft("Reference.remove","onComplete",n,!0);var r=fG(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;oe("Reference.transaction",1,3,arguments.length),Ft("Reference.transaction","transactionUpdate",n,!1),Ft("Reference.transaction","onComplete",r,!0),jK("Reference.transaction","applyLocally",i,!0);var a=QG(this._delegate,n,{applyLocally:i}).then(function(l){return new XG(l.committed,new Sf(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){oe("Reference.setPriority",1,2,arguments.length),Ft("Reference.setPriority","onComplete",r,!0);var i=hG(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;oe("Reference.push",0,2,arguments.length),Ft("Reference.push","onComplete",r,!0);var s=cG(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return Cr("Reference.onDisconnect",this._delegate._path),new YG(new lG(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(hM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),$G(this._delegate,t,n,r)},e.prototype.ref=function(t){if(oe("database.ref",0,1,arguments.length),t instanceof ia){var n=YR(this._delegate,t.toString());return new ia(this,n)}else{var n=oM(this._delegate,t);return new ia(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";oe(n,1,1,arguments.length);var r=YR(this._delegate,t);return new ia(this,r)},e.prototype.goOffline=function(){return oe("database.goOffline",0,0,arguments.length),qG(this._delegate)},e.prototype.goOnline=function(){return oe("database.goOnline",0,0,arguments.length),zG(this._delegate)},e.ServerValue={TIMESTAMP:HG(),increment:function(t){return KG(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JG=function(){Js.forceDisallow(),KT.forceAllow()},ZG=function(){KT.forceDisallow()},e8=function(){return Js.isAvailable()},t8=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},n8=function(e,t){tG(e._delegate._repo,t)},r8=function(e,t){nG(e._delegate._repo,t)},i8=function(e){return e._delegate._repo.dataUpdateCount},o8=function(e,t){return WK(e._delegate._repo,t)};function s8(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;B2(r);var c=new L2("auth-internal",new M2("database-standalone"));return c.setComponent(new Xn("auth-internal",function(){return i},"PRIVATE")),{instance:new Qv(fM(t,c,void 0,n,l),t),namespace:s}}var a8=Object.freeze({__proto__:null,forceLongPolling:JG,forceWebSockets:ZG,isWebSocketsAvailable:e8,setSecurityDebugCallback:t8,stats:n8,statsIncrementCounter:r8,dataUpdateCount:i8,interceptServerData:o8,initStandalone:s8});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u8=ha;ha.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ha.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var l8=lL,c8=function(e){var t=ha.prototype.put;return ha.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){ha.prototype.put=t}},f8=WT,h8=function(e){return e._delegate._queryIdentifier},d8=function(e){VG(e)},p8=Object.freeze({__proto__:null,DataConnection:u8,RealTimeConnection:l8,hijackHash:c8,ConnectionTarget:f8,queryIdentifier:h8,forceRestClient:d8});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v8=Qv.ServerValue;function m8(e){B2(e.SDK_VERSION),e.INTERNAL.registerComponent(new Xn("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Qv(fM(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:ia,Query:hM,Database:Qv,DataSnapshot:Sf,enableLogging:W2,INTERNAL:a8,ServerValue:v8,TEST_ACCESS:p8}).setMultipleInstances(!0)),e.registerVersion(e5,t5)}m8(ee);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r1=function(e,t){return r1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},r1(e,t)};function g8(e,t){r1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function dM(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var y8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,bb=bb||{},ce=y8||self;function Yv(){}function i1(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Fh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function _8(e){return Object.prototype.hasOwnProperty.call(e,lw)&&e[lw]||(e[lw]=++w8)}var lw="closure_uid_"+(1e9*Math.random()>>>0),w8=0;function E8(e,t,n){return e.call.apply(e.bind,arguments)}function T8(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function cn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?cn=E8:cn=T8,cn.apply(null,arguments)}function Cp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function xi(){return Date.now()}function xn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function ys(){this.j=this.j,this.i=this.i}var b8=0;ys.prototype.j=!1;ys.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),b8!=0)&&_8(this)};ys.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var pM=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},vM=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function I8(e){e:{for(var t=dQ,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function nP(e){return Array.prototype.concat.apply([],arguments)}function Ib(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xv(e){return/^[\s\xa0]*$/.test(e)}var rP=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function In(e,t){return e.indexOf(t)!=-1}function cw(e,t){return e<t?-1:e>t?1:0}var Sn;e:{var iP=ce.navigator;if(iP){var oP=iP.userAgent;if(oP){Sn=oP;break e}}Sn=""}function Sb(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function mM(e){var t={};for(var n in e)t[n]=e[n];return t}var sP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gM(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<sP.length;s++)n=sP[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Cb(e){return Cb[" "](e),e}Cb[" "]=Yv;function S8(e,t){var n=N8;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var C8=In(Sn,"Opera"),us=In(Sn,"Trident")||In(Sn,"MSIE"),yM=In(Sn,"Edge"),o1=yM||us,_M=In(Sn,"Gecko")&&!(In(Sn.toLowerCase(),"webkit")&&!In(Sn,"Edge"))&&!(In(Sn,"Trident")||In(Sn,"MSIE"))&&!In(Sn,"Edge"),k8=In(Sn.toLowerCase(),"webkit")&&!In(Sn,"Edge");function wM(){var e=ce.document;return e?e.documentMode:void 0}var Jv;e:{var fw="",hw=function(){var e=Sn;if(_M)return/rv:([^\);]+)(\)|;)/.exec(e);if(yM)return/Edge\/([\d\.]+)/.exec(e);if(us)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(k8)return/WebKit\/(\S+)/.exec(e);if(C8)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(hw&&(fw=hw?hw[1]:""),us){var dw=wM();if(dw!=null&&dw>parseFloat(fw)){Jv=String(dw);break e}}Jv=fw}var N8={};function EM(e){return S8(e,function(){for(var t=0,n=rP(String(Jv)).split("."),r=rP(String(e)).split("."),i=Math.max(n.length,r.length),s=0;t==0&&s<i;s++){var a=n[s]||"",l=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;t=cw(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||cw(a[2].length==0,l[2].length==0)||cw(a[2],l[2]),a=a[3],l=l[3]}while(t==0)}return 0<=t})}var s1;if(ce.document&&us){var aP=wM();s1=aP||parseInt(Jv,10)||void 0}else s1=void 0;var TM=s1,kb=!us||9<=Number(TM),A8=us&&!EM("9"),R8=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ce.addEventListener("test",Yv,t),ce.removeEventListener("test",Yv,t)}catch{}return e}();function fn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}fn.prototype.b=function(){this.defaultPrevented=!0};function ih(e,t){if(fn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(_M){e:{try{Cb(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:P8[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}xn(ih,fn);var P8={2:"touch",3:"pen",4:"mouse"};ih.prototype.b=function(){ih.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,A8)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var Uh="closure_listenable_"+(1e6*Math.random()|0),O8=0;function x8(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++O8,this.Y=this.Z=!1}function dg(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function pg(e){this.src=e,this.a={},this.b=0}pg.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=u1(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new x8(t,this.src,s,!!r,i),t.Z=n,e.push(t)),t};function a1(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=pM(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(dg(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function u1(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return i}return-1}var Nb="closure_lm_"+(1e6*Math.random()|0),pw={};function Ab(e,t,n,r,i){if(r&&r.once)return IM(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ab(e,t[s],n,r,i);return null}return n=Ob(n),e&&e[Uh]?e.va(t,n,Fh(r)?!!r.capture:!!r,i):bM(e,t,n,!1,r,i)}function bM(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Fh(i)?!!i.capture:!!i;if(a&&!kb)return null;var l=Pb(e);if(l||(e[Nb]=l=new pg(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=D8(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R8||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(CM(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function D8(){var e=L8,t=kb?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function IM(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)IM(e,t[s],n,r,i);return null}return n=Ob(n),e&&e[Uh]?e.wa(t,n,Fh(r)?!!r.capture:!!r,i):bM(e,t,n,!0,r,i)}function SM(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)SM(e,t[s],n,r,i);else r=Fh(r)?!!r.capture:!!r,n=Ob(n),e&&e[Uh]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=u1(s,n,r,i),-1<n&&(dg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=Pb(e))&&(t=e.a[t.toString()],e=-1,t&&(e=u1(t,n,r,i)),(n=-1<e?t[e]:null)&&Rb(n))}function Rb(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Uh])a1(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(CM(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pb(t))?(a1(n,e),n.b==0&&(n.src=null,t[Nb]=null)):dg(e)}}}function CM(e){return e in pw?pw[e]:pw[e]="on"+e}function uP(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Rb(e),n.call(r,t)}function L8(e,t){if(e.Y)return!0;if(!kb){if(!t)e:{t=["window","event"];for(var n=ce,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new ih(t,this),uP(e,t)}return uP(e,new ih(t,this))}function Pb(e){return e=e[Nb],e instanceof pg?e:null}var vw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ob(e){return typeof e=="function"?e:(e[vw]||(e[vw]=function(t){return e.handleEvent(t)}),e[vw])}function dr(){ys.call(this),this.c=new pg(this),this.J=this,this.C=null}xn(dr,ys);dr.prototype[Uh]=!0;J=dr.prototype;J.addEventListener=function(e,t,n,r){Ab(this,e,t,n,r)};J.removeEventListener=function(e,t,n,r){SM(this,e,t,n,r)};function Jt(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new fn(t,e);else if(t instanceof fn)t.target=t.target||e;else{var i=t;t=new fn(r,e),gM(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];i=kp(a,r,!0,t)&&i}if(a=t.a=e,i=kp(a,r,!0,t)&&i,i=kp(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.a=n[s],i=kp(a,r,!1,t)&&i}J.G=function(){if(dr.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)dg(n[r]);delete e.a[t],e.b--}}this.C=null};J.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};J.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function kp(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var l=a.listener,c=a.ca||a.src;a.Z&&a1(e.c,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var xb=ce.JSON.stringify;function kM(){this.b=this.a=null}var NM=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new Db},function(e){e.reset()});kM.prototype.add=function(e,t){var n=NM.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function M8(){var e=RM,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Db(){this.next=this.b=this.a=null}Db.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};Db.prototype.reset=function(){this.next=this.b=this.a=null};function F8(e){ce.setTimeout(function(){throw e},0)}function AM(e,t){l1||U8(),c1||(l1(),c1=!0),RM.add(e,t)}var l1;function U8(){var e=ce.Promise.resolve(void 0);l1=function(){e.then(j8)}}var c1=!1,RM=new kM;function j8(){for(var e;e=M8();){try{e.a.call(e.b)}catch(n){F8(n)}var t=NM;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}c1=!1}function vg(e,t){dr.call(this),this.b=e||1,this.a=t||ce,this.f=cn(this.Za,this),this.g=xi()}xn(vg,dr);J=vg.prototype;J.aa=!1;J.M=null;J.Za=function(){if(this.aa){var e=xi()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Jt(this,"tick"),this.aa&&(Lb(this),this.start()))}};J.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=xi())};function Lb(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}J.G=function(){vg.X.G.call(this),Lb(this),delete this.a};function Mb(e,t,n){if(typeof e=="function")n&&(e=cn(e,n));else if(e&&typeof e.handleEvent=="function")e=cn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ce.setTimeout(e,t||0)}function PM(e){e.a=Mb(function(){e.a=null,e.c&&(e.c=!1,PM(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var V8=function(e){g8(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:PM(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(ce.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(ys);function oh(e){ys.call(this),this.b=e,this.a={}}xn(oh,ys);var lP=[];function OM(e,t,n,r){Array.isArray(n)||(n&&(lP[0]=n.toString()),n=lP);for(var i=0;i<n.length;i++){var s=Ab(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function xM(e){Sb(e.a,function(t,n){this.a.hasOwnProperty(n)&&Rb(t)},e),e.a={}}oh.prototype.G=function(){oh.X.G.call(this),xM(this)};oh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fb(){this.a=!0}function B8(e,t,n,r,i,s){e.info(function(){if(e.a)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function $8(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Bu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+z8(e,n)+(r?" "+r:"")})}function q8(e,t){e.info(function(){return"TIMEOUT: "+t})}Fb.prototype.info=function(){};function z8(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return xb(n)}catch{return t}}var $a={},cP=null;function mg(){return cP=cP||new dr}$a.Fa="serverreachability";function DM(e){fn.call(this,$a.Fa,e)}xn(DM,fn);function sh(e){var t=mg();Jt(t,new DM(t))}$a.STAT_EVENT="statevent";function LM(e,t){fn.call(this,$a.STAT_EVENT,e),this.stat=t}xn(LM,fn);function kn(e){var t=mg();Jt(t,new LM(t,e))}$a.Ga="timingevent";function MM(e){fn.call(this,$a.Ga,e)}xn(MM,fn);function jh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){e()},t)}var gg={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},FM={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function UM(){}UM.prototype.a=null;function fP(e){var t;return(t=e.a)||(t=e.a={}),t}function jM(){}var Vh={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ub(){fn.call(this,"d")}xn(Ub,fn);function jb(){fn.call(this,"c")}xn(jb,fn);var VM;function BM(){}xn(BM,UM);VM=new BM;function Bh(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new oh(this),this.P=W8,e=o1?125:void 0,this.R=new vg(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var W8=45e3,$M={},f1={};J=Bh.prototype;J.setTimeout=function(e){this.P=e};function h1(e,t,n){e.H=1,e.i=_g(io(t)),e.j=n,e.I=!0,qM(e,null)}function qM(e,t){e.u=xi(),$h(e),e.l=io(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),QM(n.b,"t",r),e.D=0,e.a=dF(e.g,e.g.C?t:null),0<e.O&&(e.F=new V8(cn(e.Ca,e,e.a),e.O)),OM(e.J,e.a,"readystatechange",e.Xa),t=e.B?mM(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),sh(),B8(e.c,e.m,e.l,e.f,e.S,e.j)}J.Xa=function(e){e=e.target;var t=this.F;t&&Bo(e)==3?t.f():this.Ca(e)};J.Ca=function(e){try{if(e==this.a)e:{var t=Bo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!o1&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?sh(3):sh(2)),yg(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,$8(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xv(a)){var c=a;break t}}c=null}if(c)Bu(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,d1(this,c);else{this.b=!1,this.h=3,kn(12),Yu(this),Zv(this);break e}}this.I?(zM(this,t,s),o1&&this.b&&t==3&&(OM(this.J,this.R,"tick",this.Wa),this.R.start())):(Bu(this.c,this.f,s,null),d1(this,s)),t==4&&Yu(this),this.b&&!this.A&&(t==4?lF(this.g,this):(this.b=!1,$h(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,kn(12)):(this.h=0,kn(13)),Yu(this),Zv(this)}}}catch{}finally{}};function zM(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=H8(e,n);if(i==f1){t==4&&(e.h=4,kn(14),r=!1),Bu(e.c,e.f,null,"[Incomplete Response]");break}else if(i==$M){e.h=4,kn(15),Bu(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else Bu(e.c,e.f,i,null),d1(e,i)}t==4&&n.length==0&&(e.h=1,kn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kb(t),t.F=!0,kn(11))):(Bu(e.c,e.f,n,"[Invalid Chunked Response]"),Yu(e),Zv(e))}J.Wa=function(){if(this.a){var e=Bo(this.a),t=this.a.$();this.D<t.length&&(yg(this),zM(this,e,t),this.b&&e!=4&&$h(this))}};function H8(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?f1:(n=Number(t.substring(n,r)),isNaN(n)?$M:(r+=1,r+n>t.length?f1:(t=t.substr(r,n),e.D=r+n,t)))}J.cancel=function(){this.A=!0,Yu(this)};function $h(e){e.T=xi()+e.P,WM(e,e.P)}function WM(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=jh(cn(e.Va,e),t)}function yg(e){e.o&&(ce.clearTimeout(e.o),e.o=null)}J.Va=function(){this.o=null;var e=xi();0<=e-this.T?(q8(this.c,this.l),this.H!=2&&(sh(),kn(17)),Yu(this),this.h=2,Zv(this)):WM(this,this.T-e)};function Zv(e){e.g.v==0||e.A||lF(e.g,e)}function Yu(e){yg(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,Lb(e.R),xM(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function d1(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||p1(n.b,e))){if(n.I=e.N,!e.C&&p1(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)rm(n),Eg(n);else break e;Hb(n),kn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=jh(cn(n.Sa,n),6e3));if(1>=JM(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else oa(n,11)}else if((e.C||n.a==e)&&rm(n),!Xv(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var c=1.5*l;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var h=e.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=c.b;!v.a&&(In(d,"spdy")||In(d,"quic")||In(d,"h2"))&&(v.f=v.g,v.a=new Set,v.b&&($b(v,v.b),v.b=null))}if(c.A){var g=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;g&&(c.na=g,Xe(c.B,c.A,g))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=xi()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),c=n;var y=e;if(c.la=hF(c,c.C?c.ga:null,c.fa),y.C){ZM(c.b,y);var w=y,b=c.D;b&&w.setTimeout(b),w.o&&(yg(w),$h(w)),c.a=y}else aF(c);0<n.g.length&&Tg(n)}else i[0]!="stop"&&i[0]!="close"||oa(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?oa(n,7):Wb(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}sh(4)}catch{}}function K8(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(i1(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function Vb(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(i1(e)||typeof e=="string")vM(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(i1(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=K8(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function ql(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ql)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}J=ql.prototype;J.K=function(){Bb(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};J.L=function(){return Bb(this),this.a.concat()};function Bb(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Na(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],Na(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}J.get=function(e,t){return Na(this.b,e)?this.b[e]:t};J.set=function(e,t){Na(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};J.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function Na(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var HM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function G8(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Aa(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Aa){this.a=t!==void 0?t:e.a,em(this,e.f),this.j=e.j,tm(this,e.c),nm(this,e.h),this.g=e.g,t=e.b;var n=new ah;n.c=t.c,t.a&&(n.a=new ql(t.a),n.b=t.b),hP(this,n),this.i=e.i}else e&&(n=String(e).match(HM))?(this.a=!!t,em(this,n[1]||"",!0),this.j=Cf(n[2]||""),tm(this,n[3]||"",!0),nm(this,n[4]),this.g=Cf(n[5]||"",!0),hP(this,n[6]||"",!0),this.i=Cf(n[7]||"")):(this.a=!!t,this.b=new ah(null,this.a))}Aa.prototype.toString=function(){var e=[],t=this.f;t&&e.push(sf(t,dP,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(sf(t,dP,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(sf(n,n.charAt(0)=="/"?Z8:J8,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",sf(n,tQ)),e.join("")};function io(e){return new Aa(e)}function em(e,t,n){e.f=n?Cf(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function tm(e,t,n){e.c=n?Cf(t,!0):t}function nm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function hP(e,t,n){t instanceof ah?(e.b=t,nQ(e.b,e.a)):(n||(t=sf(t,eQ)),e.b=new ah(t,e.a))}function Xe(e,t,n){e.b.set(t,n)}function _g(e){return Xe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^xi()).toString(36)),e}function Q8(e){return e instanceof Aa?io(e):new Aa(e,void 0)}function Y8(e,t,n,r){var i=new Aa(null,void 0);return e&&em(i,e),t&&tm(i,t),n&&nm(i,n),r&&(i.g=r),i}function Cf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sf(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,X8),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function X8(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var dP=/[#\/\?@]/g,J8=/[#\?:]/g,Z8=/[#\?]/g,eQ=/[#\?@]/g,tQ=/#/g;function ah(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function _s(e){e.a||(e.a=new ql,e.b=0,e.c&&G8(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}J=ah.prototype;J.add=function(e,t){_s(this),this.c=null,e=zl(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function KM(e,t){_s(e),t=zl(e,t),Na(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Na(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Bb(e)))}function GM(e,t){return _s(e),t=zl(e,t),Na(e.a.b,t)}J.forEach=function(e,t){_s(this),this.a.forEach(function(n,r){vM(n,function(i){e.call(t,i,r,this)},this)},this)};J.L=function(){_s(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};J.K=function(e){_s(this);var t=[];if(typeof e=="string")GM(this,e)&&(t=nP(t,this.a.get(zl(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=nP(t,e[n])}return t};J.set=function(e,t){return _s(this),this.c=null,e=zl(this,e),GM(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};J.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function QM(e,t,n){KM(e,t),0<n.length&&(e.c=null,e.a.set(zl(e,t),Ib(n)),e.b+=n.length)}J.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function zl(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nQ(e,t){t&&!e.f&&(_s(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(KM(this,r),QM(this,i,n))},e)),e.f=t}var rQ=function(){function e(t,n){this.b=t,this.a=n}return e}();function YM(e){this.g=e||iQ,ce.PerformanceNavigationTiming?(e=ce.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ce.ia&&ce.ia.ya&&ce.ia.ya()&&ce.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var iQ=10;function XM(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function JM(e){return e.b?1:e.a?e.a.size:0}function p1(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function $b(e,t){e.a?e.a.add(t):e.b=t}function ZM(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}YM.prototype.cancel=function(){var e,t;if(this.c=eF(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=dM(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function eF(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=dM(e.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ib(e.c)}function qb(){}qb.prototype.stringify=function(e){return ce.JSON.stringify(e,void 0)};qb.prototype.parse=function(e){return ce.JSON.parse(e,void 0)};function oQ(){this.a=new qb}function sQ(e,t,n){var r=n||"";try{Vb(e,function(i,s){var a=i;Fh(i)&&(a=xb(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function aQ(e,t){var n=new Fb;if(ce.Image){var r=new Image;r.onload=Cp(Np,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Cp(Np,n,r,"TestLoadImage: error",!1,t),r.onabort=Cp(Np,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Cp(Np,n,r,"TestLoadImage: timeout",!1,t),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Np(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var uQ=ce.JSON.parse;function xt(e){dr.call(this),this.headers=new ql,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=lQ,this.D=this.F=!1}xn(xt,dr);var lQ="",cQ=/^https?$/i,fQ=["POST","PUT"];J=xt.prototype;J.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?fP(this.H):fP(VM),this.a.onreadystatechange=cn(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){pP(this,s);return}e=n||"";var i=new ql(this.headers);r&&Vb(r,function(s,a){i.set(a,s)}),r=I8(i.L()),n=ce.FormData&&e instanceof ce.FormData,!(0<=pM(fQ,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{rF(this),0<this.o&&((this.D=hQ(this.a))?(this.a.timeout=this.o,this.a.ontimeout=cn(this.xa,this)):this.m=Mb(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){pP(this,s)}};function hQ(e){return us&&EM(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function dQ(e){return e.toLowerCase()=="content-type"}J.xa=function(){typeof bb<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Jt(this,"timeout"),this.abort(8))};function pP(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,tF(e),wg(e)}function tF(e){e.u||(e.u=!0,Jt(e,"complete"),Jt(e,"error"))}J.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Jt(this,"complete"),Jt(this,"abort"),wg(this))};J.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),wg(this,!0)),xt.X.G.call(this)};J.za=function(){this.j||(this.A||this.l||this.g?nF(this):this.Ua())};J.Ua=function(){nF(this)};function nF(e){if(e.b&&typeof bb<"u"&&(!e.s[1]||Bo(e)!=4||e.W()!=2)){if(e.l&&Bo(e)==4)Mb(e.za,0,e);else if(Jt(e,"readystatechange"),Bo(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.B).match(HM)[1]||null;if(!s&&ce.self&&ce.self.location){var a=ce.self.location.protocol;s=a.substr(0,a.length-1)}i=!cQ.test(s?s.toLowerCase():"")}r=i}var l=r}if(l)Jt(e,"complete"),Jt(e,"success");else{e.h=6;try{var c=2<Bo(e)?e.a.statusText:""}catch{c=""}e.f=c+" ["+e.W()+"]",tF(e)}}finally{wg(e)}}}}function wg(e,t){if(e.a){rF(e);var n=e.a,r=e.s[0]?Yv:null;e.a=null,e.s=null,t||Jt(e,"ready");try{n.onreadystatechange=r}catch{}}}function rF(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(ce.clearTimeout(e.m),e.m=null)}function Bo(e){return e.a?e.a.readyState:0}J.W=function(){try{return 2<Bo(this)?this.a.status:-1}catch{return-1}};J.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};J.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),uQ(t)}};J.ua=function(){return this.h};J.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function pQ(e){var t="";return Sb(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function zb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pQ(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Xe(e,t,n))}function Yc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function iF(e){this.pa=0,this.g=[],this.c=new Fb,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Yc("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Yc("baseRetryDelayMs",5e3,e),this.Ra=Yc("retryDelaySeedMs",1e4,e),this.Ma=Yc("forwardChannelMaxRetries",2,e),this.ma=Yc("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new YM(e&&e.concurrentRequestLimit),this.ka=new oQ,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}J=iF.prototype;J.ha=8;J.v=1;function Wb(e){if(oF(e),e.v==3){var t=e.R++,n=io(e.B);Xe(n,"SID",e.J),Xe(n,"RID",t),Xe(n,"TYPE","terminate"),qh(e,n),t=new Bh(e,e.c,t,void 0),t.H=2,t.i=_g(io(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(t.i.toString(),"")),!n&&ce.Image&&(new Image().src=t.i,n=!0),n||(t.a=dF(t.g,null),t.a.ba(t.i)),t.u=xi(),$h(t)}fF(e)}function Eg(e){e.a&&(Kb(e),e.a.cancel(),e.a=null)}function oF(e){Eg(e),e.j&&(ce.clearTimeout(e.j),e.j=null),rm(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&ce.clearTimeout(e.h),e.h=null)}function mw(e,t){e.g.push(new rQ(e.Oa++,t)),e.v==3&&Tg(e)}function Tg(e){XM(e.b)||e.h||(e.h=!0,AM(e.Ba,e),e.u=0)}function vQ(e,t){return JM(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=jh(cn(e.Ba,e,t),cF(e,e.u)),e.u++,!0)}J.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Bh(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=mM(n),gM(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=sF(this,t,r),i=io(this.B),Xe(i,"RID",e),Xe(i,"CVER",22),this.A&&Xe(i,"X-HTTP-Session-Id",this.A),qh(this,i),this.i&&n&&zb(i,this.i,n),$b(this.b,t),this.Ia&&Xe(i,"TYPE","init"),this.da?(Xe(i,"$req",r),Xe(i,"SID","null"),t.U=!0,h1(t,i,null)):h1(t,i,r),this.v=2}}else this.v==3&&(e?vP(this,e):this.g.length==0||XM(this.b)||vP(this))};function vP(e,t){var n;t?n=t.f:n=e.R++;var r=io(e.B);Xe(r,"SID",e.J),Xe(r,"RID",n),Xe(r,"AID",e.P),qh(e,r),e.i&&e.l&&zb(r,e.i,e.l),n=new Bh(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=sF(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),$b(e.b,n),h1(n,r,t)}function qh(e,t){e.f&&Vb({},function(n,r){Xe(t,r,n)})}function sF(e,t,n){n=Math.min(e.g.length,n);var r=e.f?cn(e.f.Ja,e.f,e):null;e:for(var i=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].b,d=i[c].a;if(h-=s,0>h)s=Math.max(0,i[c].b-100),l=!1;else try{sQ(d,a,"req"+h+"_")}catch{r&&r(d)}}if(l){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function aF(e){e.a||e.j||(e.T=1,AM(e.Aa,e),e.o=0)}function Hb(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=jh(cn(e.Aa,e),cF(e,e.o)),e.o++,!0)}J.Aa=function(){if(this.j=null,uF(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=jh(cn(this.Ta,this),e)}};J.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,kn(10),Eg(this),uF(this))};function Kb(e){e.s!=null&&(ce.clearTimeout(e.s),e.s=null)}function uF(e){e.a=new Bh(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=io(e.la);Xe(t,"RID","rpc"),Xe(t,"SID",e.J),Xe(t,"CI",e.H?"0":"1"),Xe(t,"AID",e.P),qh(e,t),Xe(t,"TYPE","xmlhttp"),e.i&&e.l&&zb(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=_g(io(t)),n.j=null,n.I=!0,qM(n,e)}J.Sa=function(){this.m!=null&&(this.m=null,Eg(this),Hb(this),kn(19))};function rm(e){e.m!=null&&(ce.clearTimeout(e.m),e.m=null)}function lF(e,t){var n=null;if(e.a==t){rm(e),Kb(e),e.a=null;var r=2}else if(p1(e.b,t))n=t.s,ZM(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=xi()-t.u;var i=e.u;r=mg(),Jt(r,new MM(r)),Tg(e)}else aF(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&vQ(e,t)||r==2&&Hb(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:oa(e,5);break;case 4:oa(e,10);break;case 3:oa(e,6);break;default:oa(e,2)}}}function cF(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function oa(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=cn(e.Ya,e);n||(n=new Aa("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||em(n,"https"),_g(n)),aQ(n.toString(),r)}else kn(2);e.v=0,e.f&&e.f.ra(t),fF(e),oF(e)}J.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),kn(2)):(this.c.info("Failed to ping google.com"),kn(1))};function fF(e){e.v=0,e.I=-1,e.f&&((eF(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,Ib(e.g),e.g.length=0),e.f.qa())}function hF(e,t,n){var r=Q8(n);if(r.c!="")t&&tm(r,t+"."+r.c),nm(r,r.h);else{var i=ce.location;r=Y8(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Sb(e.V,function(s,a){Xe(r,a,s)}),t=e.A,n=e.na,t&&n&&Xe(r,t,n),Xe(r,"VER",e.ha),qh(e,r),r}function dF(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new xt(e.Na),t.F=e.C,t}function pF(){}J=pF.prototype;J.ta=function(){};J.sa=function(){};J.ra=function(){};J.qa=function(){};J.Ja=function(){};function im(){if(us&&!(10<=Number(TM)))throw Error("Environmental error: no available transport.")}im.prototype.a=function(e,t){return new pr(e,t)};function pr(e,t){dr.call(this),this.a=new iF(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Xv(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xv(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new Wl(this)}xn(pr,dr);pr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;kn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=hF(e,null,e.fa),Tg(e)};pr.prototype.close=function(){Wb(this.a)};pr.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,mw(this.a,t)}else this.l?(t={},t.__data__=xb(e),mw(this.a,t)):mw(this.a,e)};pr.prototype.G=function(){this.a.f=null,delete this.f,Wb(this.a),delete this.a,pr.X.G.call(this)};function vF(e){Ub.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}xn(vF,Ub);function mF(){jb.call(this),this.status=1}xn(mF,jb);function Wl(e){this.a=e}xn(Wl,pF);Wl.prototype.ta=function(){Jt(this.a,"a")};Wl.prototype.sa=function(e){Jt(this.a,new vF(e))};Wl.prototype.ra=function(e){Jt(this.a,new mF)};Wl.prototype.qa=function(){Jt(this.a,"b")};im.prototype.createWebChannel=im.prototype.a;pr.prototype.send=pr.prototype.h;pr.prototype.open=pr.prototype.g;pr.prototype.close=pr.prototype.close;gg.NO_ERROR=0;gg.TIMEOUT=8;gg.HTTP_ERROR=6;FM.COMPLETE="complete";jM.EventType=Vh;Vh.OPEN="a";Vh.CLOSE="b";Vh.ERROR="c";Vh.MESSAGE="d";dr.prototype.listen=dr.prototype.va;xt.prototype.listenOnce=xt.prototype.wa;xt.prototype.getLastError=xt.prototype.Qa;xt.prototype.getLastErrorCode=xt.prototype.ua;xt.prototype.getStatus=xt.prototype.W;xt.prototype.getResponseJson=xt.prototype.Pa;xt.prototype.getResponseText=xt.prototype.$;xt.prototype.send=xt.prototype.ba;var mQ=function(){return new im},gQ=function(){return mg()},gw=gg,yQ=FM,_Q=$a,mP={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Ap=jM,wQ=xt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();ar.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return K(t,e),t}(Error),ii=new Ul("@firebase/firestore");function v1(){return ii.logLevel}function W(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ii.logLevel<=me.DEBUG){var r=t.map(Gb);ii.debug.apply(ii,ge(["Firestore (8.5.0): "+e],r))}}function Tt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ii.logLevel<=me.ERROR){var r=t.map(Gb);ii.error.apply(ii,ge(["Firestore (8.5.0): "+e],r))}}function om(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ii.logLevel<=me.WARN){var r=t.map(Gb);ii.warn.apply(ii,ge(["Firestore (8.5.0): "+e],r))}}function Gb(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw Tt(t),new Error(t)}function se(e,t){e||Z()}function H(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EQ(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gF=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=EQ(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function Ee(e,t){return e<t?-1:e>t?1:0}function dl(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function yF(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ve=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Qn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _F(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wF=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Z(),r===void 0?r=t.length-n:r>t.length-n&&Z(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ae=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(wF),TQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return TQ.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new j(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new j(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new j(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new j(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(wF),pl=function(){function e(t){this.fields=t,t.sort(Mr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return dl(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),An=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ee(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();An.EMPTY_BYTE_STRING=new An("");var bQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(e){if(se(!!e),typeof e=="string"){var t=0,n=bQ.exec(e);if(se(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:wt(e.seconds),nanos:wt(e.nanos)}}function wt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function vl(e){return typeof e=="string"?An.fromBase64String(e):An.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function EF(e){var t=e.mapValue.fields.__previous_value__;return Qb(t)?EF(t):t}function uh(e){var t=ls(e.mapValue.fields.__local_write_time__.timestampValue);return new Qn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(e){return e==null}function sm(e){return e===0&&1/e==-1/0}function TF(e){return typeof e=="number"&&Number.isInteger(e)&&!sm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ae.fromString(t))},e.fromName=function(t){return new e(Ae.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ae.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ae.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ae(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qb(e)?4:10:Z()}function Pi(e,t){var n=cs(e);if(n!==cs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uh(e).isEqual(uh(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=ls(r.timestampValue),a=ls(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return vl(r.bytesValue).isEqual(vl(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return wt(r.geoPointValue.latitude)===wt(i.geoPointValue.latitude)&&wt(r.geoPointValue.longitude)===wt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return wt(r.integerValue)===wt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=wt(r.doubleValue),a=wt(i.doubleValue);return s===a?sm(s)===sm(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return dl(e.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(gP(s)!==gP(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Pi(s[l],a[l])))return!1;return!0}(e,t);default:return Z()}}function lh(e,t){return(e.values||[]).find(function(n){return Pi(n,t)})!==void 0}function ml(e,t){var n=cs(e),r=cs(t);if(n!==r)return Ee(n,r);switch(n){case 0:return 0;case 1:return Ee(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=wt(i.integerValue||i.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return yP(e.timestampValue,t.timestampValue);case 4:return yP(uh(e),uh(t));case 5:return Ee(e.stringValue,t.stringValue);case 6:return function(i,s){var a=vl(i),l=vl(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=Ee(a[c],l[c]);if(h!==0)return h}return Ee(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=Ee(wt(i.latitude),wt(s.latitude));return a!==0?a:Ee(wt(i.longitude),wt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=ml(a[c],l[c]);if(h)return h}return Ee(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var d=0;d<l.length&&d<h.length;++d){var v=Ee(l[d],h[d]);if(v!==0)return v;var g=ml(a[l[d]],c[h[d]]);if(g!==0)return g}return Ee(l.length,h.length)}(e.mapValue,t.mapValue);default:throw Z()}}function yP(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ee(e,t);var n=ls(e),r=ls(t),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function Yb(e){return m1(e)}function m1(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ls(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,te.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=m1(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+m1(r.fields[c])}return i+"}"}(e.mapValue):Z();var t,n}function am(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function g1(e){return!!e&&"integerValue"in e}function Xb(e){return!!e&&"arrayValue"in e}function _P(e){return!!e&&"nullValue"in e}function wP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function y1(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or=function(){function e(t){this.overlayMap=new Map,this.partialValue=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(Mr.emptyPath())},e.prototype.set=function(t,n){this.setOverlay(t,n)},e.prototype.setAll=function(t){var n=this;t.forEach(function(r,i){r?n.set(i,r):n.delete(i)})},e.prototype.delete=function(t){this.setOverlay(t,null)},e.prototype.isEqual=function(t){return Pi(this.buildProto(),t.buildProto())},e.prototype.setOverlay=function(t,n){for(var r=this.overlayMap,i=0;i<t.length-1;++i){var s=t.get(i),a=r.get(s);a instanceof Map?r=a:a&&cs(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.lastSegment(),n)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,s=e.extractNestedValue(this.partialValue,t),a=y1(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(l,c){if(l instanceof Map){var h=r.applyOverlay(t.child(c),l);h!=null&&(a[c]=h,i=!0)}else l!==null?(a[c]=l,i=!0):a.hasOwnProperty(c)&&(delete a[c],i=!0)}),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var t=this.applyOverlay(Mr.emptyPath(),this.overlayMap);return t!=null&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(t,n){if(n.isEmpty())return t;for(var r=t,i=0;i<n.length-1;++i)if(!r.mapValue.fields||!y1(r=r.mapValue.fields[n.get(i)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function bF(e){var t=[];return zh(e.fields||{},function(n,r){var i=new Mr([n]);if(y1(r)){var s=bF(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new pl(t)}var en=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ve.min(),or.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,or.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,or.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=or.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=or.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),IQ=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new IQ(e,t,n,r,i,s,a)}function Wh(e){var t=H(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+Yb(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),qa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=lm(t.startAt)),t.endAt&&(n+="|ub:",n+=lm(t.endAt)),t.h=n}return t.h}function bg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!OQ(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Pi(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bP(e.startAt,t.startAt)&&bP(e.endAt,t.endAt)}function um(e){return te.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var ur=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return K(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new SQ(n,r,i):r==="array-contains"?new NQ(n,i):r==="in"?new AQ(n,i):r==="not-in"?new RQ(n,i):r==="array-contains-any"?new PQ(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new CQ(n,i):new kQ(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(ml(r,this.value)):r!==null&&cs(this.value)===cs(r)&&this.m(ml(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Z()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),SQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=te.fromName(i.referenceValue),s}return K(t,e),t.prototype.matches=function(n){var r=te.comparator(n.key,this.key);return this.m(r)},t}(ur),CQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=IF("in",r),i}return K(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(ur),kQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=IF("not-in",r),i}return K(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(ur);function IF(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return te.fromName(r.referenceValue)})}var NQ=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return K(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Xb(r)&&lh(r.arrayValue,this.value)},t}(ur),AQ=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return K(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&lh(this.value.arrayValue,r)},t}(ur),RQ=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return K(t,e),t.prototype.matches=function(n){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!lh(this.value.arrayValue,r)},t}(ur),PQ=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return K(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!Xb(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return lh(r.value.arrayValue,s)})},t}(ur),ch=function(e,t){this.position=e,this.before=t};function lm(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Yb(t)}).join(",")}var Xu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function OQ(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function TP(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?te.comparator(te.fromName(a.referenceValue),n.key):ml(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function bP(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Pi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uo=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function SF(e,t,n,r,i,s,a,l){return new uo(e,t,n,r,i,s,a,l)}function Hl(e){return new uo(e)}function ev(e){return!qa(e.limit)&&e.limitType==="F"}function cm(e){return!qa(e.limit)&&e.limitType==="L"}function Jb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Zb(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function eI(e){return e.collectionGroup!==null}function gl(e){var t=H(e);if(t.p===null){t.p=[];var n=Zb(t),r=Jb(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Xu(n)),t.p.push(new Xu(Mr.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Xu(Mr.keyField(),c))}}}return t.p}function Fr(e){var t=H(e);if(!t.T)if(t.limitType==="F")t.T=EP(t.path,t.collectionGroup,gl(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=gl(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Xu(s.field,a))}var l=t.endAt?new ch(t.endAt.position,!t.endAt.before):null,c=t.startAt?new ch(t.startAt.position,!t.startAt.before):null;t.T=EP(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function CF(e,t,n){return new uo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hh(e,t){return bg(Fr(e),Fr(t))&&e.limitType===t.limitType}function kF(e){return Wh(Fr(e))+"|lt:"+e.limitType}function _1(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+Yb(i.value);var i}).join(", ")+"]"),qa(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+lm(t.startAt)),t.endAt&&(n+=", endAt: "+lm(t.endAt)),"Target("+n+")"}(Fr(e))+"; limitType="+e.limitType+")"}function Kh(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):te.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!TP(n.startAt,gl(n),r))&&(!n.endAt||!TP(n.endAt,gl(n),r))}(e,t)}function NF(e){return function(t,n){for(var r=!1,i=0,s=gl(e);i<s.length;i++){var a=s[i],l=xQ(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function xQ(e,t,n){var r=e.field.isKeyField()?te.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ml(l,c):Z()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(t)?"-0":t}}function RF(e){return{integerValue:""+e}}function PF(e,t){return TF(t)?RF(t):AF(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ig=function(){this._=void 0};function DQ(e,t,n){return e instanceof yl?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Ra?xF(e,t):e instanceof Pa?DF(e,t):function(r,i){var s=OF(r,i),a=IP(s)+IP(r.A);return g1(s)&&g1(r.A)?RF(a):AF(r.R,a)}(e,t)}function LQ(e,t,n){return e instanceof Ra?xF(e,t):e instanceof Pa?DF(e,t):n}function OF(e,t){return e instanceof _l?g1(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var yl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t}(Ig),Ra=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return K(t,e),t}(Ig);function xF(e,t){for(var n=LF(t),r=function(a){n.some(function(l){return Pi(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Pa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return K(t,e),t}(Ig);function DF(e,t){for(var n=LF(t),r=function(a){n=n.filter(function(l){return!Pi(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var _l=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return K(t,e),t}(Ig);function IP(e){return wt(e.integerValue||e.doubleValue)}function LF(e){return Xb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gh=function(e,t){this.field=e,this.transform=t},MQ=function(e,t){this.version=e,this.transformResults=t},ln=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function tv(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Sg=function(){};function FQ(e,t,n){e instanceof Qh?function(r,i,s){var a=r.value.clone(),l=kP(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ws?function(r,i,s){if(tv(r.precondition,i)){var a=kP(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(MF(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function w1(e,t,n){e instanceof Qh?function(r,i,s){if(tv(r.precondition,i)){var a=r.value.clone(),l=NP(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(CP(i),a).setHasLocalMutations()}}(e,t,n):e instanceof ws?function(r,i,s){if(tv(r.precondition,i)){var a=NP(r.fieldTransforms,s,i),l=i.data;l.setAll(MF(r)),l.setAll(a),i.convertToFoundDocument(CP(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){tv(r.precondition,i)&&i.convertToNoDocument(ve.min())}(e,t)}function UQ(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=OF(s.transform,a||null);l!=null&&(n==null&&(n=or.empty()),n.set(s.field,l))}return n||null}function SP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&dl(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof Ra&&h instanceof Ra||c instanceof Pa&&h instanceof Pa?dl(c.elements,h.elements,Pi):c instanceof _l&&h instanceof _l?Pi(c.A,h.A):c instanceof yl&&h instanceof yl}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function CP(e){return e.isFoundDocument()?e.version:ve.min()}var Qh=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return K(t,e),t}(Sg),ws=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return K(t,e),t}(Sg);function MF(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function kP(e,t,n){var r=new Map;se(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,LQ(a,l,n[i]))}return r}function NP(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,DQ(l,c,t))}return r}var _t,Ie,Yh=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return K(t,e),t}(Sg),tI=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return K(t,e),t}(Sg),jQ=function(e){this.count=e};function FF(e){switch(e){case D.OK:return Z();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return Z()}}function UF(e){if(e===void 0)return Tt("GRPC error has no .code"),D.UNKNOWN;switch(e){case _t.OK:return D.OK;case _t.CANCELLED:return D.CANCELLED;case _t.UNKNOWN:return D.UNKNOWN;case _t.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case _t.INTERNAL:return D.INTERNAL;case _t.UNAVAILABLE:return D.UNAVAILABLE;case _t.UNAUTHENTICATED:return D.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case _t.NOT_FOUND:return D.NOT_FOUND;case _t.ALREADY_EXISTS:return D.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return D.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case _t.ABORTED:return D.ABORTED;case _t.OUT_OF_RANGE:return D.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return D.UNIMPLEMENTED;case _t.DATA_LOSS:return D.DATA_LOSS;default:return Z()}}(Ie=_t||(_t={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn=function(){function e(t,n){this.comparator=t,this.root=n||Oo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Oo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Oo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Rp(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Rp(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Rp(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Rp(this.root,t,this.comparator,!0)},e}(),Rp=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Oo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();var t=this.left.check();if(t!==this.right.check())throw Z();return t+(this.isRed()?0:1)},e}();Oo.EMPTY=null,Oo.RED=!0,Oo.BLACK=!1,Oo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Z()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Oo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt=function(){function e(t){this.comparator=t,this.data=new vn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new AP(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new AP(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),AP=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),VQ=new vn(te.comparator);function Pr(){return VQ}var BQ=new vn(te.comparator);function E1(){return BQ}var $Q=new vn(te.comparator);function jF(){return $Q}var qQ=new Pt(te.comparator);function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=qQ,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var zQ=new Pt(Ee);function Cg(){return zQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nI=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,rI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ve.min(),r,Cg(),Pr(),xe())},e}(),rI=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(An.EMPTY_BYTE_STRING,n,xe(),xe(),xe())},e}(),nv=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},VF=function(e,t){this.targetId=e,this.V=t},BF=function(e,t,n,r){n===void 0&&(n=An.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},RP=function(){function e(){this.S=0,this.D=OP(),this.C=An.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=xe(),n=xe(),r=xe();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new rI(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=OP()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),WQ=function(){function e(t){this.W=t,this.G=new Map,this.H=Pr(),this.J=PP(),this.Y=new Pt(Ee)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.$(t.resumeToken);break;case 1:i.K(),i.k||i.L(),i.$(t.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.$(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.$(t.resumeToken));break;default:Z()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(um(s))if(r===0){var a=new te(s.path);this.tt(n,a,en.newNoDocument(a,ve.min()))}else se(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&um(c.target)){var h=new te(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,en.newNoDocument(h,t))}a.O&&(r.set(l,a.M()),a.L())}});var i=xe();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var d=n.ot(h);return!d||d.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new nI(t,r,this.Y,this.H,i);return this.H=Pr(),this.J=PP(),this.Y=new Pt(Ee),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new RP,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Pt(Ee),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||W("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new RP),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function PP(){return new vn(te.comparator)}function OP(){return new vn(te.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HQ={asc:"ASCENDING",desc:"DESCENDING"},KQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GQ=function(e,t){this.databaseId=e,this.I=t};function fh(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function $F(e,t){return e.I?t.toBase64():t.toUint8Array()}function QQ(e,t){return fh(e,t.toTimestamp())}function Vt(e){return se(!!e),ve.fromTimestamp(function(t){var n=ls(t);return new Qn(n.seconds,n.nanos)}(e))}function iI(e,t){return function(n){return new Ae(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function qF(e){var t=Ae.fromString(e);return se(XF(t)),t}function hh(e,t){return iI(e.databaseId,t.path)}function Si(e,t){var n=qF(t);if(n.get(1)!==e.databaseId.projectId)throw new j(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te(WF(n))}function T1(e,t){return iI(e.databaseId,t)}function zF(e){var t=qF(e);return t.length===4?Ae.emptyPath():WF(t)}function dh(e){return new Ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function WF(e){return se(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function xP(e,t,n){return{name:hh(e,t),fields:n.toProto().mapValue.fields}}function HF(e,t,n){var r=Si(e,t.name),i=Vt(t.updateTime),s=new or({mapValue:{fields:t.fields}}),a=en.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function fm(e,t){var n;if(t instanceof Qh)n={update:xP(e,t.key,t.value)};else if(t instanceof Yh)n={delete:hh(e,t.key)};else if(t instanceof ws)n={update:xP(e,t.key,t.data),updateMask:e7(t.fieldMask)};else{if(!(t instanceof tI))return Z();n={verify:hh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof yl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ra)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _l)return{fieldPath:s.field.canonicalString(),increment:a.A};throw Z()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:QQ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(e,t.precondition)),n}function DP(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?ln.updateTime(Vt(h.updateTime)):h.exists!==void 0?ln.exists(h.exists):ln.none()}(t.currentDocument):ln.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,v){var g=null;if("setToServerValue"in v)se(v.setToServerValue==="REQUEST_TIME"),g=new yl;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];g=new Ra(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];g=new Pa(w)}else"increment"in v?g=new _l(d,v.increment):Z();var b=Mr.fromServerFormat(v.fieldPath);return new Gh(b,g)}(e,h)}):[];if(t.update){t.update.name;var i=Si(e,t.update.name),s=new or({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var d=h.fieldPaths||[];return new pl(d.map(function(v){return Mr.fromServerFormat(v)}))}(t.updateMask);return new ws(i,s,a,n,r)}return new Qh(i,s,n,r)}if(t.delete){var l=Si(e,t.delete);return new Yh(l,n)}if(t.verify){var c=Si(e,t.verify);return new tI(c,n)}return Z()}function KF(e,t){return{documents:[T1(e,t.path)]}}function GF(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=T1(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=T1(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(d){if(d.op==="=="){if(wP(d.value))return{unaryFilter:{field:bu(d.field),op:"IS_NAN"}};if(_P(d.value))return{unaryFilter:{field:bu(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(wP(d.value))return{unaryFilter:{field:bu(d.field),op:"IS_NOT_NAN"}};if(_P(d.value))return{unaryFilter:{field:bu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bu(d.field),op:XQ(d.op),value:d.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:bu(h.field),direction:YQ(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||qa(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=LP(t.startAt)),t.endAt&&(n.structuredQuery.endAt=LP(t.endAt)),n}function QF(e){var t=zF(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){se(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=YF(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(g){return new Xu($u(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var c=null;n.limit&&(c=function(v){var g;return qa(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=MP(n.startAt));var d=null;return n.endAt&&(d=MP(n.endAt)),SF(t,i,l,a,c,"F",h,d)}function YF(e){return e?e.unaryFilter!==void 0?[ZQ(e)]:e.fieldFilter!==void 0?[JQ(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return YF(t)}).reduce(function(t,n){return t.concat(n)}):Z():[]}function LP(e){return{before:e.before,values:e.position}}function MP(e){var t=!!e.before,n=e.values||[];return new ch(n,t)}function YQ(e){return HQ[e]}function XQ(e){return KQ[e]}function bu(e){return{fieldPath:e.canonicalString()}}function $u(e){return Mr.fromServerFormat(e.fieldPath)}function JQ(e){return ur.create($u(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Z()}}(e.fieldFilter.op),e.fieldFilter.value)}function ZQ(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$u(e.unaryFilter.field);return ur.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$u(e.unaryFilter.field);return ur.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$u(e.unaryFilter.field);return ur.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$u(e.unaryFilter.field);return ur.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Z()}}function e7(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function XF(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=FP(t)),t=t7(e.get(n),t);return FP(t)}function t7(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function FP(e){return e+""}function Gi(e){var t=e.length;if(se(t>=2),t===2)return se(e.charAt(0)===""&&e.charAt(1)===""),Ae.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Z(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:Z()}s=a+2}return new Ae(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n7=function(e,t){this.seconds=e,this.nanoseconds=t},rr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};rr.store="owner",rr.key="owner";var Zo=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Zo.store="mutationQueues",Zo.keyPath="userId";var We=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};We.store="mutations",We.keyPath="batchId",We.userMutationsIndex="userMutationsIndex",We.userMutationsKeyPath=["userId","batchId"];var un=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,oi(n)]},e.key=function(t,n,r){return[t,oi(n),r]},e}();un.store="documentMutations",un.PLACEHOLDER=new un;var r7=function(e,t){this.path=e,this.readTime=t},i7=function(e,t){this.path=e,this.version=t},lt=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};lt.store="remoteDocuments",lt.readTimeIndex="readTimeIndex",lt.readTimeIndexPath="readTime",lt.collectionReadTimeIndex="collectionReadTimeIndex",lt.collectionReadTimeIndexPath=["parentPath","readTime"];var Ei=function(e){this.byteSize=e};Ei.store="remoteDocumentGlobal",Ei.key="remoteDocumentGlobalKey";var zn=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};zn.store="targets",zn.keyPath="targetId",zn.queryTargetsIndexName="queryTargetsIndex",zn.queryTargetsKeyPath=["canonicalId","targetId"];var Qt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Qt.store="targetDocuments",Qt.keyPath=["targetId","path"],Qt.documentTargetsIndex="documentTargetsIndex",Qt.documentTargetsKeyPath=["path","targetId"];var ir=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ir.key="targetGlobalKey",ir.store="targetGlobal";var da=function(e,t){this.collectionId=e,this.parent=t};da.store="collectionParents",da.keyPath=["collectionId","parent"];var Xi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Xi.store="clientMetadata",Xi.keyPath="clientId";var wl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};wl.store="bundles",wl.keyPath="bundleId";var El=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};El.store="namedQueries",El.keyPath="name";var o7=ge(ge([],ge(ge([],ge(ge([],ge(ge([],[Zo.store,We.store,un.store,lt.store,zn.store,rr.store,ir.store,Qt.store]),[Xi.store])),[Ei.store])),[da.store])),[wl.store,El.store]),JF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ZF=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Rn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},B=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),e4=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Rn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new kf(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=oI(i.target.error);r.ft.reject(new kf(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new kf(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(W("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new a7(n)},e}(),Tl=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Ia())===12.2&&Tt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return W("SimpleDb","Removing database:",t),Zs(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Ia(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(W("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new kf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new j(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new kf(t,h))},l.onupgradeneeded=function(c){W("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){W("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return R(this,void 0,void 0,function(){var s,a,l,c,h;return A(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,l=function(){var v,g,y,w,b;return A(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=S.sent(),v=e4.open(c.db,t,s?"readonly":"readwrite",r),g=i(v).catch(function(E){return v.abort(E),B.reject(E)}).toPromise(),y={},g.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(S.sent(),g),y)];case 4:return w=S.sent(),b=w.name!=="FirebaseError"&&a<3,W("SimpleDb","Transaction failed with error:",w.message,"Retrying:",b),c.close(),b?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,d.label=1;case 1:return[5,l()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),s7=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Zs(this.Pt.delete())},e}(),kf=function(e){function t(n,r){var i=this;return(i=e.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return K(t,e),t}(j);function za(e){return e.name==="IndexedDbTransactionError"}var a7=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(W("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Zs(r)},e.prototype.add=function(t){return W("SimpleDb","ADD",this.store.name,t,t),Zs(this.store.add(t))},e.prototype.get=function(t){var n=this;return Zs(this.store.get(t)).next(function(r){return r===void 0&&(r=null),W("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return W("SimpleDb","DELETE",this.store.name,t),Zs(this.store.delete(t))},e.prototype.count=function(){return W("SimpleDb","COUNT",this.store.name),Zs(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.Ft=function(t,n){W("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.Ot=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.$t=function(t){var n=this.cursor({});return new B(function(r,i){n.onerror=function(s){var a=oI(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new B(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new s7(l),h=n(l.primaryKey,l.value,c);if(h instanceof B){var d=h.catch(function(v){return c.done(),B.reject(v)});r.push(d)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return B.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Zs(e){return new B(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=oI(r.target.error);n(i)}})}var UP=!1;function oI(e){var t=Tl._t(Ia());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new j("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return UP||(UP=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jP=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return K(t,e),t}(ZF);function Jn(e,t){var n=H(e);return Tl.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sI=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&FQ(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&w1(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&w1(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(ve.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},xe())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&dl(this.mutations,t.mutations,function(n,r){return SP(n,r)})&&dl(this.baseMutations,t.baseMutations,function(n,r){return SP(n,r)})},e}(),u7=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){se(t.mutations.length===r.length);for(var i=jF(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),kg=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=ve.min()),a===void 0&&(a=ve.min()),l===void 0&&(l=An.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),t4=function(e){this.Lt=e};function b1(e,t){if(t.document)return HF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=te.fromSegments(t.noDocument.path),r=Il(t.noDocument.readTime),i=en.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=te.fromSegments(t.unknownDocument.path);return r=Il(t.unknownDocument.version),en.newUnknownDocument(s,r)}return Z()}function VP(e,t,n){var r=aI(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,g){return{name:hh(v,g.key),fields:g.data.toProto().mapValue.fields,updateTime:fh(v,g.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new lt(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=bl(t.version);return a=t.hasCommittedMutations,new lt(null,new r7(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),d=bl(t.version);return new lt(new i7(h,d),null,null,!0,r,i)}return Z()}function aI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function n4(e){var t=new Qn(e[0],e[1]);return ve.fromTimestamp(t)}function bl(e){var t=e.toTimestamp();return new n7(t.seconds,t.nanoseconds)}function Il(e){var t=new Qn(e.seconds,e.nanoseconds);return ve.fromTimestamp(t)}function ku(e,t){for(var n=(t.baseMutations||[]).map(function(c){return DP(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return DP(e.Lt,c)}),l=Qn.fromMillis(t.localWriteTimeMs);return new sI(t.batchId,l,n,a)}function af(e){var t,n,r=Il(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Il(e.lastLimboFreeSnapshotVersion):ve.min();return e.query.documents!==void 0?(se((n=e.query).documents.length===1),t=Fr(Hl(zF(n.documents[0])))):t=function(s){return Fr(QF(s))}(e.query),new kg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,An.fromBase64String(e.resumeToken))}function r4(e,t){var n,r=bl(t.snapshotVersion),i=bl(t.lastLimboFreeSnapshotVersion);n=um(t.target)?KF(e.Lt,t.target):GF(e.Lt,t.target);var s=t.resumeToken.toBase64();return new zn(t.targetId,Wh(t.target),r,s,t.sequenceNumber,i,n)}function uI(e){var t=QF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?CF(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l7=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return BP(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Il(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return BP(t).put({bundleId:(r=n).id,createTime:bl(Vt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return $P(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:uI(i.bundledQuery),readTime:Il(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return $P(t).put(function(r){return{name:r.name,readTime:bl(Vt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function BP(e){return Jn(e,wl.store)}function $P(e){return Jn(e,El.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c7=function(){function e(){this.Bt=new lI}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),B.resolve()},e.prototype.getCollectionParents=function(t,n){return B.resolve(this.Bt.getEntries(n))},e}(),lI=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Pt(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Pt(Ae.comparator)).toArray()},e}(),f7=function(){function e(){this.qt=new lI}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:oi(s)};return qP(t).put(a)}return B.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[yF(n),""],!1,!0);return qP(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(Gi(c.parent))}return r})},e}();function qP(e){return Jn(e,da.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_i=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(e,t,n){var r=e.store(We.store),i=e.store(un.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.Ot({range:a},function(w,b,S){return l++,S.delete()});s.push(c.next(function(){se(l===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var g=v[d],y=un.key(t,g.key.path,n.batchId);s.push(i.delete(y)),h.push(g.key)}return B.waitFor(s).next(function(){return h})}function hm(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Z();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(41943040,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);var h7=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Qt={}}return e.Kt=function(t,n,r,i){return se(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bo(t).Ot({index:We.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Nu(t),l=bo(t);return l.add({}).next(function(c){se(typeof c=="number");for(var h=new sI(c,n,r,i),d=function(E,I,C){var P=C.baseMutations.map(function(x){return fm(E.Lt,x)}),O=C.mutations.map(function(x){return fm(E.Lt,x)});return new We(I,C.batchId,C.localWriteTime.toMillis(),P,O)}(s.R,s.userId,h),v=[],g=new Pt(function(E,I){return Ee(E.canonicalString(),I.canonicalString())}),y=0,w=i;y<w.length;y++){var b=w[y],S=un.key(s.userId,b.key.path,c);g=g.add(b.key.path.popLast()),v.push(l.put(d)),v.push(a.put(S,un.PLACEHOLDER))}return g.forEach(function(E){v.push(s.Ut.addToCollectionParentIndex(t,E))}),t.addOnCommittedListener(function(){s.Qt[c]=h.keys()}),B.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return bo(t).get(n).next(function(i){return i?(se(i.userId===r.userId),ku(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Qt[n]?B.resolve(this.Qt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Qt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return bo(t).Ot({index:We.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(se(c.batchId>=i),a=ku(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return bo(t).Ot({index:We.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bo(t).Nt(We.userMutationsIndex,r).next(function(i){return i.map(function(s){return ku(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=un.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Nu(t).Ot({range:s},function(l,c,h){var d=l[0],v=l[1],g=l[2],y=Gi(v);if(d===r.userId&&n.path.isEqual(y))return bo(t).get(g).next(function(w){if(!w)throw Z();se(w.userId===r.userId),a.push(ku(r.R,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Pt(Ee),s=[];return n.forEach(function(a){var l=un.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Nu(t).Ot({range:c},function(d,v,g){var y=d[0],w=d[1],b=d[2],S=Gi(w);y===r.userId&&a.path.isEqual(S)?i=i.add(b):g.done()});s.push(h)}),B.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=un.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new Pt(Ee);return Nu(t).Ot({range:l},function(h,d,v){var g=h[0],y=h[1],w=h[2],b=Gi(y);g===r.userId&&i.isPrefixOf(b)?b.length===s&&(c=c.add(w)):v.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(bo(t).get(a).next(function(l){if(l===null)throw Z();se(l.userId===r.userId),i.push(ku(r.R,l))}))}),B.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return i4(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),B.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Qt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return B.resolve();var i=IDBKeyRange.lowerBound(un.prefixForUser(n.userId)),s=[];return Nu(t).Ot({range:i},function(a,l,c){if(a[0]===n.userId){var h=Gi(a[1]);s.push(h)}else c.done()}).next(function(){se(s.length===0)})})},e.prototype.containsKey=function(t,n){return o4(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return s4(t).get(this.userId).next(function(r){return r||new Zo(n.userId,-1,"")})},e}();function o4(e,t,n){var r=un.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Nu(e).Ot({range:s,kt:!0},function(l,c,h){var d=l[0],v=l[1];l[2],d===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function bo(e){return Jn(e,We.store)}function Nu(e){return Jn(e,un.store)}function s4(e){return Jn(e,Zo.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dm=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),d7=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new dm(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ve.fromTimestamp(new Qn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Iu(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return se(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return Iu(t).Ot(function(l,c){var h=af(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return B.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Iu(t).Ot(function(r,i){var s=af(i);n(s)})},e.prototype.Xt=function(t){return WP(t).get(ir.key).next(function(n){return se(n!==null),n})},e.prototype.Zt=function(t,n){return WP(t).put(ir.key,n)},e.prototype.te=function(t,n){return Iu(t).put(r4(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Wh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Iu(t).Ot({range:i,index:zn.queryTargetsIndexName},function(a,l,c){var h=af(l);bg(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=xo(t);return n.forEach(function(l){var c=oi(l.path);s.push(a.put(new Qt(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),B.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=xo(t);return B.forEach(n,function(a){var l=oi(a.path);return B.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=xo(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=xo(t),s=xe();return i.Ot({range:r,kt:!0},function(a,l,c){var h=Gi(a[1]),d=new te(h);s=s.add(d)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=oi(n.path),i=IDBKeyRange.bound([r],[yF(r)],!1,!0),s=0;return xo(t).Ot({index:Qt.documentTargetsIndex,kt:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Iu(t).get(n).next(function(r){return r?af(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(e){return Jn(e,zn.store)}function WP(e){return Jn(e,ir.store)}function xo(e){return Jn(e,Qt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(e){return R(this,void 0,void 0,function(){return A(this,function(t){if(e.code!==D.FAILED_PRECONDITION||e.message!==JF)throw e;return W("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=Ee(n,i);return a===0?Ee(r,s):a}var p7=function(){function e(t){this.ne=t,this.buffer=new Pt(HP),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();HP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),v7=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;W("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return za(i=s.sent())?(W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Wa(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),m7=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return B.resolve(ar.o);var i=new p7(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(zP)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),zP):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,d=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>d.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+g),i=d.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),d.nthSequenceNumber(t,i)}).next(function(g){return r=g,l=Date.now(),d.removeTargets(t,r,n)}).next(function(g){return s=g,c=Date.now(),d.removeOrphanedDocuments(t,r)}).next(function(g){return h=Date.now(),v1()<=me.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+g+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})})},e}(),g7=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new m7(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Pp(t,r)},e.prototype.removeReference=function(t,n,r){return Pp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Pp(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return s4(r).$t(function(a){return o4(r,a,i).next(function(l){return l&&(s=!0),B.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(d){if(!d)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),xo(t).delete([0,oi(l.path)])})});s.push(h)}}).next(function(){return B.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Pp(t,n)},e.prototype.we=function(t,n){var r,i=xo(t),s=ar.o;return i.Ot({index:Qt.documentTargetsIndex},function(a,l){var c=a[0],h=(a[1],l.path),d=l.sequenceNumber;c===0?(s!==ar.o&&n(new te(Gi(r)),s),s=d,r=h):s=ar.o}).next(function(){s!==ar.o&&n(new te(Gi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Pp(e,t){return xo(e).put(function(n,r){return new Qt(0,oi(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kl=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){zh(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return _F(this.inner)},e}(),a4=function(){function e(){this.changes=new Kl(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ve.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:en.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?B.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),y7=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Ao(t).put(Op(n),r)},e.prototype.removeEntry=function(t,n){var r=Ao(t),i=Op(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Ao(t).get(Op(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Ao(t).get(Op(n)).next(function(i){return{document:r.ye(n,i),size:hm(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Pr();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Pr(),s=new vn(te.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,hm(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return B.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Ao(t).Ot({range:i},function(l,c,h){for(var d=te.fromSegments(l);a&&te.comparator(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=Pr(),a=n.path.length+1,l={};if(r.isEqual(ve.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),d=aI(r);l.range=IDBKeyRange.lowerBound([h,d],!0),l.index=lt.collectionReadTimeIndex}return Ao(t).Ot(l,function(v,g,y){if(v.length===a){var w=b1(i.R,g);n.path.isPrefixOf(w.key.path)?Kh(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new _7(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return KP(t).get(Ei.key).next(function(n){return se(!!n),n})},e.prototype.me=function(t,n){return KP(t).put(Ei.key,n)},e.prototype.ye=function(t,n){if(n){var r=b1(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ve.min()))return r}return en.newInvalidDocument(t)},e}(),_7=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Kl(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return K(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new Pt(function(l,c){return Ee(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var d=VP(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var v=hm(d);s+=v-h,i.push(r.Ie.addEntry(n,l,d))}else if(s-=h,r.trackRemovals){var g=VP(r.Ie.R,en.newNoDocument(l,ve.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,g))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),B.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(a4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(e){return Jn(e,Ei.store)}function Ao(e){return Jn(e,lt.store)}function Op(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w7=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;se(r<i&&r>=0&&i<=11);var a=new e4("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(rr.store)}(t),function(c){c.createObjectStore(Zo.store,{keyPath:Zo.keyPath}),c.createObjectStore(We.store,{keyPath:We.keyPath,autoIncrement:!0}).createIndex(We.userMutationsIndex,We.userMutationsKeyPath,{unique:!0}),c.createObjectStore(un.store)}(t),GP(t),function(c){c.createObjectStore(lt.store)}(t));var l=B.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Qt.store),c.deleteObjectStore(zn.store),c.deleteObjectStore(ir.store)}(t),GP(t)),l=l.next(function(){return function(c){var h=c.store(ir.store),d=new ir(0,0,ve.min().toTimestamp(),0);return h.put(ir.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(We.store).Nt().next(function(d){c.deleteObjectStore(We.store),c.createObjectStore(We.store,{keyPath:We.keyPath,autoIncrement:!0}).createIndex(We.userMutationsIndex,We.userMutationsKeyPath,{unique:!0});var v=h.store(We.store),g=d.map(function(y){return v.put(y)});return B.waitFor(g)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(Xi.store,{keyPath:Xi.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(Ei.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(lt.store);h.createIndex(lt.readTimeIndex,lt.readTimeIndexPath,{unique:!1}),h.createIndex(lt.collectionReadTimeIndex,lt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(wl.store,{keyPath:wl.keyPath})})(t),function(c){c.createObjectStore(El.store,{keyPath:El.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(lt.store).Ot(function(r,i){n+=hm(i)}).next(function(){var r=new Ei(n);return t.store(Ei.store).put(Ei.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Zo.store),i=t.store(We.store);return r.Nt().next(function(s){return B.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(We.userMutationsIndex,l).next(function(c){return B.forEach(c,function(h){se(h.userId===a.userId);var d=ku(n.R,h);return i4(t,a.userId,d).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Qt.store),r=t.store(lt.store);return t.store(ir.store).get(ir.key).next(function(i){var s=[];return r.Ot(function(a,l){var c=new Ae(a),h=function(d){return[0,oi(d)]}(c);s.push(n.get(h).next(function(d){return d?B.resolve():function(v){return n.put(new Qt(0,oi(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return B.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(da.store,{keyPath:da.keyPath});var r=n.store(da.store),i=new lI,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:oi(c)})}};return n.store(lt.store).Ot({kt:!0},function(a,l){var c=new Ae(a);return s(c.popLast())}).next(function(){return n.store(un.store).Ot({kt:!0},function(a,l){a[0];var c=a[1],h=(a[2],Gi(c));return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(zn.store);return r.Ot(function(i,s){var a=af(s),l=r4(n.R,a);return r.put(l)})},e}();function GP(e){e.createObjectStore(Qt.store,{keyPath:Qt.keyPath}).createIndex(Qt.documentTargetsIndex,Qt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(zn.store,{keyPath:zn.keyPath}).createIndex(zn.queryTargetsIndexName,zn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ir.store)}var yw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",E7=function(){function e(t,n,r,i,s,a,l,c,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new j(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new g7(this,i),this.Le=n+"main",this.R=new t4(c),this.Be=new Tl(this.Le,11,new w7(this.R)),this.qe=new d7(this.referenceDelegate,this.R),this.Ut=new f7,this.Ue=function(v,g){return new y7(v,g)}(this.R,this.Ut),this.Qe=new l7,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,d===!1&&Tt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new j(D.FAILED_PRECONDITION,yw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new ar(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return R(n,void 0,void 0,function(){return A(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return R(n,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return R(n,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return xp(n).put(new Xi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(za(n))return W("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Xc(t).get(rr.key).next(function(r){return B.resolve(n.tn(r))})},e.prototype.en=function(t){return xp(t).delete(this.clientId)},e.prototype.nn=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=Jn(l,Xi.store);return c.Nt().next(function(h){var d=s.rn(h,18e5),v=h.filter(function(g){return d.indexOf(g)===-1});return B.forEach(v,function(g){return c.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Ke)for(n=0,r=t;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?B.resolve(!0):Xc(t).get(rr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new j(D.FAILED_PRECONDITION,yw);return!1}}return!(!n.networkEnabled||!n.inForeground)||xp(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&W("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return R(this,void 0,void 0,function(){var t=this;return A(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[rr.store,Xi.store],function(r){var i=new jP(r,ar.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return xp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return h7.Kt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var i=this;W("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,o7,function(l){return s=new jP(l,i.Ne?i.Ne.next():ar.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw Tt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new j(D.FAILED_PRECONDITION,JF);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Xc(t).get(rr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new j(D.FAILED_PRECONDITION,yw)})},e.prototype.Ze=function(t){var n=new rr(this.clientId,this.allowTabSynchronization,Date.now());return Xc(t).put(rr.key,n)},e.yt=function(){return Tl.yt()},e.prototype.Xe=function(t){var n=this,r=Xc(t);return r.get(rr.key).next(function(i){return n.tn(i)?(W("IndexedDbPersistence","Releasing primary lease."),r.delete(rr.key)):B.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Tt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return W("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Tt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Tt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Xc(e){return Jn(e,rr.store)}function xp(e){return Jn(e,Xi.store)}function cI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var T7=function(e,t){this.progress=e,this.wn=t},u4=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):eI(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new te(n)).next(function(r){var i=E1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=E1();return this.Ut.getCollectionParents(t,s).next(function(l){return B.forEach(l,function(c){var h=function(d,v){return new uo(v,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(d){d.forEach(function(v,g){a=a.insert(v,g)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],g=0,y=v.mutations;g<y.length;g++){var w=y[g],b=w.key,S=i.get(b);S==null&&(S=en.newInvalidDocument(b),i=i.insert(b,S)),w1(w,S,v.localWriteTime),S.isFoundDocument()||(i=i.remove(b))}})}).next(function(){return i.forEach(function(l,c){Kh(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=xe(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof ws&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(g,y){y.isFoundDocument()&&(d=d.insert(g,y))}),d})},e}(),b7=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=xe(),i=xe(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),l4=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ve.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(ev(n)||cm(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(v1()<=me.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_1(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new Pt(NF(t));return n.forEach(function(i,s){Kh(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return v1()<=me.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",_1(n)),this.Sn.getDocumentsMatchingQuery(t,n,ve.min())},e}(),I7=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.Fn=new vn(Ee),this.kn=new Kl(function(s){return Wh(s)},bg),this.On=ve.min(),this._n=t.getMutationQueue(r),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new u4(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(e,t,n,r){return new I7(e,t,n,r)}function f4(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=H(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new u4(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var d=[],v=[],g=xe(),y=0,w=c;y<w.length;y++){var b=w[y];d.push(b.batchId);for(var S=0,E=b.mutations;S<E.length;S++){var I=E[S];g=g.add(I.key)}}for(var C=0,P=h;C<P.length;C++){var O=P[C];v.push(O.batchId);for(var x=0,V=O.mutations;x<V.length;x++){var M=V[x];g=g.add(M.key)}}return i.pn(l,g).next(function(re){return{Ln:re,removedBatchIds:d,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function S7(e,t){var n=H(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.$n.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var d=c.batch,v=d.keys(),g=B.resolve();return v.forEach(function(y){g=g.next(function(){return h.getEntry(l,y)}).next(function(w){var b=c.docVersions.get(y);se(b!==null),w.version.compareTo(b)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&h.addEntry(w,c.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(l,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function h4(e){var t=H(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function C7(e,t){var n=H(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var l=[];t.targetChanges.forEach(function(d,v){var g=i.get(v);if(g){l.push(n.qe.removeMatchingKeys(s,d.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,d.addedDocuments,v)}));var y=d.resumeToken;if(y.approximateByteSize()>0){var w=g.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,w),function(b,S,E){return se(S.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,w,d)&&l.push(n.qe.updateTargetData(s,w))}}});var c=Pr();if(t.documentUpdates.forEach(function(d,v){t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(d4(s,a,t.documentUpdates,r,void 0).next(function(d){c=d})),!r.isEqual(ve.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(d){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return B.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.Fn=i,s})}function d4(e,t,n,r,i){var s=xe();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Pr();return n.forEach(function(c,h){var d=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(ve.min())?(t.removeEntry(c,v),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h,v),l=l.insert(c,h)):W("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),l})}function k7(e,t){var n=H(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Sl(e,t){var n=H(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,B.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new kg(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function Cl(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:r=H(e),i=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!za(a=l.sent()))throw a;return W("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}})})}function pm(e,t,n){var r=H(e),i=ve.min(),s=xe();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var d=H(l),v=d.kn.get(h);return v!==void 0?B.resolve(d.Fn.get(v)):d.qe.getTargetData(c,h)}(r,a,Fr(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:ve.min(),n?s:xe())}).next(function(l){return{documents:l,Bn:s}})})}function p4(e,t){var n=H(e),r=H(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function v4(e){var t=H(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=H(r),l=Pr(),c=aI(s),h=Ao(i),d=IDBKeyRange.lowerBound(c,!0);return h.Ot({index:lt.readTimeIndex,range:d},function(v,g){var y=b1(a.R,g);l=l.insert(y.key,y),c=g.readTime}).next(function(){return{wn:l,readTime:n4(c)}})}(t.$n,n,t.On)}).then(function(n){var r=n.wn,i=n.readTime;return t.On=i,r})}function N7(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,(t=H(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Ao(i),a=ve.min();return s.Ot({index:lt.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=n4(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.On=r})]})})}function A7(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v,g,y;return A(this,function(w){switch(w.label){case 0:for(i=H(e),s=xe(),a=Pr(),l=jF(),c=0,h=n;c<h.length;c++)d=h[c],v=t.qn(d.metadata.name),d.document&&(s=s.add(v)),a=a.insert(v,t.Un(d)),l=l.insert(v,t.Qn(d.metadata.readTime));return g=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Sl(i,function(b){return Fr(Hl(Ae.fromString("__bundle__/docs/"+b)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(b){return d4(b,g,a,ve.min(),l).next(function(S){return g.apply(b),S}).next(function(S){return i.qe.removeMatchingKeysForTargetId(b,y.targetId).next(function(){return i.qe.addMatchingKeys(b,s,y.targetId)}).next(function(){return i.Mn.En(b,S)}).next(function(){return S})})})]}})})}function R7(e,t,n){return n===void 0&&(n=xe()),R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,Sl(e,Fr(uI(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=H(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=Vt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Qe.saveNamedQuery(a,t);var c=r.withResumeToken(An.EMPTY_BYTE_STRING,l);return i.Fn=i.Fn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P7=function(){function e(t){this.R=t,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return B.resolve(this.Kn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:Vt(r.createTime)}),B.resolve()},e.prototype.getNamedQuery=function(t,n){return B.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:uI(r.bundledQuery),readTime:Vt(r.readTime)}}(n)),B.resolve()},e}(),fI=function(){function e(){this.Wn=new Pt(Lt.Gn),this.zn=new Pt(Lt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Lt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Lt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new te(new Ae([])),i=new Lt(r,t),s=new Lt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new te(new Ae([])),r=new Lt(n,t),i=new Lt(n,t+1),s=xe();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Lt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Lt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return te.comparator(t.key,n.key)||Ee(t.ns,n.ns)},e.Hn=function(t,n){return Ee(t.ns,n.ns)||te.comparator(t.key,n.key)},e}(),O7=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Pt(Lt.Gn)}return e.prototype.checkEmpty=function(t){return B.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new sI(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new Lt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return B.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return B.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return B.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return B.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return B.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Lt(n,0),s=new Lt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),B.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Pt(Ee);return n.forEach(function(s){var a=new Lt(s,0),l=new Lt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),B.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));var a=new Lt(new te(s),0),l=new Pt(Ee);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),B.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;se(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return B.forEach(n.mutations,function(s){var a=new Lt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Lt(n,0),i=this.rs.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,B.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),x7=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new vn(te.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return B.resolve(r?r.document.clone():en.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Pr();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():en.newInvalidDocument(s))}),B.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Pr(),s=new te(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,d=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||Kh(n,d)&&(i=i.insert(d.key,d.clone()))}return B.resolve(i)},e.prototype.fs=function(t,n){return B.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new D7(this)},e.prototype.getSize=function(t){return B.resolve(this.size)},e}(),D7=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return K(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),B.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(a4),L7=function(){function e(t){this.persistence=t,this.ds=new Kl(function(n){return Wh(n)},bg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ws=0,this._s=new fI,this.targetCount=0,this.ys=dm.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),B.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return B.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return B.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),B.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),B.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new dm(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,B.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),B.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,B.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),B.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return B.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return B.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),B.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),B.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),B.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return B.resolve(r)},e.prototype.containsKey=function(t,n){return B.resolve(this._s.containsKey(n))},e}(),M7=function(){function e(t,n){var r=this;this.gs={},this.Ne=new ar(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new L7(this),this.Ut=new c7,this.Ue=function(i,s){return new x7(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new t4(n),this.Qe=new P7(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new O7(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var i=this;W("MemoryPersistence","Starting transaction:",t);var s=new F7(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return B.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),F7=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return K(t,e),t}(ZF),U7=function(){function e(t){this.persistence=t,this.As=new fI,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Z()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),B.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),B.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),B.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.vs,function(i){var s=te.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return B.or([function(){return B.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Vn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(e,t){return"firestore_clients_"+e+"_"+t}function YP(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function _w(e,t){return"firestore_targets_"+e+"_"+t}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid");var XP=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new j(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(Tt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),ww=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new j(i.error.code,i.error.message)),s?new e(t,i.state,r):(Tt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),JP=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Cg(),a=0;i&&a<r.activeTargetIds.length;++a)i=TF(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(Tt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),j7=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Tt("SharedClientState","Failed to parse online state: "+t),null)},e}(),I1=function(){function e(){this.activeTargetIds=Cg()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Ew=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new vn(Ee),this.started=!1,this.Os=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.$s=QP(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new I1),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Qs=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,d,v,g=this;return A(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(QP(this.persistenceKey,i)))&&(a=JP.Vs(i,s))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Ks(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,d=this.Os;h<d.length;h++)v=d[h],this.Fs(v);return this.Os=[],this.window.addEventListener("unload",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(_w(this.persistenceKey,t));if(r){var i=ww.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Ks(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(_w(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return W("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){W("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){W("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(W("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void Tt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return R(n,void 0,void 0,function(){var i,s,a,l,c,h;return A(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var g=ar.o;if(v!=null)try{var y=JSON.parse(v);se(typeof y=="number"),g=y}catch(w){Tt("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(r.newValue))!==ar.o&&this.sequenceNumberHandler(h);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new XP(this.currentUser,t,n,r),s=YP(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=YP(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=_w(this.persistenceKey,t),s=new ww(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return JP.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return XP.Vs(new Vn(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return ww.Vs(i,n)},e.prototype.js=function(t){return j7.Vs(t)},e.prototype.ii=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(W("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.ks=i})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Cg();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),m4=function(){function e(){this.li=new I1,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new I1,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),V7=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),ZP=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),B7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},$7=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),q7=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return K(t,e),t.prototype.ki=function(n,r,i,s){return new Promise(function(a,l){var c=new wQ;c.listenOnce(yQ.COMPLETE,function(){try{switch(c.getLastErrorCode()){case gw.NO_ERROR:var d=c.getResponseJson();W("Connection","XHR received:",JSON.stringify(d)),a(d);break;case gw.TIMEOUT:W("Connection",'RPC "'+n+'" timed out'),l(new j(D.DEADLINE_EXCEEDED,"Request time out"));break;case gw.HTTP_ERROR:var v=c.getStatus();if(W("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var g=c.getResponseJson().error;if(g&&g.status&&g.message){var y=function(w){var b=w.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(b)>=0?b:D.UNKNOWN}(g.status);l(new j(y,g.message))}else l(new j(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new j(D.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{W("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.$i=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=mQ(),a=gQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(l.initMessageHeaders,r),MT()||P2()||uW()||lW()||cW()||FT()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");W("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),d=!1,v=!1,g=new $7({Ei:function(w){v?W("Connection","Not sending because WebChannel is closed:",w):(d||(W("Connection","Opening WebChannel transport."),h.open(),d=!0),W("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,b,S){w.listen(b,function(E){try{S(E)}catch(I){setTimeout(function(){throw I},0)}})};return y(h,Ap.EventType.OPEN,function(){v||W("Connection","WebChannel transport opened.")}),y(h,Ap.EventType.CLOSE,function(){v||(v=!0,W("Connection","WebChannel transport closed"),g.Vi())}),y(h,Ap.EventType.ERROR,function(w){v||(v=!0,om("Connection","WebChannel transport errored:",w),g.Vi(new j(D.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ap.EventType.MESSAGE,function(w){var b;if(!v){var S=w.data[0];se(!!S);var E=S,I=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(I){W("Connection","WebChannel received error:",I);var C=I.status,P=function(x){var V=_t[x];if(V!==void 0)return UF(V)}(C),O=I.message;P===void 0&&(P=D.INTERNAL,O="Unknown error status: "+C+" with message "+I.message),v=!0,g.Vi(new j(P,O)),h.close()}else W("Connection","WebChannel received:",S),g.Si(S)}}),y(a,_Q.STAT_EVENT,function(w){w.stat===mP.PROXY?W("Connection","Detected buffering proxy"):w.stat===mP.NOPROXY&&W("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);W("RestConnection","Sending: ",s,r);var a={};return this.Fi(a,i),this.ki(t,s,a,r).then(function(l){return W("RestConnection","Received: ",l),l},function(l){throw om("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.Oi=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=B7[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return typeof window<"u"?window:null}function rv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e){return new GQ(e,!0)}var hI=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Qi),s=Math.max(0,r-i);s>0&&W("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),y4=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new hI(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return R(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return R(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Tt(n.toString()),Tt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new j(D.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return R(t,void 0,void 0,function(){return A(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return W("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),z7=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return K(t,e),t.prototype.wr=function(n){return this.Hi.$i("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:Z()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(S,E){return S.I?(se(E===void 0||typeof E=="string"),An.fromBase64String(E||"")):(se(E===void 0||E instanceof Uint8Array),An.fromUint8Array(E||new Uint8Array))}(s,a.targetChange.resumeToken),v=(g=a.targetChange.cause)&&function(S){var E=S.code===void 0?D.UNKNOWN:UF(S.code);return new j(E,S.message||"")}(g);l=new BF(c,h,d,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=Si(s,c.document.name),d=Vt(c.document.updateTime);var g=new or({mapValue:{fields:c.document.fields}}),y=(v=en.newFoundDocument(h,d,g),c.targetIds||[]),w=c.removedTargetIds||[];l=new nv(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=Si(s,c.document),d=c.readTime?Vt(c.readTime):ve.min(),g=en.newNoDocument(h,d),v=c.removedTargetIds||[],l=new nv([],v,g.key,g);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=Si(s,c.document),d=c.removedTargetIds||[],l=new nv([],d,h,null);else{if(!("filter"in a))return Z();a.filter;var b=a.filter;b.targetId,c=b.count||0,h=new jQ(c),d=b.targetId,l=new VF(d,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return ve.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ve.min():a.readTime?Vt(a.readTime):ve.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=dh(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=um(c)?{documents:KF(s,c)}:{query:GF(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=$F(s,a.resumeToken):a.snapshotVersion.compareTo(ve.min())>0&&(l.readTime=fh(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Z()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=dh(this.R),r.removeTarget=n,this.cr(r)},t}(y4),W7=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return K(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.$i("Write",n)},t.prototype.onMessage=function(n){if(se(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(se(a!==void 0),s.map(function(l){return function(c,h){var d=c.updateTime?Vt(c.updateTime):Vt(h);return d.isEqual(ve.min())&&(d=Vt(h)),new MQ(d,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=Vt(n.commitTime);return this.listener.Tr(i,r)}return se(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=dh(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return fm(r.R,s)})};this.cr(i)},t}(y4),H7=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return K(t,e),t.prototype.br=function(){if(this.Rr)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(D.UNKNOWN,a.toString())})},t.prototype.Oi=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Oi(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(D.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),K7=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Tt(n),this.Vr=!1):W("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),G7=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return R(s,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return Es(this)?(W("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return R(this,void 0,void 0,function(){var h;return A(this,function(d){switch(d.label){case 0:return(h=H(c)).$r.add(4),[4,Gl(h)];case 1:return d.sent(),h.Br.set("Unknown"),h.$r.delete(4),[4,Jh(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new K7(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!Es(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Gl(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ng(e,t){var n=H(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),vI(n)?pI(n):Yl(n).er()&&dI(n,t))}function ph(e,t){var n=H(e),r=Yl(n);n.Or.delete(t),r.er()&&_4(n,t),n.Or.size===0&&(r.er()?r.ir():Es(n)&&n.Br.set("Unknown"))}function dI(e,t){e.qr.U(t.targetId),Yl(e).mr(t)}function _4(e,t){e.qr.U(t),Yl(e).yr(t)}function pI(e){e.qr=new WQ({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Yl(e).start(),e.Br.Sr()}function vI(e){return Es(e)&&!Yl(e).tr()&&e.Or.size>0}function Es(e){return H(e).$r.size===0}function w4(e){e.qr=void 0}function Q7(e){return R(this,void 0,void 0,function(){return A(this,function(t){return e.Or.forEach(function(n,r){dI(e,n)}),[2]})})}function Y7(e,t){return R(this,void 0,void 0,function(){return A(this,function(n){return w4(e),vI(e)?(e.Br.Nr(t),pI(e)):e.Br.set("Unknown"),[2]})})}function X7(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof BF&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return R(this,void 0,void 0,function(){var h,d,v,g;return A(this,function(y){switch(y.label){case 0:h=c.cause,d=0,v=c.targetIds,y.label=1;case 1:return d<v.length?(g=v[d],l.Or.has(g)?[4,l.remoteSyncer.rejectListen(g,h)]:[3,3]):[3,5];case 2:y.sent(),l.Or.delete(g),l.qr.removeTarget(g),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),W("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,vm(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof nv?e.qr.X(t):t instanceof VF?e.qr.rt(t):e.qr.et(t),n.isEqual(ve.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,h4(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(d,v){if(d.resumeToken.approximateByteSize()>0){var g=l.Or.get(v);g&&l.Or.set(v,g.withResumeToken(d.resumeToken,c))}}),h.targetMismatches.forEach(function(d){var v=l.Or.get(d);if(v){l.Or.set(d,v.withResumeToken(An.EMPTY_BYTE_STRING,v.snapshotVersion)),_4(l,d);var g=new kg(v.target,d,1,v.sequenceNumber);dI(l,g)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return W("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,vm(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function vm(e,t,n){return R(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:if(!za(t))throw t;return e.$r.add(1),[4,Gl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return h4(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return A(this,function(s){switch(s.label){case 0:return W("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.$r.delete(1),[4,Jh(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function E4(e,t){return t().catch(function(n){return vm(e,n,t)})}function Ql(e){return R(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:t=H(e),n=fs(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Es(l)&&l.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,k7(t.localStore,r)];case 3:return(i=a.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.kr.push(c);var h=fs(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,vm(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return T4(t)&&b4(t),[2]}})})}function T4(e){return Es(e)&&!fs(e).tr()&&e.kr.length>0}function b4(e){fs(e).start()}function J7(e){return R(this,void 0,void 0,function(){return A(this,function(t){return fs(e).Ar(),[2]})})}function Z7(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){for(t=fs(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function eY(e,t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),i=u7.from(r,t,n),[4,E4(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Ql(e)];case 2:return s.sent(),[2]}})})}function tY(e,t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t&&fs(e).pr?[4,function(r,i){return R(this,void 0,void 0,function(){var s,a;return A(this,function(l){switch(l.label){case 0:return FF(a=i.code)&&a!==D.ABORTED?(s=r.kr.shift(),fs(r).sr(),[4,E4(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Ql(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return T4(e)&&b4(e),[2]}})})}function S1(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=H(e),t?(n.$r.delete(2),[4,Jh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Gl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Yl(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=H(n);return s.br(),new z7(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:Q7.bind(null,e),Ri:Y7.bind(null,e),_r:X7.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),vI(e)?pI(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),w4(e),r.label=3;case 3:return[2]}})})})),e.Ur}function fs(e){var t=this;return e.Qr||(e.Qr=function(n,r,i){var s=H(n);return s.br(),new W7(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:J7.bind(null,e),Ri:tY.bind(null,e),Ir:Z7.bind(null,e),Tr:eY.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Qr.sr(),[4,Ql(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:r.sent(),e.kr.length>0&&(W("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Qr}var nY=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Xl(e,t){if(Tt("AsyncQueue",t+": "+e),za(e))return new j(D.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I4=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||te.comparator(n.key,r.key)}:function(n,r){return te.comparator(n.key,r.key)},this.keyedMap=E1(),this.sortedSet=new vn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),eO=function(){function e(){this.Kr=new vn(te.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Kr.get(n);r?t.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,t):t.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Kr=this.Kr.remove(n):t.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):Z():this.Kr=this.Kr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),mm=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,I4.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),rY=function(){this.Wr=void 0,this.listeners=[]},iY=function(){this.queries=new Kl(function(e){return kF(e)},Hh),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(n=H(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new rY),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=Xl(l,"Initialization of query '"+_1(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&yI(n),[2]}})})}function gI(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){return n=H(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function oY(e,t){for(var n=H(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,d=c.listeners;h<d.length;h++)d[h].Hr(a)&&(r=!0);c.Wr=a}}r&&yI(n)}function sY(e,t,n){var r=H(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function yI(e){e.Gr.forEach(function(t){t.next()})}var _I=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new mm(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=mm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),aY=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),tO=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Si(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?HF(this.R,t.document,!1):en.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},e.prototype.Qn=function(t){return Vt(t)},e}(),uY=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=S4(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new tO(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var d=h[c],v=(n.get(d)||xe()).add(l);n.set(d,v)}}return n},e.prototype.complete=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,A7(this.localStore,new tO(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,R7(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new T7(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C4=function(e){this.key=e},k4=function(e){this.key=e},N4=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=xe(),this.mutatedKeys=xe(),this.lo=NF(t),this.fo=new I4(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new eO,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=ev(this.query)&&s.size===this.query.limit?s.last():null,d=cm(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,y){var w=s.get(g),b=Kh(r.query,y)?y:null,S=!!w&&r.mutatedKeys.has(w.key),E=!!b&&(b.hasLocalMutations||r.mutatedKeys.has(b.key)&&b.hasCommittedMutations),I=!1;w&&b?w.data.isEqual(b.data)?S!==E&&(i.track({type:3,doc:b}),I=!0):r.yo(w,b)||(i.track({type:2,doc:b}),I=!0,(h&&r.lo(b,h)>0||d&&r.lo(b,d)<0)&&(c=!0)):!w&&b?(i.track({type:0,doc:b}),I=!0):w&&!b&&(i.track({type:1,doc:w}),I=!0,(h||d)&&(c=!0)),I&&(b?(l=l.add(b),a=E?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),ev(this.query)||cm(this.query))for(;l.size>this.query.limit;){var v=ev(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(d,v){return function(g,y){var w=function(b){switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return w(g)-w(y)}(d.type,v.type)||i.lo(d.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new mm(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new eO,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=xe(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new k4(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new C4(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=xe();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return mm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),lY=function(e,t,n){this.query=e,this.targetId=t,this.view=n},cY=function(e){this.key=e,this.bo=!1},fY=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Kl(function(l){return kF(l)},Hh),this.Vo=new Map,this.So=new Set,this.Do=new vn(te.comparator),this.Co=new Map,this.No=new fI,this.xo={},this.Fo=new Map,this.ko=dm.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),e}();function hY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return n=II(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Sl(n.localStore,Fr(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,wI(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&Ng(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function wI(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h;return A(this,function(d){switch(d.label){case 0:return e.$o=function(v,g,y){return function(w,b,S,E){return R(this,void 0,void 0,function(){var I,C,P;return A(this,function(O){switch(O.label){case 0:return I=b.view._o(S),I.Nn?[4,pm(w.localStore,b.query,!1).then(function(x){var V=x.documents;return b.view._o(V,I)})]:[3,2];case 1:I=O.sent(),O.label=2;case 2:return C=E&&E.targetChanges.get(b.targetId),P=b.view.applyChanges(I,w.isPrimaryClient,C),[2,(C1(w,b.targetId,P.To),P.snapshot)]}})})}(e,v,g,y)},[4,pm(e.localStore,t,!0)];case 1:return i=d.sent(),s=new N4(t,i.Bn),a=s._o(i.documents),l=rI.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),C1(e,n,c.To),h=new lY(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function dY(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=H(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Hh(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Cl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),ph(n.remoteStore,r.targetId),kl(n,r.targetId)}).catch(Wa)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return kl(n,r.targetId),[4,Cl(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function pY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:r=SI(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var d,v=H(c),g=Qn.now(),y=h.reduce(function(w,b){return w.add(b.key)},xe());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,y).next(function(b){d=b;for(var S=[],E=0,I=h;E<I.length;E++){var C=I[E],P=UQ(C,d.get(C.key));P!=null&&S.push(new ws(C.key,P,bF(P.toProto().mapValue),ln.exists(!0)))}return v._n.addMutationBatch(w,g,S,h)})}).then(function(w){return w.applyToLocalDocumentSet(d),{batchId:w.batchId,changes:d}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,d){var v=c.xo[c.currentUser.toKey()];v||(v=new vn(Ee)),v=v.insert(h,d),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,lo(r,i.changes)];case 3:return l.sent(),[4,Ql(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Xl(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function A4(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:n=H(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,C7(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?se(l.bo):s.removedDocuments.size>0&&(se(l.bo),l.bo=!1))}),[4,lo(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Wa(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function nO(e,t,n){var r=H(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=H(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,d){for(var v=0,g=d.listeners;v<g.length;v++)g[v].zr(a)&&(c=!0)}),c&&yI(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function vY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return(r=H(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new vn(te.comparator)).insert(s,en.newNoDocument(s,ve.min())),l=xe().add(s),c=new nI(ve.min(),new Map,new Pt(Ee),a,l),[4,A4(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),bI(r),[3,4];case 2:return[4,Cl(r.localStore,t,!1).then(function(){return kl(r,t,n)}).catch(Wa)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function mY(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:n=H(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,S7(n.localStore,t)];case 2:return i=s.sent(),TI(n,r,null),EI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,lo(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Wa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function gY(e,t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:r=H(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=H(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return c._n.lookupMutationBatch(h,l).next(function(v){return se(v!==null),d=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,d)})})}(r.localStore,t)];case 2:return i=s.sent(),TI(r,t,n),EI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,lo(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Wa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function yY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:Es((n=H(e)).remoteStore)||W("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=H(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return s=l.sent(),a=Xl(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function EI(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function TI(e,t,n){var r=H(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function kl(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||R4(e,a)})}function R4(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(ph(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),bI(e))}function C1(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof C4?(e.No.addReference(s.key,t),_Y(e,s)):s instanceof k4?(W("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||R4(e,s.key)):Z()}}function _Y(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(W("SyncEngine","New document in limbo: "+n),e.So.add(r),bI(e))}function bI(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new te(Ae.fromString(t)),r=e.ko.next();e.Co.set(r,new cY(n)),e.Do=e.Do.insert(n,r),Ng(e.remoteStore,new kg(Fr(Hl(n.path)),r,2,ar.o))}}function lo(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:return r=H(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.$o(h,t,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=b7.Pn(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return R(this,void 0,void 0,function(){var d,v,g,y,w,b,S,E,I;return A(this,function(C){switch(C.label){case 0:d=H(c),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return B.forEach(h,function(O){return B.forEach(O.bn,function(x){return d.persistence.referenceDelegate.addReference(P,O.targetId,x)}).next(function(){return B.forEach(O.vn,function(x){return d.persistence.referenceDelegate.removeReference(P,O.targetId,x)})})})})];case 2:return C.sent(),[3,4];case 3:if(!za(v=C.sent()))throw v;return W("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,y=h;g<y.length;g++)w=y[g],b=w.targetId,w.fromCache||(S=d.Fn.get(b),E=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(E),d.Fn=d.Fn.insert(b,I));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function wY(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return(n=H(e)).currentUser.isEqual(t)?[3,3]:(W("SyncEngine","User change. New user:",t.toKey()),[4,f4(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fo.forEach(function(l){l.forEach(function(c){c.reject(new j(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,lo(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function EY(e,t){var n=H(e),r=n.Co.get(t);if(r&&r.bo)return xe().add(r.key);var i=xe(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function TY(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,pm((n=H(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&C1(n,t.targetId,i.To),i)]}})})}function bY(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,v4((t=H(e)).localStore).then(function(r){return lo(t,r)})]})})}function IY(e,t,n,r){return R(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=H(l),d=H(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.jt(v,c).next(function(g){return g?h.Mn.pn(v,g):B.resolve(null)})})}((i=H(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Ql(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(TI(i,t,r||null),EI(i,t),function(l,c){H(H(l)._n).Gt(c)}(i.localStore,t)):Z(),a.label=4;case 4:return[4,lo(i,s)];case 5:return a.sent(),[3,7];case 6:W("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function SY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return A(this,function(d){switch(d.label){case 0:return II(n=H(e)),SI(n),t!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,rO(n,r.toArray())]);case 1:return i=d.sent(),n.Oo=!0,[4,S1(n.remoteStore,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)l=a[s],Ng(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.Oo===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,g){n.sharedClientState.isLocalQueryTarget(g)?c.push(g):h=h.then(function(){return kl(n,g),Cl(n.localStore,g,!0)}),ph(n.remoteStore,g)}),[4,h]);case 4:return d.sent(),[4,rO(n,c)];case 5:return d.sent(),function(v){var g=H(v);g.Co.forEach(function(y,w){ph(g.remoteStore,w)}),g.No.ts(),g.Co=new Map,g.Do=new vn(te.comparator)}(n),n.Oo=!1,[4,S1(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function rO(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,v,g,y,w,b,S;return A(this,function(E){switch(E.label){case 0:r=H(e),i=[],s=[],a=0,l=t,E.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(d=r.Vo.get(c))&&d.length!==0?[4,Sl(r.localStore,Fr(d[0]))]:[3,7]):[3,13];case 2:h=E.sent(),v=0,g=d,E.label=3;case 3:return v<g.length?(y=g[v],w=r.Po.get(y),[4,TY(r,w)]):[3,6];case 4:(b=E.sent()).snapshot&&s.push(b.snapshot),E.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,p4(r.localStore,c)];case 8:return S=E.sent(),[4,Sl(r.localStore,S)];case 9:return h=E.sent(),[4,wI(r,P4(S),c,!1)];case 10:E.sent(),E.label=11;case 11:i.push(h),E.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function P4(e){return SF(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function CY(e){var t=H(e);return H(H(t.localStore).persistence).fn()}function kY(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return A(this,function(l){switch(l.label){case 0:return(i=H(e)).Oo?(W("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,v4(i.localStore)];case 3:return s=l.sent(),a=nI.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,lo(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,Cl(i.localStore,t,!0)];case 6:return l.sent(),kl(i,t,r),[3,8];case 7:Z(),l.label=8;case 8:return[2]}})})}function NY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,v,g;return A(this,function(y){switch(y.label){case 0:if(!(r=II(e)).Oo)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(W("SyncEngine","Adding an already active target "+a),[3,5]):[4,p4(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,Sl(r.localStore,l)];case 3:return c=y.sent(),[4,wI(r,P4(l),c.targetId,!1)];case 4:y.sent(),Ng(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return A(this,function(b){switch(b.label){case 0:return r.Vo.has(w)?[4,Cl(r.localStore,w,!1).then(function(){ph(r.remoteStore,w),kl(r,w)}).catch(Wa)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(g=v[d],[5,h(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function II(e){var t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=A4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vY.bind(null,t),t.vo._r=oY.bind(null,t.eventManager),t.vo.Mo=sY.bind(null,t.eventManager),t}function SI(e){var t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gY.bind(null,t),t}function AY(e,t,n){var r=H(e);(function(i,s,a){return R(this,void 0,void 0,function(){var l,c,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(w,b){var S=H(w),E=Vt(b.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",function(I){return S.Qe.getBundleMetadata(I,b.id)}).then(function(I){return!!I&&I.createTime.compareTo(E)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(l)))];case 4:return a._updateProgress(S4(l)),c=new uY(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(d=y.sent())&&a._updateProgress(d),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=y.sent(),[4,lo(i,v.wn,void 0)];case 12:return y.sent(),[4,function(w,b){var S=H(w);return S.persistence.runTransaction("Save bundle","readwrite",function(E){return S.Qe.saveBundleMetadata(E,b)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return om("SyncEngine","Loading bundle failed with "+(g=y.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var O4=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.R=Xh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Qo=function(t){return c4(this.persistence,new l4,t.initialUser,this.R)},e.prototype.qo=function(t){return new M7(U7.bs,this.R)},e.prototype.Bo=function(t){return new m4},e.prototype.terminate=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),x4=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Ko=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return K(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,N7(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,SI(this.Ko.syncEngine)];case 4:return r.sent(),[4,Ql(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Qo=function(n){return c4(this.persistence,new l4,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new v7(r,n.asyncQueue)},t.prototype.qo=function(n){var r=cI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new E7(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,g4(),rv(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new m4},t}(O4),RY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Ko=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return K(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof Ew?(this.sharedClientState.syncEngine={ui:IY.bind(null,r),ai:kY.bind(null,r),hi:NY.bind(null,r),fn:CY.bind(null,r),ci:bY.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return R(i,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,SY(this.Ko.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=g4();if(!Ew.yt(r))throw new j(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=cI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Ew(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(x4),k1=function(){function e(){}return e.prototype.initialize=function(t,n){return R(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return nO(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wY.bind(null,this.syncEngine),[4,S1(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new iY},e.prototype.createDatastore=function(t){var n,r=Xh(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new q7(n));return function(s,a,l){return new H7(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return nO(l.syncEngine,c,0)},a=ZP.yt()?new ZP:new V7,new G7(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var d=new fY(r,i,s,a,l,c);return h&&(d.Oo=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=H(t),W("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,Gl(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return R(this,void 0,void 0,function(){var r;return A(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return R(this,void 0,void 0,function(){return A(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ag=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),PY=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new Rn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new aY(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),OY=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new j(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return R(this,void 0,void 0,function(){var l,c,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return l=H(s),c=dh(l.R)+"/documents",h={documents:a.map(function(w){return hh(l.R,w)})},[4,l.Oi("BatchGetDocuments",c,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(w){var b=function(S,E){return"found"in E?function(I,C){se(!!C.found),C.found.name,C.found.updateTime;var P=Si(I,C.found.name),O=Vt(C.found.updateTime),x=new or({mapValue:{fields:C.found.fields}});return en.newFoundDocument(P,O,x)}(S,E):"missing"in E?function(I,C){se(!!C.missing),se(!!C.readTime);var P=Si(I,C.missing),O=Vt(C.readTime);return en.newNoDocument(P,O)}(S,E):Z()}(l.R,w);v.set(b.key.toString(),b)}),g=[],[2,(a.forEach(function(w){var b=v.get(w.toString());se(!!b),g.push(b)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Yh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return R(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=te.fromPath(s);n.mutations.push(new tI(a,n.precondition(a)))}),[4,function(i,s){return R(this,void 0,void 0,function(){var a,l,c;return A(this,function(h){switch(h.label){case 0:return a=H(i),l=dh(a.R)+"/documents",c={writes:s.map(function(d){return fm(a.R,d)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Z();n=ve.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new j(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?ln.updateTime(n):ln.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ve.min()))throw new j(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ln.updateTime(n)}return ln.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),xY=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new hI(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return R(t,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){return n=new OY(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!qa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!FF(n)}return!1},e}(),DY=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vn.UNAUTHENTICATED,this.clientId=gF.u(),this.credentialListener=function(){},this.receivedInitialUser=new Rn,this.credentials.setChangeListener(function(s){W("FirestoreClient","Received user=",s.uid),i.user=s,i.credentialListener(s),i.receivedInitialUser.resolve()})}return e.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},e.prototype.setCredentialChangeListener=function(t){var n=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return n.credentialListener(n.user)})},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return R(t,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Xl(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(e,t){return R(this,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){r.isEqual(a)||(r=a,e.asyncQueue.enqueueRetryable(function(){return R(i,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,f4(t.localStore,a)];case 1:return l.sent(),[2]}})})}))}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function L4(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,CI(e)];case 1:return n=i.sent(),W("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return e.asyncQueue.enqueueRetryable(function(){return function(a,l){return R(this,void 0,void 0,function(){var c,h;return A(this,function(d){switch(d.label){case 0:return(c=H(a)).asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials"),h=Es(c),c.$r.add(3),[4,Gl(c)];case 1:return d.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return d.sent(),c.$r.delete(3),[4,Jh(c)];case 3:return d.sent(),[2]}})})}(t.remoteStore,s)})}),e.onlineComponents=t,[2]}})})}function CI(e){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(W("FirestoreClient","Using default OfflineComponentProvider"),[4,D4(e,new O4)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Rg(e){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(W("FirestoreClient","Using default OnlineComponentProvider"),[4,L4(e,new k1)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function oO(e){return CI(e).then(function(t){return t.persistence})}function kI(e){return CI(e).then(function(t){return t.localStore})}function sO(e){return Rg(e).then(function(t){return t.remoteStore})}function NI(e){return Rg(e).then(function(t){return t.syncEngine})}function Nl(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,Rg(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=hY.bind(null,t.syncEngine),n.onUnlisten=dY.bind(null,t.syncEngine),n)]}})})}function aO(e,t,n){var r=this;n===void 0&&(n={});var i=new Rn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(l,c,h,d,v){var g=new Ag({next:function(w){c.enqueueAndForget(function(){return gI(l,y)});var b=w.docs.has(h);!b&&w.fromCache?v.reject(new j(D.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&d&&d.source==="server"?v.reject(new j(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new _I(Hl(h.path),g,{includeMetadataChanges:!0,so:!0});return mI(l,y)},[4,Nl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function uO(e,t,n){var r=this;n===void 0&&(n={});var i=new Rn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(l,c,h,d,v){var g=new Ag({next:function(w){c.enqueueAndForget(function(){return gI(l,y)}),w.fromCache&&d.source==="server"?v.reject(new j(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new _I(h,g,{includeMetadataChanges:!0,so:!0});return mI(l,y)},[4,Nl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var LY=function(e,t,n,r,i,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a},gm=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),lO=new Map,M4=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},cO=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(Vn.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),MY=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),FY=function(){function e(t){var n=this;this.oc=null,this.currentUser=Vn.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){n.cc++,n.currentUser=n.uc(),n.receivedInitialUser=!0,n.changeListener&&n.changeListener(n.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(r){n.auth=r,n.oc&&n.auth.addAuthTokenListener(n.oc)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(W("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(se(typeof i.accessToken=="string"),new M4(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string"),new Vn(t)},e}(),UY=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},n=this.ac.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),e}(),jY=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r}return e.prototype.getToken=function(){return Promise.resolve(new UY(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(t){t(Vn.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(e,t,n){if(!n)throw new j(D.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function RI(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new j(D.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function F4(e,t,n,r){if(t===!0&&r===!0)throw new j(D.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function fO(e){if(!te.isDocumentKey(e))throw new j(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function hO(e){if(te.isDocumentKey(e))throw new j(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Pg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Z()}function ke(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pg(e);throw new j(D.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function dO(e,t){if(t<=0)throw new j(D.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pO=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new j(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new j(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,F4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),vh=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pO({}),this._settingsFrozen=!1,t instanceof gm?(this._databaseId=t,this._credentials=new cO):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new j(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gm(r.options.projectId)}(t),this._credentials=new FY(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new j(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pO(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new cO;switch(n.type){case"gapi":var r=n.client;return se(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new jY(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new j(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=lO.get(t))&&(W("ComponentProvider","Removing Datastore"),lO.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),rt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new es(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Yn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),es=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Hl(i))||this)._path=i,s.type="collection",s}return K(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new rt(this.firestore,null,new te(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=he(e),AI("collection","path",t),e instanceof vh)return hO(n=Ae.fromString.apply(Ae,ge([t],r))),new es(e,null,n);if(!(e instanceof rt||e instanceof es))throw new j(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hO(n=Ae.fromString.apply(Ae,ge([e.path],r)).child(Ae.fromString(t))),new es(e.firestore,null,n)}function iv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=he(e),arguments.length===1&&(t=gF.u()),AI("doc","path",t),e instanceof vh)return fO(n=Ae.fromString.apply(Ae,ge([t],r))),new rt(e,null,new te(n));if(!(e instanceof rt||e instanceof es))throw new j(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return fO(n=e._path.child(Ae.fromString.apply(Ae,ge([t],r)))),new rt(e.firestore,e instanceof es?e.converter:null,new te(n))}function j4(e,t){return e=he(e),t=he(t),(e instanceof rt||e instanceof es)&&(t instanceof rt||t instanceof es)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function V4(e,t){return e=he(e),t=he(t),e instanceof Yn&&t instanceof Yn&&e.firestore===t.firestore&&Hh(e._query,t._query)&&e.converter===t.converter}var VY=function(){function e(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new hI(this,"async_queue_retry"),this.Ec=function(){var r=rv();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=rv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=rv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(n){}):this.Ic(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.dc.push(t),n.Ac()})},e.prototype.Ac=function(){return R(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.dc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return r.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!za(t=r.sent()))throw t;return W("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return n.Ac()}),r.label=5;case 5:return[2]}})})},e.prototype.Ic=function(t){var n=this,r=this.fc.then(function(){return n.yc=!0,t().catch(function(i){throw n.mc=i,n.yc=!1,Tt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.yc=!1,i})});return this.fc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Tc(),this.gc.indexOf(t)>-1&&(n=0);var s=nY.createAndSchedule(this,t,n,r,function(a){return i.Rc(a)});return this._c.push(s),s},e.prototype.Tc=function(){this.mc&&Z()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,t=this.fc];case 1:n.sent(),n.label=2;case 2:if(t!==this.fc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.vc=function(t){for(var n=0,r=this._c;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Pc=function(t){var n=this;return this.bc().then(function(){n._c.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n._c;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.bc()})},e.prototype.Vc=function(t){this.gc.push(t)},e.prototype.Rc=function(t){var n=this._c.indexOf(t);this._c.splice(n,1)},e}();function Al(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var BY=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),$Y=-1,vt=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new VY,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return K(t,e),t.prototype._terminate=function(){return this._firestoreClient||B4(this),this._firestoreClient.terminate()},t}(vh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e){return e._firestoreClient||B4(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function B4(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new LY(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new DY(e._credentials,e._queue,r)}function vO(e,t,n){var r=this,i=new Rn;return e.asyncQueue.enqueue(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,D4(e,n)];case 1:return a.sent(),[4,L4(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function mO(e){if(e._initialized||e._terminated)throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new j(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Oa=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(An.fromBase64String(t))}catch(n){throw new j(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(An.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Ha=function(e){this._methodName=e},Og=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new j(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new j(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)},e}(),qY=/^__.*__$/,zY=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new ws(t,this.data,this.fieldMask,n,this.fieldTransforms):new Qh(t,this.data,n,this.fieldTransforms)},e}(),$4=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new ws(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var z4=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Sc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Cc({path:r,xc:!1});return i.Fc(t),i},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Cc({path:r,xc:!1});return i.Sc(),i},e.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(t){return ym(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},e.prototype.Fc=function(t){if(t.length===0)throw this.$c("Document fields must not be empty");if(q4(this.Dc)&&qY.test(t))throw this.$c('Document fields cannot begin and end with "__"')},e}(),WY=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Xh(t)}return e.prototype.Bc=function(t,n,r,i){return i===void 0&&(i=!1),new z4({Dc:t,methodName:n,Lc:r,path:Mr.emptyPath(),xc:!1,Mc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ka(e){var t=e._freezeSettings(),n=Xh(e._databaseId);return new WY(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xg(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Bc(s.merge||s.mergeFields?2:0,t,n,i);DI("Data must be an object, but it was:",a,r);var l,c,h=K4(r,a);if(s.merge)l=new pl(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,g=s.mergeFields;v<g.length;v++){var y=N1(t,g[v],n);if(!a.contains(y))throw new j(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Q4(d,y)||d.push(y)}l=new pl(d),c=a.fieldTransforms.filter(function(w){return l.covers(w.field)})}else l=null,c=a.fieldTransforms;return new zY(new or(h),l,c)}var PI=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype._toFieldTransform=function(n){if(n.Dc!==2)throw n.Dc===1?n.$c(this._methodName+"() can only appear at the top level of your update data"):n.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ha);function W4(e,t,n){return new z4({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var HY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype._toFieldTransform=function(n){return new Gh(n.path,new yl)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ha),KY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).qc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=W4(this,n,!0),i=this.qc.map(function(a){return Ga(a,r)}),s=new Ra(i);return new Gh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ha),GY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).qc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=W4(this,n,!0),i=this.qc.map(function(a){return Ga(a,r)}),s=new Pa(i);return new Gh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ha),QY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Uc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=new _l(n.R,PF(n.R,this.Uc));return new Gh(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ha);function OI(e,t,n,r){var i=e.Bc(1,t,n);DI("Data must be an object, but it was:",i,r);var s=[],a=or.empty();zh(r,function(c,h){var d=LI(t,c,n);h=he(h);var v=i.kc(d);if(h instanceof PI)s.push(d);else{var g=Ga(h,v);g!=null&&(s.push(d),a.set(d,g))}});var l=new pl(s);return new $4(a,l,i.fieldTransforms)}function xI(e,t,n,r,i,s){var a=e.Bc(1,t,n),l=[N1(t,r,n)],c=[i];if(s.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(N1(t,s[h])),c.push(s[h+1]);for(var d=[],v=or.empty(),g=l.length-1;g>=0;--g)if(!Q4(d,l[g])){var y=l[g],w=c[g];w=he(w);var b=a.kc(y);if(w instanceof PI)d.push(y);else{var S=Ga(w,b);S!=null&&(d.push(y),v.set(y,S))}}var E=new pl(d);return new $4(v,E,a.fieldTransforms)}function H4(e,t,n,r){return r===void 0&&(r=!1),Ga(n,e.Bc(r?4:3,t))}function Ga(e,t){if(G4(e=he(e)))return DI("Unsupported field value:",t,e),K4(e,t);if(e instanceof Ha)return function(n,r){if(!q4(r.Dc))throw r.$c(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.$c(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&t.Dc!==4)throw t.$c("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Ga(l[a],r.Oc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=he(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return PF(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Qn.fromDate(n);return{timestampValue:fh(r.R,i)}}if(n instanceof Qn)return i=new Qn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:fh(r.R,i)};if(n instanceof Og)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oa)return{bytesValue:$F(r.R,n._byteString)};if(n instanceof rt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.$c("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:iI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.$c("Unsupported field value: "+Pg(n))}(e,t)}function K4(e,t){var n={};return _F(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zh(e,function(r,i){var s=Ga(i,t.Nc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function G4(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Qn||e instanceof Og||e instanceof Oa||e instanceof rt||e instanceof Ha)}function DI(e,t,n){if(!G4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Pg(n);throw r==="an object"?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function N1(e,t,n){if((t=he(t))instanceof Ci)return t._internalPath;if(typeof t=="string")return LI(e,t);throw ym("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var YY=new RegExp("[~\\*/\\[\\]]");function LI(e,t,n){if(t.search(YY)>=0)throw ym("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ci.bind.apply(Ci,ge([void 0],t.split("."))))()._internalPath}catch{throw ym("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function ym(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new j(D.INVALID_ARGUMENT,(l+=". ")+e+c)}function Q4(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mh=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new rt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new XY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(_m("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),XY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(mh);function _m(e,t){return typeof t=="string"?LI(e,t):t instanceof Ci?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sa=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Ji=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return K(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(_m("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(mh),Nf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Ji),Do=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new sa(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Nf(r._firestore,r._userDataWriter,i.key,i,new sa(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){var c=new Nf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new sa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Nf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new sa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(d=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:JY(l.type),doc:c,oldIndex:h,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function JY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function Y4(e,t){return e instanceof Ji&&t instanceof Ji?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Do&&t instanceof Do&&e._firestore===t._firestore&&V4(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(e){if(cm(e)&&e.explicitOrderBy.length===0)throw new j(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zh=function(){};function Io(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var ZY=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qc=n,s.Kc=r,s.jc=i,s.type="where",s}return K(t,e),t.prototype._apply=function(n){var r=Ka(n.firestore),i=function(s,a,l,c,h,d,v){var g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new j(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){EO(v,d);for(var y=[],w=0,b=v;w<b.length;w++){var S=b[w];y.push(wO(c,s,S))}g={arrayValue:{values:y}}}else g=wO(c,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||EO(v,d),g=H4(l,"where",v,d==="in"||d==="not-in");var E=ur.create(h,d,g);return function(I,C){if(C.g()){var P=Zb(I);if(P!==null&&!P.isEqual(C.field))throw new j(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+C.field.toString()+"'");var O=Jb(I);O!==null&&Z4(I,C.field,O)}var x=function(V,M){for(var re=0,N=V.filters;re<N.length;re++){var $e=N[re];if(M.indexOf($e.op)>=0)return $e.op}return null}(I,function(V){switch(V){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(x!==null)throw x===C.op?new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+x.toString()+"' filters.")}(s,E),E}(n._query,0,r,n.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Yn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(Zh),e9=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qc=n,i.Wc=r,i.type="orderBy",i}return K(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Xu(s,a);return function(c,h){if(Jb(c)===null){var d=Zb(c);d!==null&&Z4(c,d,h.field)}}(i,l),l}(n._query,this.Qc,this.Wc);return new Yn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new uo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Zh),gO=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Gc=r,s.zc=i,s}return K(t,e),t.prototype._apply=function(n){return new Yn(n.firestore,n.converter,CF(n._query,this.Gc,this.zc))},t}(Zh),yO=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return K(t,e),t.prototype._apply=function(n){var r=J4(n,this.type,this.Hc,this.Jc);return new Yn(n.firestore,n.converter,function(i,s){return new uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(Zh),_O=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return K(t,e),t.prototype._apply=function(n){var r=J4(n,this.type,this.Hc,this.Jc);return new Yn(n.firestore,n.converter,function(i,s){return new uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(Zh);function J4(e,t,n,r){if(n[0]=he(n[0]),n[0]instanceof mh)return function(s,a,l,c,h){if(!c)throw new j(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var d=[],v=0,g=gl(s);v<g.length;v++){var y=g[v];if(y.field.isKeyField())d.push(am(a,c.key));else{var w=c.data.field(y.field);if(Qb(w))throw new j(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var b=y.field.canonicalString();throw new j(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+b+"' (used as the orderBy) does not exist.")}d.push(w)}}return new ch(d,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ka(e.firestore);return function(s,a,l,c,h,d){var v=s.explicitOrderBy;if(h.length>v.length)throw new j(D.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.isKeyField()){if(typeof w!="string")throw new j(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!eI(s)&&w.indexOf("/")!==-1)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var b=s.path.child(Ae.fromString(w));if(!te.isDocumentKey(b))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+b+"' is not because it contains an odd number of segments.");var S=new te(b);g.push(am(a,S))}else{var E=H4(l,c,w);g.push(E)}}return new ch(g,d)}(e._query,e.firestore._databaseId,i,t,n,r)}function wO(e,t,n){if(typeof(n=he(n))=="string"){if(n==="")throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!eI(t)&&n.indexOf("/")!==-1)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ae.fromString(n));if(!te.isDocumentKey(r))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return am(e,new te(r))}if(n instanceof rt)return am(e,n._key);throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pg(n)+".")}function EO(e,t){if(!Array.isArray(e)||e.length===0)throw new j(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new j(D.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Z4(e,t,n){if(!n.isEqual(t))throw new j(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MI=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),cs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(vl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Z()}},e.prototype.convertObject=function(t,n){var r=this,i={};return zh(t.fields||{},function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new Og(wt(t.latitude),wt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=EF(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uh(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=ls(t);return new Qn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Ae.fromString(t);se(XF(r));var i=new gm(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Tt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var t9=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new Oa(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new rt(this.firestore,null,r)},t}(MI),n9=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ka(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Lo(t,this._firestore),s=Dg(i.converter,n,r),a=xg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ln.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Lo(t,this._firestore);return a=typeof(n=he(n))=="string"||n instanceof Ci?xI(this._dataReader,"WriteBatch.update",l._key,n,r,i):OI(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,ln.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Lo(t,this._firestore);return this._mutations=this._mutations.concat(new Yh(n._key,ln.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new j(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(e,t){if((e=he(e)).firestore!==t)throw new j(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pa=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new Oa(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new rt(this.firestore,null,r)},t}(MI);function TO(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ke(e,rt);var s=ke(e.firestore,vt),a=Ka(s);return gh(s,[(typeof(t=he(t))=="string"||t instanceof Ci?xI(a,"updateDoc",e._key,t,n,r):OI(a,"updateDoc",e._key,t)).toMutation(e._key,ln.exists(!0))])}function eU(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=he(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||Al(i[l])||(a=i[l],l++);var c,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(Al(i[l])){var g=i[l];i[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),i[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[l+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof rt)h=ke(e.firestore,vt),d=Hl(e._key.path),c={next:function(b){i[l]&&i[l](A1(h,e,b))},error:i[l+1],complete:i[l+2]};else{var y=ke(e,Yn);h=ke(y.firestore,vt),d=y._query;var w=new pa(h);c={next:function(b){i[l]&&i[l](new Do(h,w,y,b))},error:i[l+1],complete:i[l+2]},X4(e._query)}return function(b,S,E,I){var C=this,P=new Ag(I),O=new _I(S,P,E);return b.asyncQueue.enqueueAndForget(function(){return R(C,void 0,void 0,function(){var x;return A(this,function(V){switch(V.label){case 0:return x=mI,[4,Nl(b)];case 1:return[2,x.apply(void 0,[V.sent(),O])]}})})}),function(){P.Wo(),b.asyncQueue.enqueueAndForget(function(){return R(C,void 0,void 0,function(){var x;return A(this,function(V){switch(V.label){case 0:return x=gI,[4,Nl(b)];case 1:return[2,x.apply(void 0,[V.sent(),O])]}})})})}}(jt(h),d,v,c)}function gh(e,t){return function(n,r){var i=this,s=new Rn;return n.asyncQueue.enqueueAndForget(function(){return R(i,void 0,void 0,function(){var a;return A(this,function(l){switch(l.label){case 0:return a=pY,[4,NI(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(jt(e),t)}function A1(e,t,n){var r=n.docs.get(t._key),i=new pa(e);return new Ji(e,i,t._key,r,new sa(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r9=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return K(t,e),t.prototype.get=function(n){var r=this,i=Lo(n,this._firestore),s=new pa(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new Ji(r._firestore,s,i._key,a._document,new sa(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ka(t)}return e.prototype.get=function(t){var n=this,r=Lo(t,this._firestore),i=new t9(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Z();var a=s[0];if(a.isFoundDocument())return new mh(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new mh(n._firestore,i,r._key,null,r.converter);throw Z()})},e.prototype.set=function(t,n,r){var i=Lo(t,this._firestore),s=Dg(i.converter,n,r),a=xg(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=Lo(t,this._firestore);return a=typeof(n=he(n))=="string"||n instanceof Ci?xI(this._dataReader,"Transaction.update",l._key,n,r,i):OI(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Lo(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(){if(typeof Uint8Array>"u")throw new j(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function IO(){if(typeof atob>"u")throw new j(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tU=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return IO(),new e(Oa.fromBase64String(t))},e.fromUint8Array=function(t){return bO(),new e(Oa.fromUint8Array(t))},e.prototype.toBase64=function(){return IO(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return bO(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),i9=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){mO(r=ke(r,vt));var s=jt(r),a=r._freezeSettings(),l=new k1;return vO(s,l,new x4(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){mO(n=ke(n,vt));var r=jt(n),i=n._freezeSettings(),s=new k1;return vO(r,s,new RY(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new j(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Rn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return R(this,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return Tl.yt()?(c=l+"main",[4,Tl.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(cI(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),FI=function(){function e(t,n,r){var i=this;this._delegate=n,this.Yc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof gm||(this.Xc=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){l===void 0&&(l={});var c=(i=ke(i,vh))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==s&&om("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1})),l.mockUserToken){var h=R2(l.mockUserToken),d=l.mockUserToken.sub||l.mockUserToken.user_id;if(!d)throw new j(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new MY(new M4(h,new Vn(d)))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,oO(t)];case 1:return r=s.sent(),[4,sO(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=H(a);return l.$r.delete(0),Jh(l)}(i))]}})})})}(jt(ke(this._delegate,vt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,oO(t)];case 1:return r=s.sent(),[4,sO(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return R(this,void 0,void 0,function(){var l;return A(this,function(c){switch(c.label){case 0:return(l=H(a)).$r.add(0),[4,Gl(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(jt(ke(this._delegate,vt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&F4("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Rn;return t.asyncQueue.enqueueAndForget(function(){return R(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return i=yY,[4,NI(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(jt(ke(this._delegate,vt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new Ag(s);return i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return c=function(d,v){H(d).Gr.add(v),v.next()},[4,Nl(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return c=function(d,v){H(d).Gr.delete(v)},[4,Nl(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(jt(n=ke(n,vt)),Al(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new j(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new wm(this,U4(this._delegate,t))}catch(n){throw Tn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new va(this,iv(this._delegate,t))}catch(n){throw Tn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ed(this,function(n,r){if(n=ke(n,vh),AI("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yn(n,null,function(i){return new uo(Ae.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Tn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new Rn;return s.asyncQueue.enqueueAndForget(function(){return R(l,void 0,void 0,function(){var h;return A(this,function(d){switch(d.label){case 0:return[4,function(v){return Rg(v).then(function(g){return g.datastore})}(s)];case 1:return h=d.sent(),new xY(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(jt(r),function(s){return i(new r9(r,s))})}(this._delegate,function(r){return t(new nU(n,r))})},e.prototype.batch=function(){var t=this;return jt(this._delegate),new rU(new n9(this._delegate,function(n){return gh(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new j(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new j(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Lg=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new tU(new Oa(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return va.Zc(r,this.firestore,null)},t}(MI);function o9(e){var t;t=e,ii.setLogLevel(t)}var nU=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Lg(t)}return e.prototype.get=function(t){var n=this,r=aa(t);return this._delegate.get(r).then(function(i){return new yh(n._firestore,new Ji(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=aa(t);return r?(RI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=aa(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,ge([l,n,r],s)),this},e.prototype.delete=function(t){var n=aa(t);return this._delegate.delete(n),this},e}(),rU=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=aa(t);return r?(RI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=aa(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,ge([l,n,r],s)),this},e.prototype.delete=function(t){var n=aa(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Mg=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Nf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new _h(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Lg(t),n),i.set(n,s)),s},e}();Mg.eu=new WeakMap;var va=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Lg(t)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new rt(n._delegate,r,new te(t)))},e.Zc=function(t,n,r){return new e(n,new rt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new wm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new wm(this.firestore,U4(this._delegate,t))}catch(n){throw Tn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=he(t))instanceof rt&&j4(this._delegate,t)},e.prototype.set=function(t,n){n=RI("DocumentReference.set",n);try{return function(r,i,s){r=ke(r,rt);var a=ke(r.firestore,vt),l=Dg(r.converter,i,s);return gh(a,[xg(Ka(a),"setDoc",r._key,l,r.converter!==null,s).toMutation(r._key,ln.none())])}(this._delegate,t,n)}catch(r){throw Tn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?TO(this._delegate,t):TO.apply(void 0,ge([this._delegate,t,n],r))}catch(s){throw Tn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return gh(ke((t=this._delegate).firestore,vt),[new Yh(t._key,ln.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=iU(n),s=oU(n,function(a){return new yh(t.firestore,new Ji(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return eU(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ke(r,rt);var i=ke(r.firestore,vt),s=jt(i),a=new pa(i);return function(l,c){var h=this,d=new Rn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=function(y,w,b){return R(this,void 0,void 0,function(){var S,E;return A(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,function(C,P){var O=H(C);return O.persistence.runTransaction("read document","readonly",function(x){return O.Mn.mn(x,P)})}(y,w)];case 1:return(E=I.sent()).isFoundDocument()?b.resolve(E):E.isNoDocument()?b.resolve(null):b.reject(new j(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=I.sent(),E=Xl(S,"Failed to get document '"+w+" from cache"),b.reject(E),[3,3];case 3:return[2]}})})},[4,kI(l)];case 1:return[2,v.apply(void 0,[g.sent(),c,d])]}})})}),d.promise}(s,r._key).then(function(l){return new Ji(i,a,r._key,l,new sa(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ke(r,rt);var i=ke(r.firestore,vt);return aO(jt(i),r._key,{source:"server"}).then(function(s){return A1(i,r,s)})}(this._delegate):function(r){r=ke(r,rt);var i=ke(r.firestore,vt);return aO(jt(i),r._key).then(function(s){return A1(i,r,s)})}(this._delegate)).then(function(r){return new yh(n.firestore,new Ji(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Mg.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Tn(e,t,n){return e.message=e.message.replace(t,n),e}function iU(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Al(r))return r}return{}}function oU(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Al(e[0])?e[0]:Al(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var yh=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new va(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return Y4(this._delegate,t._delegate)},e}(),_h=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(yh),ed=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Lg(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Io(this._delegate,function(i,s,a){var l=s,c=_m("where",i);return new ZY(c,l,a)}(t,n,r)))}catch(i){throw Tn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Io(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=_m("orderBy",r);return new e9(a,s)}(t,n)))}catch(r){throw Tn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Io(this._delegate,function(n){return dO("limit",n),new gO("limit",n,"F")}(t)))}catch(n){throw Tn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Io(this._delegate,function(n){return dO("limitToLast",n),new gO("limitToLast",n,"L")}(t)))}catch(n){throw Tn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Io(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new yO("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Tn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Io(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new yO("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Tn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Io(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new _O("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Tn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Io(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new _O("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Tn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return V4(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ke(r,Yn);var i=ke(r.firestore,vt),s=jt(i),a=new pa(i);return function(l,c){var h=this,d=new Rn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=function(y,w,b){return R(this,void 0,void 0,function(){var S,E,I,C,P;return A(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,pm(y,w,!0)];case 1:return P=O.sent(),S=new N4(w,P.Bn),E=S._o(P.documents),I=S.applyChanges(E,!1),b.resolve(I.snapshot),[3,3];case 2:return C=O.sent(),P=Xl(C,"Failed to execute query '"+w+" against cache"),b.reject(P),[3,3];case 3:return[2]}})})},[4,kI(l)];case 1:return[2,v.apply(void 0,[g.sent(),c,d])]}})})}),d.promise}(s,r._query).then(function(l){return new Do(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ke(r,Yn);var i=ke(r.firestore,vt),s=jt(i),a=new pa(i);return uO(s,r._query,{source:"server"}).then(function(l){return new Do(i,a,r,l)})}(this._delegate):function(r){r=ke(r,Yn);var i=ke(r.firestore,vt),s=jt(i),a=new pa(i);return X4(r._query),uO(s,r._query).then(function(l){return new Do(i,a,r,l)})}(this._delegate)).then(function(r){return new R1(n.firestore,new Do(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=iU(n),s=oU(n,function(a){return new R1(t.firestore,new Do(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return eU(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Mg.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),s9=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new _h(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),R1=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new ed(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new _h(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new s9(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new _h(r._firestore,i))})},e.prototype.isEqual=function(t){return Y4(this._delegate,t._delegate)},e}(),wm=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return K(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new va(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new va(this.firestore,n===void 0?iv(this._delegate):iv(this._delegate,n))}catch(r){throw Tn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=ke(i.firestore,vt),l=iv(i),c=Dg(i.converter,s);return gh(a,[xg(Ka(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,ln.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new va(r.firestore,i)})},t.prototype.isEqual=function(n){return j4(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Mg.tu(this.firestore,n)):this._delegate.withConverter(null))},t}(ed);function aa(e){return ke(e,rt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a9=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ci.bind.apply(Ci,ge([void 0],t)))}return e.documentId=function(){return new e(Mr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=he(t))instanceof Ci&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),u9=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new HY("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new PI("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new KY("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new GY("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new QY("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(e){return function(t,n){var r=jt(t=ke(t,vt)),i=new BY;return function(s,a,l,c){var h=this,d=function(v,g){return function(y,w){return new PY(y,w)}(function(y,w){if(y instanceof Uint8Array)return iO(y,w);if(y instanceof ArrayBuffer)return iO(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),g)}(l,Xh(a));s.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=AY,[4,NI(s)];case 1:return v.apply(void 0,[g.sent(),d,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function c9(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return R(a,void 0,void 0,function(){var l;return A(this,function(c){switch(c.label){case 0:return l=function(h,d){var v=H(h);return v.persistence.runTransaction("Get named query","readonly",function(g){return v.Qe.getNamedQuery(g,d)})},[4,kI(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(jt(t=ke(t,vt)),n).then(function(i){return i?new Yn(t,null,i.query):null})).then(function(i){return i?new ed(r,i):null})}var f9={Firestore:FI,GeoPoint:Og,Timestamp:Qn,Blob:tU,Transaction:nU,WriteBatch:rU,DocumentReference:va,DocumentSnapshot:yh,Query:ed,QueryDocumentSnapshot:_h,QuerySnapshot:R1,CollectionReference:wm,FieldPath:a9,FieldValue:u9,setLogLevel:o9,CACHE_SIZE_UNLIMITED:$Y};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(e){(function(t,n){t.INTERNAL.registerComponent(new Xn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},f9)))})(e,function(t,n){return new FI(t,new vt(t,n),new i9)}),e.registerVersion("@firebase/firestore","2.3.0")}h9(ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(e){e.prototype.loadBundle=l9,e.prototype.namedQuery=c9}d9(FI);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ju=function(e){K(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function p9(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function v9(e,t,n){var r=p9(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!SO[l])return new Ju("internal","internal");r=SO[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Ju(r,i,s)}var m9=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return R(this,void 0,void 0,function(){return A(this,function(t){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},e.prototype.getContext=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g9="type.googleapis.com/google.protobuf.Int64Value",y9="type.googleapis.com/google.protobuf.UInt64Value";function CO(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var _9=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return CO(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case g9:case y9:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?CO(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Ju("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var kO=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new _9,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new m9(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return A(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v,g,y,w,b;return A(this,function(S){switch(S.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=S.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=w9(c),d=h.timer,v=h.promise,[4,Promise.race([NO(d,this.postJSON(i,s,a)),v,NO(d,this.cancelAllRequests)])];case 2:if(g=S.sent(),!g)throw new Ju("cancelled","Firebase Functions instance was deleted.");if(y=v9(g.status,g.json,this.serializer),y)throw y;if(!g.json)throw new Ju("internal","Response is not valid JSON object.");if(w=g.json.data,typeof w>"u"&&(w=g.json.result),typeof w>"u")throw new Ju("internal","Response is missing data field.");return b=this.serializer.decode(w),[2,{data:b}]}})})},e}();function NO(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E9="functions";function T9(e,t){var n={Functions:kO};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),d=i.getProvider("messaging");return new kO(l,c,d,h,a,t)}e.INTERNAL.registerComponent(new Xn(E9,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var b9="@firebase/functions",I9="0.6.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */T9(ee,fetch.bind(self));ee.registerVersion(b9,I9);function S9(e){return Array.prototype.slice.call(e)}function sU(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Fg(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),sU(r).then(s,a)});return i.request=r,i}function C9(e,t,n){var r=Fg(e,t,n);return r.then(function(i){if(i)return new wh(i,r.request)})}function Jl(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function UI(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Fg(this[t],i,arguments)})})}function Ug(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function aU(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return C9(this[t],i,arguments)})})}function Qa(e){this._index=e}Jl(Qa,"_index",["name","keyPath","multiEntry","unique"]);UI(Qa,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);aU(Qa,"_index",IDBIndex,["openCursor","openKeyCursor"]);function wh(e,t){this._cursor=e,this._request=t}Jl(wh,"_cursor",["direction","key","primaryKey","value"]);UI(wh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(wh.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),sU(t._request).then(function(r){if(r)return new wh(r,t._request)})})})});function Di(e){this._store=e}Di.prototype.createIndex=function(){return new Qa(this._store.createIndex.apply(this._store,arguments))};Di.prototype.index=function(){return new Qa(this._store.index.apply(this._store,arguments))};Jl(Di,"_store",["name","keyPath","indexNames","autoIncrement"]);UI(Di,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);aU(Di,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Ug(Di,"_store",IDBObjectStore,["deleteIndex"]);function td(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}td.prototype.objectStore=function(){return new Di(this._tx.objectStore.apply(this._tx,arguments))};Jl(td,"_tx",["objectStoreNames","mode"]);Ug(td,"_tx",IDBTransaction,["abort"]);function jg(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new td(n)}jg.prototype.createObjectStore=function(){return new Di(this._db.createObjectStore.apply(this._db,arguments))};Jl(jg,"_db",["name","version","objectStoreNames"]);Ug(jg,"_db",IDBDatabase,["deleteObjectStore","close"]);function Vg(e){this._db=e}Vg.prototype.transaction=function(){return new td(this._db.transaction.apply(this._db,arguments))};Jl(Vg,"_db",["name","version","objectStoreNames"]);Ug(Vg,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Di,Qa].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=S9(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Qa,Di].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function jI(e,t,n){var r=Fg(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new jg(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Vg(s)})}function Tw(e){return Fg(indexedDB,"deleteDatabase",[e])}var k9="@firebase/installations",uU="0.4.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lU=1e4,cU="w:"+uU,fU="FIS_v2",N9="https://firebaseinstallations.googleapis.com/v1",A9=60*60*1e3,R9="installations",P9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So,O9=(So={},So["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',So["not-registered"]="Firebase Installation is not registered.",So["installation-not-found"]="Firebase Installation not found.",So["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',So["app-offline"]="Could not process request. Application offline.",So["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",So),oo=new ms(R9,P9,O9);function hU(e){return e instanceof Fl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(e){var t=e.projectId;return N9+"/projects/"+t+"/installations"}function dU(e){return{token:e.token,requestStatus:2,expiresIn:x9(e.expiresIn),creationTime:Date.now()}}function BI(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,oo.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function pU(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vU(e,t){var n=t.refreshToken,r=pU(e);return r.append("Authorization",D9(n)),r}function $I(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function x9(e){return Number(e.replace("s","000"))}function D9(e){return fU+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(e,t){var n=t.fid;return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return A(this,function(d){switch(d.label){case 0:return r=VI(e),i=pU(e),s={fid:n,authVersion:fU,appId:e.appId,sdkVersion:cU},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,$I(function(){return fetch(r,a)})];case 1:return l=d.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=d.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:dU(c.authToken)},[2,h];case 3:return[4,BI("Create Installation",l)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(e){var t=btoa(String.fromCharCode.apply(String,ge([],Gt(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F9=/^[cdef][\w-]{21}$/,P1="";function U9(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=j9(e);return F9.test(n)?n:P1}catch{return P1}}function j9(e){var t=M9(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rl=new Map;function gU(e,t){var n=Zl(e);yU(n,t),$9(n,t)}function V9(e,t){_U();var n=Zl(e),r=Rl.get(n);r||(r=new Set,Rl.set(n,r)),r.add(t)}function B9(e,t){var n=Zl(e),r=Rl.get(n);r&&(r.delete(t),r.size===0&&Rl.delete(n),wU())}function yU(e,t){var n,r,i=Rl.get(e);if(i)try{for(var s=$t(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function $9(e,t){var n=_U();n&&n.postMessage({key:e,fid:t}),wU()}var ua=null;function _U(){return!ua&&"BroadcastChannel"in self&&(ua=new BroadcastChannel("[Firebase] FID Change"),ua.onmessage=function(e){yU(e.data.key,e.data.fid)}),ua}function wU(){Rl.size===0&&ua&&(ua.close(),ua=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q9="firebase-installations-database",z9=1,xa="firebase-installations-store",bw=null;function qI(){return bw||(bw=jI(q9,z9,function(e){switch(e.oldVersion){case 0:e.createObjectStore(xa)}})),bw}function Em(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return n=Zl(e),[4,qI()];case 1:return r=l.sent(),i=r.transaction(xa,"readwrite"),s=i.objectStore(xa),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&gU(e,t.fid),[2,t]}})})}function zI(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=Zl(e),[4,qI()];case 1:return n=i.sent(),r=n.transaction(xa,"readwrite"),[4,r.objectStore(xa).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function nd(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return n=Zl(e),[4,qI()];case 1:return r=c.sent(),i=r.transaction(xa,"readwrite"),s=i.objectStore(xa),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&gU(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,nd(e,function(s){var a=W9(s),l=H9(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==P1?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function W9(e){var t=e||{fid:U9(),registrationStatus:0};return EU(t)}function H9(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(oo.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=K9(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:G9(e)}:{installationEntry:t}}function K9(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,L9(e,t)];case 1:return n=i.sent(),[2,Em(e,n)];case 2:return r=i.sent(),hU(r)&&r.customData.serverCode===409?[4,zI(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Em(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function G9(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,AO(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,mU(100)];case 3:return s.sent(),[4,AO(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,WI(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function AO(e){return nd(e,function(t){if(!t)throw oo.create("installation-not-found");return EU(t)})}function EU(e){return Q9(e)?{fid:e.fid,registrationStatus:0}:e}function Q9(e){return e.registrationStatus===1&&e.registrationTime+lU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return R(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v;return A(this,function(g){switch(g.label){case 0:return i=X9(n,t),s=vU(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:cU}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,$I(function(){return fetch(i,c)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=g.sent(),v=dU(d),[2,v];case 3:return[4,BI("Generate Auth Token",h)];case 4:throw g.sent()}})})}function X9(e,t){var n=t.fid;return VI(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,nd(e.appConfig,function(l){if(!TU(l))throw oo.create("not-registered");var c=l.authToken;if(!t&&eX(c))return l;if(c.requestStatus===1)return n=J9(e,t),l;if(!navigator.onLine)throw oo.create("app-offline");var h=nX(l);return n=Z9(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function J9(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,RO(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,mU(100)];case 3:return i.sent(),[4,RO(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,HI(e,t)]:[2,r]}})})}function RO(e){return nd(e,function(t){if(!TU(t))throw oo.create("not-registered");var n=t.authToken;return rX(n)?Ue(Ue({},t),{authToken:{requestStatus:0}}):t})}function Z9(e,t){return R(this,void 0,void 0,function(){var n,i,r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,Y9(e,t)];case 1:return n=s.sent(),i=Ue(Ue({},t),{authToken:n}),[4,Em(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),hU(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,zI(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=Ue(Ue({},t),{authToken:{requestStatus:0}}),[4,Em(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function TU(e){return e!==void 0&&e.registrationStatus===2}function eX(e){return e.requestStatus===2&&!tX(e)}function tX(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+A9}function nX(e){var t={requestStatus:1,requestTime:Date.now()};return Ue(Ue({},e),{authToken:t})}function rX(e){return e.requestStatus===1&&e.requestTime+lU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iX(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,WI(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):HI(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oX(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,sX(e.appConfig)];case 1:return r.sent(),[4,HI(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function sX(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,WI(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=uX(e,t),r=vU(e,t),i={method:"DELETE",headers:r},[4,$I(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,BI("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function uX(e,t){var n=t.fid;return VI(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,nd(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw oo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw oo.create("app-offline");case 3:return[4,aX(t,n)];case 4:return r.sent(),[4,zI(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(e,t){var n=e.appConfig;return V9(n,t),function(){B9(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(e){var t,n;if(!e||!e.options)throw Iw("App Configuration");if(!e.name)throw Iw("App Name");var r=["projectId","apiKey","appId"];try{for(var i=$t(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw Iw(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Iw(e){return oo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(e){var t="installations";e.INTERNAL.registerComponent(new Xn(t,function(n){var r=n.getProvider("app").getImmediate(),i=fX(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return iX(a)},getToken:function(c){return oX(a,c)},delete:function(){return lX(a)},onIdChange:function(c){return cX(a,c)}};return l},"PUBLIC")),e.registerVersion(k9,uU)}hX(ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,dX=(Ct={},Ct["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ct["only-available-in-window"]="This method is available in a Window context.",Ct["only-available-in-sw"]="This method is available in a service worker context.",Ct["permission-default"]="The notification permission was not granted and dismissed instead.",Ct["permission-blocked"]="The notification permission was not granted and blocked instead.",Ct["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Ct["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Ct["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Ct["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Ct["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Ct["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Ct["token-update-no-token"]="FCM returned no token when updating the user to push.",Ct["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Ct["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Ct["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Ct["invalid-vapid-key"]="The public VAPID key must be a string.",Ct["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Ct),Oe=new ms("messaging","Messaging",dX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pX="/firebase-messaging-sw.js",vX="/firebase-cloud-messaging-push-scope",Tm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mX="https://fcmregistrations.googleapis.com/v1",bU="FCM_MSG",gX="FirebaseMessaging: ",yX="google.c.a.e",IU="google.c.a.c_id",_X="google.c.a.ts",wX="google.c.a.c_l",EX=1e3,TX=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Da;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Da||(Da={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,ge([],Gt(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bX(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sw="fcm_token_details_db",IX=5,PO="fcm_token_object_Store";function SX(e){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(Sw))return[2,null];a.label=2;case 2:return r=null,[4,jI(Sw,IX,function(l){return R(s,void 0,void 0,function(){var c,h,d,d,d,v;return A(this,function(g){switch(g.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(PO)?(c=l.transaction.objectStore(PO),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=g.sent(),[4,c.clear()];case 2:if(g.sent(),!h)return[2];if(l.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:qi(d.vapidKey)}}}else l.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:qi(d.auth),p256dh:qi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:qi(d.vapidKey)}}):l.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:qi(d.auth),p256dh:qi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:qi(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,Tw(Sw)];case 4:return a.sent(),[4,Tw("fcm_vapid_details_db")];case 5:return a.sent(),[4,Tw("undefined")];case 6:return a.sent(),[2,CX(r)?r:null]}})})}function CX(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kX="firebase-messaging-database",NX=1,La="firebase-messaging-store",Cw=null;function KI(){return Cw||(Cw=jI(kX,NX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(La)}})),Cw}function bm(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return t=QI(e),[4,KI()];case 1:return n=s.sent(),[4,n.transaction(La).objectStore(La).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,SX(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,GI(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function GI(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=QI(e),[4,KI()];case 1:return r=s.sent(),i=r.transaction(La,"readwrite"),[4,i.objectStore(La).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function AX(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=QI(e),[4,KI()];case 1:return n=i.sent(),r=n.transaction(La,"readwrite"),[4,r.objectStore(La).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function QI(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return[4,XI(e)];case 1:n=h.sent(),r=CU(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(YI(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Oe.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Oe.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Oe.create("token-subscribe-no-token");return[2,s.token]}})})}function PX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return[4,XI(e)];case 1:n=h.sent(),r=CU(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(YI(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Oe.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Oe.create("token-update-failed",{errorInfo:c});if(!s.token)throw Oe.create("token-update-no-token");return[2,s.token]}})})}function SU(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,XI(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(YI(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Oe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Oe.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function YI(e){var t=e.projectId;return mX+"/projects/"+t+"/registrations"}function XI(e){var t=e.appConfig,n=e.installations;return R(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function CU(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Tm&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OX=7*24*60*60*1e3;function O1(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Oe.create("permission-blocked");return[4,DX(t,n)];case 1:return r=l.sent(),[4,bm(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:qi(r.getKey("auth")),p256dh:qi(r.getKey("p256dh"))},i?[3,3]:[2,OO(e,s)];case 3:if(LX(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,SU(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,OO(e,s)];case 8:return Date.now()>=i.createTime+OX?[2,xX({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function Af(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,bm(e)];case 1:return n=i.sent(),n?[4,SU(e,n.token)]:[3,4];case 2:return i.sent(),[4,AX(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function xX(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,PX(t,e)];case 1:return r=a.sent(),i=Ue(Ue({},e),{token:r,createTime:Date.now()}),[4,GI(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,Af(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function OO(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,RX(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,GI(e,r)];case 2:return i.sent(),[2,r.token]}})})}function DX(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bX(t)})]}})})}function LX(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(e){var t={from:e.from,collapseKey:e.collapse_key};return FX(t,e),UX(t,e),jX(t,e),t}function FX(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function UX(e,t){t.data&&(e.data=t.data)}function jX(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(e){return typeof e=="object"&&!!e&&IU in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Oe.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return R(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,bm(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Tm,i.label=2;case 2:return[2,O1(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Af(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Oe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Oe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Oe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Oe.create("only-available-in-window")},e.prototype.onMessage=function(){throw Oe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Oe.create("only-available-in-window")},e.prototype.onPush=function(t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=$X(t),n?[4,NU()]:(console.debug(gX+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),zX(r)?[2,WX(r,n)]:(i=!1,n.notification?[4,HX(BX(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=MX(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,xO(EX)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,Af(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,bm(this.firebaseDependencies)];case 3:return s=a.sent(),[4,Af(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,O1(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Tm)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[bU],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=KX(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,qX(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,xO(TX)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=Da.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function BX(e){var t,n=Ue({},e.notification);return n.data=(t={},t[bU]=e,t),n}function $X(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function qX(e){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,NU()];case 1:t=c.sent();try{for(n=$t(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function zX(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function WX(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Da.PUSH_RECEIVED;try{for(var i=$t(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function NU(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function HX(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function KX(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(kU(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Da.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(YX(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,kU(r)&&r[yX]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Oe.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,O1(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Tm),[2]})})},e.prototype.updateSwReg=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Oe.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(pX,{scope:vX})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Oe.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Af(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Oe.create("permission-blocked"):Oe.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Oe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Oe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Oe.create("invalid-sw-registration");if(this.swRegistration)throw Oe.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Oe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Oe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=QX(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[IU],message_name:n[wX],message_time:n[_X],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function QX(e){switch(e){case Da.NOTIFICATION_CLICKED:return"notification_open";case Da.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function YX(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(e){var t,n;if(!e||!e.options)throw kw("App Configuration Object");if(!e.name)throw kw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=$t(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw kw(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function kw(e){return Oe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JX="messaging";function ZX(e){var t=e.getProvider("app").getImmediate(),n=XX(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!AU())throw Oe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new VX(s):new GX(s)}var eJ={isSupported:AU};ee.INTERNAL.registerComponent(new Xn(JX,ZX,"PUBLIC").setServiceProps(eJ));function AU(){return self&&"ServiceWorkerGlobalScope"in self?nJ():tJ()}function tJ(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function nJ(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RU="firebasestorage.googleapis.com",PU="storageBucket",rJ=2*60*1e3,iJ=10*60*1e3,bt=function(e){K(t,e);function t(n,r){var i=e.call(this,Nw(n),"Firebase Storage: "+r+" ("+Nw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return Nw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Fl);function Nw(e){return"storage/"+e}function JI(){var e="An unknown error occurred, please check the error payload for server response.";return new bt("unknown",e)}function oJ(e){return new bt("object-not-found","Object '"+e+"' does not exist.")}function sJ(e){return new bt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aJ(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bt("unauthenticated",e)}function uJ(){return new bt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function lJ(e){return new bt("unauthorized","User does not have permission to access '"+e+"'.")}function cJ(){return new bt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function OU(){return new bt("canceled","User canceled the upload/download.")}function fJ(e){return new bt("invalid-url","Invalid URL '"+e+"'.")}function hJ(e){return new bt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function dJ(){return new bt("no-default-bucket","No default bucket found. Did you set the '"+PU+"' property when initializing the app?")}function xU(){return new bt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function pJ(){return new bt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function vJ(){return new bt("no-download-url","The given file does not have any download URLs.")}function ma(e){return new bt("invalid-argument",e)}function DU(){return new bt("app-deleted","The Firebase app was deleted.")}function LU(e){return new bt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rf(e,t){return new bt("invalid-format","String does not match format '"+e+"': "+t)}function Dp(e){throw new bt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Aw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function MU(e,t){switch(e){case kr.RAW:return new Aw(FU(t));case kr.BASE64:case kr.BASE64URL:return new Aw(UU(e,t));case kr.DATA_URL:return new Aw(gJ(t),yJ(t))}throw JI()}function FU(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function mJ(e){var t;try{t=decodeURIComponent(e)}catch{throw Rf(kr.DATA_URL,"Malformed data URL.")}return FU(t)}function UU(e,t){switch(e){case kr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Rf(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case kr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Rf(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(t)}catch{throw Rf(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var jU=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Rf(kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=_J(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function gJ(e){var t=new jU(e);return t.base64?UU(kr.BASE64,t.rest):mJ(t.rest)}function yJ(e){var t=new jU(e);return t.contentType}function _J(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wJ={STATE_CHANGED:"state_changed"},bn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rw(e){switch(e){case"running":case"pausing":case"canceling":return bn.RUNNING;case"paused":return bn.PAUSED;case"success":return bn.SUCCESS;case"canceled":return bn.CANCELED;case"error":return bn.ERROR;default:return bn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ga;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ga||(ga={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EJ=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ga.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ga.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=ga.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw Dp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Dp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Dp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Dp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TJ=function(){function e(){}return e.prototype.createXhrIo=function(){return new EJ},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw hJ(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(re){re.path_=decodeURIComponent(re.path)}for(var d="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+d+"/b/"+i+"/o"+g,"i"),w={bucket:1,path:3},b=n===RU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",E=new RegExp("^https?://"+b+"/"+i+"/"+S,"i"),I={bucket:1,path:2},C=[{regex:l,indices:c,postModify:s},{regex:y,indices:w,postModify:h},{regex:E,indices:I,postModify:h}],P=0;P<C.length;P++){var O=C[P],x=O.regex.exec(t);if(x){var V=x[O.indices.bucket],M=x[O.indices.path];M||(M=""),r=new e(V,M),O.postModify(r);break}}if(r==null)throw fJ(t);return r},e}(),bJ=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];c||(c=!0,t.apply(null,w))}function d(w){i=setTimeout(function(){i=null,e(v,l())},w)}function v(w){for(var b=[],S=1;S<arguments.length;S++)b[S-1]=arguments[S];if(!c){if(w){h.call.apply(h,ge([null,w],b));return}var E=l()||s;if(E){h.call.apply(h,ge([null,w],b));return}r<64&&(r*=2);var I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,d(I)}}var g=!1;function y(w){g||(g=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function SJ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CJ(e){return e!==void 0}function kJ(e){return typeof e=="function"}function NJ(e){return typeof e=="object"&&!Array.isArray(e)}function Bg(e){return typeof e=="string"||e instanceof String}function DO(e){return ZI()&&e instanceof Blob}function ZI(){return typeof Blob<"u"}function x1(e,t,n,r){if(r<t)throw ma("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw ma("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function VU(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AJ=function(){function e(t,n,r,i,s,a,l,c,h,d,v){var g=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){g.resolve_=y,g.reject_=w,g.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new Lp(!1,null,!0));return}var a=t.pool_.createXhrIo();t.pendingXhr_=a;function l(c){var h=c.loaded,d=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(c){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingXhr_=null,c=c;var h=c.getErrorCode()===ga.NO_ERROR,d=c.getStatus();if(!h||t.isRetryStatusCode_(d)){var v=c.getErrorCode()===ga.ABORT;i(!1,new Lp(!1,null,v));return}var g=t.successCodes_.indexOf(d)!==-1;i(!0,new Lp(g,c))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());CJ(h)?a(h):a()}catch(v){l(v)}else if(c!==null){var d=JI();d.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,d)):l(d)}else if(s.canceled){var d=t.appDelete_?DU():OU();l(d)}else{var d=cJ();l(d)}}this.canceled_?r(!1,new Lp(!1,null,!0)):this.backoffId_=IJ(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&SJ(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),Lp=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function RJ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function PJ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function OJ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function xJ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function DJ(e,t,n,r,i,s){var a=VU(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return OJ(c,t),RJ(c,n),PJ(c,s),xJ(c,r),new AJ(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=LJ();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(ZI())return new Blob(e);throw new bt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function FJ(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eS=function(){function e(t,n){var r=0,i="";DO(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(DO(this.data_)){var r=this.data_,i=FJ(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(ZI()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(MJ.apply(null,r))}else{var i=t.map(function(c){return Bg(c)?MU(kr.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(e){var t;try{t=JSON.parse(e)}catch{return null}return NJ(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UJ(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function jJ(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function BU(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VJ(e,t){return t}var _n=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||VJ}return e}(),Mp=null;function BJ(e){return!Bg(e)||e.length<2?e:BU(e)}function $g(){if(Mp)return Mp;var e=[];e.push(new _n("bucket")),e.push(new _n("generation")),e.push(new _n("metageneration")),e.push(new _n("name","fullPath",!0));function t(s,a){return BJ(a)}var n=new _n("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new _n("size");return i.xform=r,e.push(i),e.push(new _n("timeCreated")),e.push(new _n("updated")),e.push(new _n("md5Hash",null,!0)),e.push(new _n("cacheControl",null,!0)),e.push(new _n("contentDisposition",null,!0)),e.push(new _n("contentEncoding",null,!0)),e.push(new _n("contentLanguage",null,!0)),e.push(new _n("contentType",null,!0)),e.push(new _n("metadata","customMetadata",!0)),Mp=e,Mp}function $J(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new Nr(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function qJ(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return $J(r,e),r}function $U(e,t,n){var r=tS(t);if(r===null)return null;var i=r;return qJ(e,i,n)}function zJ(e,t,n){var r=tS(t);if(r===null||!Bg(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,d=e.fullPath,v="/b/"+s(h)+"/o/"+s(d),g=Ts(v,n),y=VU({alt:"media",token:c});return g+y});return l[0]}function nS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LO="prefixes",MO="items";function WJ(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[LO])for(var i=0,s=n[LO];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new Nr(t,l));r.prefixes.push(c)}if(n[MO])for(var h=0,d=n[MO];h<d.length;h++){var v=d[h],c=e._makeStorageReference(new Nr(t,v.name));r.items.push(c)}return r}function HJ(e,t,n){var r=tS(n);if(r===null)return null;var i=r;return WJ(e,t,i)}var co=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(e){if(!e)throw JI()}function qg(e,t){function n(r,i){var s=$U(e,i,t);return ki(s!==null),s}return n}function KJ(e,t){function n(r,i){var s=HJ(e,t,i);return ki(s!==null),s}return n}function GJ(e,t){function n(r,i){var s=$U(e,i,t);return ki(s!==null),zJ(s,i,e.host)}return n}function ec(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=uJ():i=aJ():n.getStatus()===402?i=sJ(e.bucket):n.getStatus()===403?i=lJ(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function zg(e){var t=ec(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=oJ(e.path)),s.serverResponse=i.serverResponse,s}return n}function qU(e,t,n){var r=t.fullServerUrl(),i=Ts(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new co(i,s,qg(e,n),a);return l.errorHandler=zg(t),l}function QJ(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=Ts(a,e.host),c="GET",h=e.maxOperationRetryTime,d=new co(l,c,KJ(e,t.bucket),h);return d.urlParams=s,d.errorHandler=ec(t),d}function YJ(e,t,n){var r=t.fullServerUrl(),i=Ts(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new co(i,s,GJ(e,n),a);return l.errorHandler=zg(t),l}function XJ(e,t,n,r){var i=t.fullServerUrl(),s=Ts(i,e.host),a="PATCH",l=nS(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new co(s,a,qg(e,r),h);return d.headers=c,d.body=l,d.errorHandler=zg(t),d}function JJ(e,t){var n=t.fullServerUrl(),r=Ts(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new co(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=zg(t),l}function ZJ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function zU(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=ZJ(null,t)),r}function eZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var C="",P=0;P<2;P++)C=C+Math.random().toString().slice(2);return C}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=zU(t,r,i),d=nS(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+c+"--",y=eS.getBlob(v,r,g);if(y===null)throw xU();var w={name:h.fullPath},b=Ts(s,e.host),S="POST",E=e.maxUploadRetryTime,I=new co(b,S,qg(e,n),E);return I.urlParams=w,I.headers=a,I.body=y.uploadData(),I.errorHandler=ec(t),I}var Im=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function rS(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{ki(!1)}var r=t||["active"];return ki(!!n&&r.indexOf(n)!==-1),n}function tZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=zU(t,r,i),l={name:a.fullPath},c=Ts(s,e.host),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=nS(a,n),g=e.maxUploadRetryTime;function y(b){rS(b);var S;try{S=b.getResponseHeader("X-Goog-Upload-URL")}catch{ki(!1)}return ki(Bg(S)),S}var w=new co(c,h,y,g);return w.urlParams=l,w.headers=d,w.body=v,w.errorHandler=ec(t),w}function nZ(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=rS(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ki(!1)}v||ki(!1);var g=Number(v);return ki(!isNaN(g)),new Im(g,r.size(),d==="final")}var a="POST",l=e.maxUploadRetryTime,c=new co(n,a,s,l);return c.headers=i,c.errorHandler=ec(t),c}var FO=256*1024;function rZ(e,t,n,r,i,s,a,l){var c=new Im(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw pJ();var h=c.total-c.current,d=h;i>0&&(d=Math.min(d,i));var v=c.current,g=v+d,y=d===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":c.current},b=r.slice(v,g);if(b===null)throw xU();function S(P,O){var x=rS(P,["active","final"]),V=c.current+d,M=r.size(),re;return x==="final"?re=qg(t,s)(P,O):re=null,new Im(V,M,x==="final",re)}var E="POST",I=t.maxUploadRetryTime,C=new co(n,E,S,I);return C.headers=w,C.body=b.uploadData(),C.progressCallback=l||null,C.errorHandler=ec(e),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iZ=function(){function e(t,n,r){var i=kJ(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WU=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=$g(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=tZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=nZ(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=FO*this._chunkMultiplier,r=new Im(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=rZ(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=FO*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=qU(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=eZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=OU(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Rw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new iZ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Rw(this._state)){case bn.SUCCESS:Su(this._resolve.bind(null,this.snapshot))();break;case bn.CANCELED:case bn.ERROR:var n=this._reject;Su(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Rw(this._state);switch(n){case bn.RUNNING:case bn.PAUSED:t.next&&Su(t.next.bind(t,this.snapshot))();break;case bn.SUCCESS:t.complete&&Su(t.complete.bind(t))();break;case bn.CANCELED:case bn.ERROR:t.error&&Su(t.error.bind(t,this._error))();break;default:t.error&&Su(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wg=function(){function e(t,n){this._service=t,n instanceof Nr?this._location=n:this._location=Nr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Nr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return BU(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=UJ(this._location.path);if(t===null)return null;var n=new Nr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw LU(t)},e}();function oZ(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new WU(e,new eS(t),n)}function sZ(e){var t={prefixes:[],items:[]};return HU(e,t).then(function(){return t})}function HU(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,KU(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,HU(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function KU(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&x1("options.maxResults",1,1e3,t.maxResults),n=t||{},r=QJ(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function aZ(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=qU(e.storage,e._location,$g()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function uZ(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=XJ(e.storage,e._location,t,$g()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function lZ(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=YJ(e.storage,e._location,$g()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw vJ();return r})]}})})}function cZ(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=JJ(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function GU(e,t){var n=jJ(e._location.path,t),r=new Nr(e._location.bucket,n);return new Wg(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(e){return/^[A-Za-z]+:\/\//.test(e)}function fZ(e,t){return new Wg(e,t)}function QU(e,t){if(e instanceof Hg){var n=e;if(n._bucket==null)throw dJ();var r=new Wg(n,n._bucket);return t!=null?QU(r,t):r}else if(t!==void 0){if(t.includes(".."))throw ma('`path` param cannot contain ".."');return GU(e,t)}else return e}function hZ(e,t){if(t&&D1(t)){if(e instanceof Hg)return fZ(e,t);throw ma("To use ref(service, url), the first argument must be a Storage instance.")}else return QU(e,t)}function UO(e,t){var n=t==null?void 0:t[PU];return n==null?null:Nr.makeFromBucketSpec(n,e)}function dZ(e,t,n){e.host="http://"+t+":"+n}var Hg=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=RU,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rJ,this._maxUploadRetryTime=iJ,this._requests=new Set,s!=null?this._bucket=Nr.makeFromBucketSpec(s,this._host):this._bucket=UO(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Nr.makeFromBucketSpec(this._url,t):this._bucket=UO(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){x1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){x1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Wg(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new bJ(DU());var s=DJ(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(e,t,n){return e=he(e),oZ(e,t,n)}function vZ(e){return e=he(e),aZ(e)}function mZ(e,t){return e=he(e),uZ(e,t)}function gZ(e,t){return e=he(e),KU(e,t)}function yZ(e){return e=he(e),sZ(e)}function _Z(e){return e=he(e),lZ(e)}function wZ(e){return e=he(e),cZ(e)}function jO(e,t){return e=he(e),hZ(e,t)}function EZ(e,t){return GU(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VO=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Fp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Fp(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Fp(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Fp(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),BO=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Eh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Eh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eh=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=EZ(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new VO(pZ(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=kr.RAW),this._throwIfRoot("putString");var i=MU(n,t),s=Ue({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new VO(new WU(this._delegate,new eS(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return yZ(this._delegate).then(function(n){return new BO(n,t.storage)})},e.prototype.list=function(t){var n=this;return gZ(this._delegate,t||void 0).then(function(r){return new BO(r,n.storage)})},e.prototype.getMetadata=function(){return vZ(this._delegate)},e.prototype.updateMetadata=function(t){return mZ(this._delegate,t)},e.prototype.getDownloadURL=function(){return _Z(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),wZ(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw LU(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TZ=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(D1(t))throw ma("ref() expected a child path but got a URL, use refFromURL instead.");return new Eh(jO(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!D1(t))throw ma("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Nr.makeFromUrl(t,this._delegate.host)}catch{throw ma("refFromUrl() expected a valid full URL but got an invalid one.")}return new Eh(jO(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n){dZ(this._delegate,t,n)},e}(),bZ="@firebase/storage",IZ="0.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SZ="storage";function CZ(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new TZ(r,new Hg(r,i,s,new TJ,n,ee.SDK_VERSION));return a}function kZ(e){var t={TaskState:bn,TaskEvent:wJ,StringFormat:kr,Storage:Hg,Reference:Eh};e.INTERNAL.registerComponent(new Xn(SZ,CZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(bZ,IZ)}kZ(ee);var NZ="@firebase/performance",YU="0.4.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XU=YU,AZ="FB-PERF-TRACE-START",RZ="FB-PERF-TRACE-STOP",L1="FB-PERF-TRACE-MEASURE",JU="_wt_",ZU="_fp",e3="_fcp",t3="_fid",n3="@firebase/performance/config",r3="@firebase/performance/configexpire",PZ="performance",i3="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,OZ=(Wt={},Wt["trace started"]="Trace {$traceName} was started before.",Wt["trace stopped"]="Trace {$traceName} is not running.",Wt["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Wt["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Wt["no window"]="Window is not available.",Wt["no app id"]="App id is not available.",Wt["no project id"]="Project id is not available.",Wt["no api key"]="Api key is not available.",Wt["invalid cc log"]="Attempted to queue invalid cc event",Wt["FB not default"]="Performance can only start when Firebase app instance is the default one.",Wt["RC response not ok"]="RC response is not ok",Wt["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Wt["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Wt["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Wt["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Wt),sn=new ms(PZ,i3,OZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so=new Ul(i3);so.logLevel=me.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pw,o3,hn=function(){function e(t){if(this.window=t,!t)throw sn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(so.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):UT()?!0:(so.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return Pw===void 0&&(Pw=new e(o3)),Pw},e}();function xZ(e){o3=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(e,t){var n=e.length-t.length;if(n<0||n>1)throw sn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ow,Rt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=$O("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=$O("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw sn.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw sn.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw sn.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return Ow===void 0&&(Ow=new e),Ow},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s3;function DZ(){var e=Rt.getInstance().installationsService.getId();return e.then(function(t){s3=t}),e}function iS(){return s3}function LZ(){var e=Rt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zu;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Zu||(Zu={}));var MZ=["firebase_","google_","ga_"],FZ=new RegExp("^[a-zA-Z]\\w*$"),UZ=40,jZ=100;function VZ(){var e=hn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function a3(){var e=hn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Zu.VISIBLE;case"hidden":return Zu.HIDDEN;default:return Zu.UNKNOWN}}function BZ(){var e=hn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function $Z(e){if(e.length===0||e.length>UZ)return!1;var t=MZ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(FZ)}function qZ(e){return e.length!==0&&e.length<=jZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zZ="0.0.1",WZ={loggingEnabled:!0},HZ="FIREBASE_INSTALLATIONS_AUTH";function KZ(e){var t=GZ();return t?(qO(t),Promise.resolve()):XZ(e).then(qO).then(function(n){return QZ(n)},function(){})}function GZ(){var e=hn.getInstance().localStorage;if(e){var t=e.getItem(r3);if(!(!t||!JZ(t))){var n=e.getItem(n3);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function QZ(e){var t=hn.getInstance().localStorage;!e||!t||(t.setItem(n3,JSON.stringify(e)),t.setItem(r3,String(Date.now()+Rt.getInstance().configTimeToLive*60*60*1e3)))}var YZ="Could not fetch config, will use default configs";function XZ(e){return LZ().then(function(t){var n=Rt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Rt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:HZ+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Rt.getInstance().getAppId(),app_version:XU,sdk_version:zZ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw sn.create("RC response not ok")})}).catch(function(){so.info(YZ)})}function qO(e){if(!e)return e;var t=Rt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=WZ.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=zO(t.tracesSamplingRate),t.logNetworkAfterSampling=zO(t.networkRequestsSamplingRate),e}function JZ(e){return Number(e)>Date.now()}function zO(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oS=1,xw;function u3(){return oS=2,xw=xw||eee(),xw}function ZZ(){return oS===3}function eee(){return tee().then(function(){return DZ()}).then(function(e){return KZ(e)}).then(function(){return WO()},function(){return WO()})}function tee(){var e=hn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function WO(){oS=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sS=10*1e3,nee=5.5*1e3,l3=3,ree=1e3,Sm=l3,ts=[],HO=!1;function iee(){HO||(Kg(nee),HO=!0)}function Kg(e){setTimeout(function(){if(Sm!==0){if(!ts.length)return Kg(sS);oee()}},e)}function oee(){var e=ts.splice(0,ree),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Rt.getInstance().logSource,log_event:t};see(n,e).catch(function(){ts=ge(ge([],e),ts),Sm--,so.info("Tries left: "+Sm+"."),Kg(sS)})}function see(e,t){return aee(e).then(function(n){return n.ok||so.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=sS;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(ts=ge(ge([],t),ts),so.info("Retry transport request later.")),Sm=l3,Kg(i)})}function aee(e){var t=Rt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function uee(e){if(!e.eventTime||!e.message)throw sn.create("invalid cc log");ts=ge(ge([],ts),[e])}function lee(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);uee({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dw;function c3(e,t){Dw||(Dw=lee(fee)),Dw(e,t)}function Up(e){var t=Rt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||hn.getInstance().requiredApisAvailable()&&(e.isAuto&&a3()!==Zu.VISIBLE||(ZZ()?Lw(e):u3().then(function(){return Lw(e)},function(){return Lw(e)})))}function Lw(e){if(iS()){var t=Rt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return c3(e,1)},0)}}function cee(e){var t=Rt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return c3(e,0)},0)}}function fee(e,t){return t===0?hee(e):dee(e)}function hee(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:f3(),network_request_metric:t};return JSON.stringify(n)}function dee(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:f3(),trace_metric:t};return JSON.stringify(r)}function f3(){return{google_app_id:Rt.getInstance().getAppId(),app_instance_id:iS(),web_app_info:{sdk_version:XU,page_url:hn.getInstance().getUrl(),service_worker_status:VZ(),visibility_state:a3(),effective_connection_type:BZ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pee=100,vee="_",mee=[ZU,e3,t3];function gee(e,t){return e.length===0||e.length>pee?!1:t&&t.startsWith(JU)&&mee.indexOf(e)>-1||!e.startsWith(vee)}function yee(e){var t=Math.floor(e);return t<e&&so.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=hn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=AZ+"-"+this.randomId+"-"+this.name,this.traceStopMark=RZ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||L1+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw sn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw sn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Up(this)},e.prototype.record=function(t,n,r){if(t<=0)throw sn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw sn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=Ue({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Up(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(gee(t,this.name))this.counters[t]=yee(n);else throw sn.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=$Z(t),i=qZ(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw sn.create("invalid attribute name",{attributeName:t});if(!i)throw sn.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return Ue({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=hn.getInstance().getUrl();if(i){var s=new e(JU+i,!0),a=Math.floor(hn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===l});h&&h.startTime&&s.putMetric(ZU,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===c});d&&d.startTime&&s.putMetric(e3,Math.floor(d.startTime*1e3)),r&&s.putMetric(t3,Math.floor(r*1e3))}Up(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);Up(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=hn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};cee(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _ee=5e3;function GO(){iS()&&(setTimeout(function(){return Eee()},0),setTimeout(function(){return wee()},0),setTimeout(function(){return Tee()},0))}function wee(){for(var e=hn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];KO(i)}e.setupObserver("resource",KO)}function Eee(){var e=hn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Pf.createOobTrace(t,n),r=void 0},_ee);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Pf.createOobTrace(t,n,i))})}else Pf.createOobTrace(t,n)}function Tee(){for(var e=hn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];QO(i)}e.setupObserver("measure",QO)}function QO(e){var t=e.name;t.substring(0,L1.length)!==L1&&Pf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bee=function(){function e(t){this.app=t,hn.getInstance().requiredApisAvailable()&&jT().then(function(n){n&&(iee(),u3().then(GO,GO))}).catch(function(n){so.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Pf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Rt.getInstance().instrumentationEnabled},set:function(t){Rt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Rt.getInstance().dataCollectionEnabled},set:function(t){Rt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iee="[DEFAULT]";function See(e){var t=function(n,r){if(n.name!==Iee)throw sn.create("FB not default");if(typeof window>"u")throw sn.create("no window");return xZ(window),Rt.getInstance().firebaseAppInstance=n,Rt.getInstance().installationsService=r,new bee(n)};e.INTERNAL.registerComponent(new Xn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(NZ,YU)}See(ee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cee="firebase_id",kee="origin",Nee=60*1e3,Aee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",h3="https://www.googletagmanager.com/gtag/js",dn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(dn||(dn={}));var M1;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(M1||(M1={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ree(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a;return A(this,function(l){switch(l.label){case 0:return i&&i.global?(e(dn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=Ue(Ue({},r),{send_to:s}),e(dn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function Pee(e,t,n,r){return R(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(dn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(dn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function Oee(e,t,n,r){return R(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(dn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(dn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function xee(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(dn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(dn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function Dee(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt=new Ul("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(e,t){var n=document.createElement("script");n.src=h3+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function Mee(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function Fee(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,l,c,h;return A(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=d.sent(),c=l.find(function(v){return v.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),Kt.error(h),[3,8];case 8:return e(dn.CONFIG,i,s),[2]}})})}function Uee(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a,l,c,h,d,v,g,y;return A(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=w.sent(),c=function(b){var S=l.find(function(I){return I.measurementId===b}),E=S&&t[S.appId];if(E)s.push(E);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],g=c(v),g!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(dn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),Kt.error(y),[3,5];case 5:return[2]}})})}function jee(e,t,n,r){function i(s,a,l){return R(this,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==dn.EVENT?[3,2]:[4,Uee(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==dn.CONFIG?[3,4]:[4,Fee(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(dn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),Kt.error(c),[3,7];case 7:return[2]}})})}return i}function Vee(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=jee(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Bee(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(h3))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr,$ee=(Qr={},Qr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Qr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Qr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Qr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Qr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Qr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Qr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Qr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Qr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Qr),Or=new ms("analytics","Analytics",$ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qee=30,zee=1e3,Wee=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=zee),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),d3=new Wee;function Hee(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Kee(e){var t;return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Hee(r)},s=Aee.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Or.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function Gee(e,t,n){return t===void 0&&(t=d3),R(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return A(this,function(d){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Or.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Or.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Xee,setTimeout(function(){return R(h,void 0,void 0,function(){return A(this,function(v){return c.abort(),[2]})})},n!==void 0?n:Nee),[2,p3({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function p3(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=d3),R(this,void 0,void 0,function(){var a,l,c,h,d,v,g;return A(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Qee(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return Kt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,Kee(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!Yee(d)){if(r.deleteThrottleMetadata(a),l)return Kt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:l}];throw d}return v=Number(d.customData.httpStatus)===503?ME(s,r.intervalMillis,qee):ME(s,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,g),Kt.debug("Calling attemptFetch again in "+v+" millis"),[2,p3(e,g,n,r)];case 7:return[2]}})})}function Qee(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Or.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Yee(e){if(!(e instanceof Fl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Xee=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jee(){return R(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:return UT()?[3,1]:(Kt.warn(Or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,jT()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Kt.warn(Or.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function Zee(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,l,c,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return a=Gee(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&Kt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return Kt.error(w)}),t.push(a),l=Jee().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],d=c[1],Bee()||Lee(s,h.measurementId),i("js",new Date),v=(g={},g[kee]="firebase",g.update=!0,g),d!=null&&(v[Cee]=d),i(dn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi={},YO=[],XO={},ov="dataLayer",v3="gtag",JO,Jc,F1=!1;function ete(e){if(F1)throw Or.create("already-initialized");e.dataLayerName&&(ov=e.dataLayerName),e.gtagName&&(v3=e.gtagName)}function tte(){var e=[];if(FT()&&e.push("This is a browser extension environment."),x2()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Or.create("invalid-analytics-context",{errorInfo:t});Kt.warn(n.message)}}function nte(e,t){tte();var n=e.options.appId;if(!n)throw Or.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Kt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Or.create("no-api-key");if(Bi[n]!=null)throw Or.create("already-exists",{id:n});if(!F1){Mee(ov);var r=Vee(Bi,YO,XO,ov,v3),i=r.wrappedGtag,s=r.gtagCore;Jc=i,JO=s,F1=!0}Bi[n]=Zee(e,YO,XO,t,JO,ov);var a={app:e,logEvent:function(l,c,h){Ree(Jc,Bi[n],l,c,h).catch(function(d){return Kt.error(d)})},setCurrentScreen:function(l,c){Pee(Jc,Bi[n],l,c).catch(function(h){return Kt.error(h)})},setUserId:function(l,c){Oee(Jc,Bi[n],l,c).catch(function(h){return Kt.error(h)})},setUserProperties:function(l,c){xee(Jc,Bi[n],l,c).catch(function(h){return Kt.error(h)})},setAnalyticsCollectionEnabled:function(l){Dee(Bi[n],l).catch(function(c){return Kt.error(c)})},INTERNAL:{delete:function(){return delete Bi[n],Promise.resolve()}}};return a}var rte="@firebase/analytics",ite="0.6.10",ZO="analytics";function ote(e){e.INTERNAL.registerComponent(new Xn(ZO,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return nte(r,i)},"PUBLIC").setServiceProps({settings:ete,EventName:M1,isSupported:ste})),e.INTERNAL.registerComponent(new Xn("analytics-internal",t,"PRIVATE")),e.registerVersion(rte,ite);function t(n){try{var r=n.getProvider(ZO).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Or.create("interop-component-reg-failed",{reason:i})}}}ote(ee);function ste(){return R(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:if(FT())return[2,!1];if(!x2())return[2,!1];if(!UT())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,jT()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ate=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,ute=(wn={},wn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",wn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",wn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",wn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",wn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",wn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",wn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",wn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",wn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",wn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',wn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',wn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",wn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",wn),Ar=new ms("remoteconfig","Remote Config",ute);function lte(e,t){return e instanceof Fl&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cte(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fte=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,d,v,g,y,w,b,S,E,I,C,P;return A(this,function(O){switch(O.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=O.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:cte()},h={method:"POST",headers:l,body:JSON.stringify(c)},d=fetch(a,h),v=new Promise(function(x,V){t.signal.addEventListener(function(){var M=new Error("The operation was aborted.");M.name="AbortError",V(M)})}),O.label=2;case 2:return O.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return O.sent(),[4,d];case 4:return g=O.sent(),[3,6];case 5:throw y=O.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),Ar.create(w,{originalErrorMessage:y.message});case 6:if(b=g.status,S=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];C=void 0,O.label=7;case 7:return O.trys.push([7,9,,10]),[4,g.json()];case 8:return C=O.sent(),[3,10];case 9:throw P=O.sent(),Ar.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:E=C.entries,I=C.state,O.label=11;case 11:if(I==="INSTANCE_STATE_UNSPECIFIED"?b=500:I==="NO_CHANGE"?b=304:(I==="NO_TEMPLATE"||I==="EMPTY_CONFIG")&&(E={}),b!==304&&b!==200)throw Ar.create("fetch-status",{httpStatus:b});return[2,{status:b,eTag:S,config:E}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hte=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dte=!1,pte="",ex=0,vte=["1","true","t","yes","y","on"],Mw=function(){function e(t,n){n===void 0&&(n=pte),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?dte:vte.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return ex;var t=Number(this._value);return isNaN(t)&&(t=ex),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mte=60*1e3,gte=12*60*60*1e3,yte=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:mte,minimumFetchIntervalMillis:gte},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=me.DEBUG;break;case"silent":this._logger.logLevel=me.SILENT;break;default:this._logger.logLevel=me.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return R(this,void 0,void 0,function(){var t,n,r,i=this;return A(this,function(s){switch(s.label){case 0:t=new hte,setTimeout(function(){return R(i,void 0,void 0,function(){return A(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=lte(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return _te(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new Mw("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new Mw("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Mw("static"))},e}();function _te(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(Ue(Ue({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(e,t){var n=e.target.error||void 0;return Ar.create(t,{originalErrorMessage:n&&n.message})}var Xs="app_namespace_store",wte="firebase_remote_config",Ete=1;function Tte(){return new Promise(function(e,t){var n=indexedDB.open(wte,Ete);n.onerror=function(r){t(sv(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Xs,{keyPath:"compositeKey"})}}})}var bte=function(){function e(t,n,r,i){i===void 0&&(i=Tte()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Xs],"readonly"),c=l.objectStore(Xs),h=r.createCompositeKey(t);try{var d=c.get(h);d.onerror=function(v){a(sv(v,"storage-get"))},d.onsuccess=function(v){var g=v.target.result;s(g?g.value:void 0)}}catch(v){a(Ar.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return R(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Xs],"readwrite"),h=c.objectStore(Xs),d=i.createCompositeKey(t);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(g){l(sv(g,"storage-set"))},v.onsuccess=function(){a()}}catch(g){l(Ar.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.delete=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Xs],"readwrite"),c=l.objectStore(Xs),h=r.createCompositeKey(t);try{var d=c.delete(h);d.onerror=function(v){a(sv(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(Ar.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ite=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ste(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Ar.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Cte(e){if(!(e instanceof Fl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var kte=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return R(this,void 0,void 0,function(){var s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,Ste(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!Cte(a))throw a;return l={throttleEndTimeMillis:Date.now()+ME(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),tx="@firebase/remote-config",Nte="0.1.37";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ate(e){e.INTERNAL.registerComponent(new Xn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(tx,Nte);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Ar.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,d=l.appId;if(!c)throw Ar.create("registration-project-id");if(!h)throw Ar.create("registration-api-key");if(!d)throw Ar.create("registration-app-id");i=i||"firebase";var v=new bte(d,s.name,i),g=new Ite(v),y=new Ul(tx);y.logLevel=me.ERROR;var w=new fte(a,e.SDK_VERSION,i,c,h,d),b=new kte(w,v),S=new ate(b,v,g,y),E=new yte(s,S,g,v,y);return E.ensureInitialized(),E}}Ate(ee);var Rte="firebase",Pte="8.5.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ee.registerVersion(Rte,Pte,"app");var Ote="firebase",xte="8.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ee.registerVersion(Ote,xte);const Dte={apiKey:"AIzaSyBRhYgfKEKEemLLTnoNI_fobnKDDWW9jBI",authDomain:"myfinance-260f1.firebaseapp.com",projectId:"myfinance-260f1",storageBucket:"myfinance-260f1.appspot.com",messagingSenderId:"271832091793",appId:"1:271832091793:web:8312ff3173f717f5bcc330"};ee.initializeApp(Dte);ee.firestore();const Gg=ee.auth(),m3=F.createContext(),Lte=(e,t)=>{switch(t.type){case"LOGIN":return{...e,user:t.payload};case"LOGOUT":return{...e,user:null};case"AUTH_IS_READY":return{...e,user:t.payload,authIsReady:!0};default:return e}},Mte=({children:e})=>{const[t,n]=F.useReducer(Lte,{user:null,authIsReady:!1});return F.useEffect(()=>{const r=Gg.onAuthStateChanged(i=>{n({type:"AUTH_IS_READY",payload:i}),r()})},[]),console.log("Auth Context State: ",t),G.jsx(m3.Provider,{value:{...t,dispatch:n},children:e})},rd=()=>{const e=F.useContext(m3);if(!e)throw new Error("useAuth context must be inside an AuthContextProvider");return e},Fte=()=>{const[e,t]=F.useState(!1),[n,r]=F.useState(null),[i,s]=F.useState(!1),{dispatch:a}=rd(),l=zm();return{login:async(h,d)=>{r(null),s(!0);try{const v=await Gg.signInWithEmailAndPassword(h,d);a({type:"LOGIN",payload:v.user}),e||(s(!1),r(null),we.success("Logged in successfully",{autoClose:2e3}),l("/"))}catch(v){e||(r(v.message),s(!1),we.error("Email or Password is Invalid",{autoClose:2e3}))}F.useEffect(()=>()=>t(!0),[])},error:n,isPending:i}},Ute={"login-form":"_login-form_vgg72_1"};function jte(){const[e,t]=F.useState(""),[n,r]=F.useState(""),{login:i,error:s,isPending:a}=Fte(),l=c=>{if(c.preventDefault(),!e&&!n){we.error("Please Enter Credentials",{autoClose:2e3});return}else if(e===""){we.error("Please Enter Email",{autoClose:2e3});return}else if(n===""){we.error("Please Enter Password",{autoClose:2e3});return}else if(e&&n){i(e,n);return}else{we.error(s.message,{autoClose:2e3});return}};return G.jsxs("form",{onSubmit:l,className:Ute["login-form"],children:[G.jsx("h2",{children:"Login"}),G.jsxs("label",{children:[G.jsx("span",{children:"Email:"}),G.jsx("input",{type:"email",onChange:c=>t(c.target.value),value:e,placeholder:"name@email.com"})]}),G.jsxs("label",{children:[G.jsx("span",{children:"Password"}),G.jsx("input",{type:"password",value:n,onChange:c=>r(c.target.value),placeholder:"*********"})]}),!a&&G.jsx("button",{className:"btn",children:"Login"}),a&&G.jsx("button",{className:"btn-loading",disabled:!0,children:"loading"}),G.jsx(gf,{to:"/signup",style:{color:"blue",fontSize:"14px",textAlign:"end"},children:G.jsx("span",{children:"create an account"})})]})}const Vte=()=>{const[e,t]=F.useState(!1),[n,r]=F.useState(null),[i,s]=F.useState(!1),{dispatch:a}=rd(),l=zm(),c=async(h,d,v)=>{r(null),s(!0);try{const g=await Gg.createUserWithEmailAndPassword(d,v);if(!g)throw new Error("Couldn't complete signup");await g.user.updateProfile({displayName:h}),a({type:"LOGIN",payload:g.user}),e||(s(!1),r(null),we.success("Account created successfully",{autoClose:2e3}),l("/"))}catch(g){e||(console.log(g.message),r(g.message),s(!1),we(g.message,{autoClose:2e3,type:"error"}))}};return F.useEffect(()=>()=>t(!0),[]),{signup:c,error:n,isPending:i}},Zc={"signup-form":"_signup-form_1fsu4_1","valid-input":"_valid-input_1fsu4_47","invalid-input":"_invalid-input_1fsu4_55"};function Bte(){const[e,t]=F.useState(""),[n,r]=F.useState(""),[i,s]=F.useState(""),[a,l]=F.useState(""),[c,h]=F.useState(!1),[d,v]=F.useState(!1),{signup:g,isPending:y,error:w}=Vte(),b=I=>{const C=I.target.value;r(C);const P=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(C);h(P),v(C===i)},S=I=>{s(I.target.value),v(n===I.target.value)},E=I=>{if(I.preventDefault(),!a||!e||!n||!i)we.error("Please fill out each input fields",{autoClose:2e3});else if(c)if(d){if(d){g(a,e,n);return}}else{we.warning("Passwords do not match. Please confirm your password.",{autoClose:2e3});return}else{we.error("Password is invalid. Please follow the password requirements.",{autoClose:2e3});return}console.log(w)};return G.jsxs("form",{onSubmit:E,className:Zc["signup-form"],children:[G.jsx("h2",{children:"Signup"}),G.jsxs("label",{children:[G.jsx("span",{children:"username:"}),G.jsx("input",{type:"text",onChange:I=>l(I.target.value),value:a,placeholder:"freshfries01"})]}),G.jsxs("label",{children:[G.jsx("span",{children:"email:"}),G.jsx("input",{type:"text",onChange:I=>t(I.target.value),value:e,placeholder:"name@email.com"})]}),G.jsxs("label",{children:[G.jsx("span",{children:"password:"}),G.jsx("input",{type:"password",value:n,onChange:b,placeholder:"*********",className:c?Zc["valid-input"]:Zc["invalid-input"]}),c?G.jsx("p",{children:"Password is valid!"}):G.jsx("p",{children:"Password must contain at least one uppercase & lowercase letter, one digit, one special character, and be at least 8 characters long."})]}),G.jsxs("label",{children:[G.jsx("span",{children:"confirm password:"}),G.jsx("input",{type:"password",value:i,onChange:S,placeholder:"*********",className:d?Zc["valid-input"]:Zc["invalid-input"]}),d?G.jsx("p",{children:"Password Matched"}):G.jsx("p",{children:"Password must match"})]}),!y&&G.jsx("button",{className:"btn",children:"Signup"}),y&&G.jsx("button",{className:"btn-loading",disabled:!0,children:"loading"}),G.jsx(gf,{to:"/login",style:{color:"blue",fontSize:"14px",textAlign:"end"},children:G.jsx("span",{children:"login instead"})})]})}const $te=()=>{const[e,t]=F.useState(!1),[n,r]=F.useState(null),[i,s]=F.useState(!1),{dispatch:a}=rd(),l=async()=>{r(null),s(!0);try{await Gg.signOut(),a({type:"LOGOUT"}),e||(s(!1),r(null),we.success("Logged out successfully",{autoClose:2e3}))}catch(c){e||(console.log(c.messaga),r(c.messaga),s(!1),we.error("Logout unsuccessful",{autoClose:2e3}))}};return F.useEffect(()=>()=>t(!0),[]),{logout:l,error:n,isPending:i}},qte="_navbar_4z8hw_3",zte="_title_4z8hw_27",nx={navbar:qte,title:zte};function Wte(){const{logout:e}=$te(),{user:t}=rd();return G.jsx("nav",{className:nx.navbar,children:G.jsxs("ul",{className:"",children:[G.jsx("li",{className:nx.title,children:G.jsx(gf,{to:"/",children:"myFinance"})}),t?G.jsxs(G.Fragment,{children:[G.jsxs("li",{children:["Hello, ",G.jsx("span",{style:{textTransform:"capitalize",fontWeight:"bold"},children:t.displayName})]}),G.jsx("li",{children:G.jsx("button",{className:"btn",onClick:e,children:"Logout"})})]}):G.jsxs(G.Fragment,{children:[G.jsx("li",{style:{marginRight:"4px"},children:G.jsx(gf,{to:"/login",children:"Login"})}),G.jsx("li",{children:G.jsx(gf,{to:"/signup",children:"Signup"})})]})]})})}function Hte(){const{authIsReady:e,user:t}=rd();return G.jsx("div",{className:"App",children:e&&G.jsxs(B6,{children:[G.jsx(Wte,{}),G.jsxs(L6,{children:[G.jsx(Xp,{path:"/",element:t?G.jsx(nW,{}):G.jsx(Y_,{to:"/login"})}),G.jsx(Xp,{path:"/login",element:t?G.jsx(Y_,{to:"/"}):G.jsx(jte,{})}),G.jsx(Xp,{path:"/signup",element:t?G.jsx(Y_,{to:"/"}):G.jsx(Bte,{})})]}),G.jsx(xE,{})]})})}Fw.createRoot(document.getElementById("root")).render(G.jsx(Me.StrictMode,{children:G.jsx(Mte,{children:G.jsx(Hte,{})})}));
